(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+8S5":function(e,t,n){"use strict";var i=n("lGiw");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},"+nEu":function(e,t,n){"use strict";var i=n("MuGU");t.a=i.a},"/PDM":function(e,t,n){"use strict";e.exports=n("h+Pp")},"/Sfn":function(e,t,n){var i=n("Gt2n");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("c46bb954",i,!1,{})},"/gL7":function(e,t,n){"use strict";t.a={props:{subLine:{type:Object,default:{show:!1,l:{show:!1,l:0,t:0,h:0},r:{show:!1,l:0,t:0,h:0},t:{show:!1,l:0,t:0,w:0},b:{show:!1,l:0,t:0,w:0}}}},data:function(){return{subLineKeys:["l","r","t","b"]}},mounted:function(){this.$nextTick((function(){}))},methods:{styleComputed:function(e){var t=this.subLine[e],n={left:t.l+"px",top:t.t+"px"};return"l"===e||"r"===e?n.height=t.h+"px":n.width=t.w+"px",n}}}},"00iE":function(e,t,n){var i=n("8nkF");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("0c4f4492",i,!1,{})},"0L+3":function(e,t,n){"use strict";var i=n("DCzh"),r=n("c5cU"),o=(n("F0Dn"),n("KHd+")),a=Object(o.a)(r.a,i.a,i.b,!1,null,"4e8e135a",null);a.options.__file="src/view/detailDetach/annotation/multipleLine.vue",t.a=a.exports},"0Qwr":function(e,t,n){"use strict";var i=n("1ADR");n.n(i).a},"1ADR":function(e,t,n){var i=n("k1pJ");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("1de5c5ba",i,!1,{})},"1d4F":function(e,t,n){"use strict";t.a=function(e,t){return null!=e&&t in Object(e)}},"2/mU":function(e,t,n){"use strict";var i=n("MKnB"),r=n("K160");t.a=function(e,t){return Object(i.a)(e,t,(function(t,n){return Object(r.a)(e,n)}))}},"23da":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e,t,n=this,i=n.$createElement,r=n._self._c||i;return r("div",{class:{"multi-text-field-wrap":!0,focus:n.inputFocus},style:{height:n.textFieldHeight+"px"},on:{click:function(e){return e.stopPropagation(),n.textFieldWrapClick(e)}}},[r("div",{directives:[{name:"show",rawName:"v-show",value:n.isShowPlaceholder,expression:"isShowPlaceholder"}],class:(e={"multi-text-placeholder":!0},e[n.hintTextClass]=""!==n.hintTextClass,e)},[n._v("\n    "+n._s(n.hintText)+"\n  ")]),n._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:n.isShowInput,expression:"isShowInput"}],ref:"multiTextField",class:(t={"multi-text-field":!0},t[n.inputClass]=""!==n.inputClass,t[n.commentInputClass]=1,t),attrs:{contenteditable:""},on:{input:n.changeInputValue,blur:n.textFieldWrapBlur}}),n._v(" "),r("div",{staticClass:"multi-text-line"}),n._v(" "),r("div",{staticClass:"multi-text-focus-line"})])},r=[];i._withStripped=!0},"2sEx":function(e,t){e.exports=function(e){return e}},"4coj":function(e,t,n){var i=n("sEG9");(e.exports=n("I1BE")(!1)).push([e.i,".mark_box[data-v-30191b3a] {\n  cursor: url("+i(n("dqn1"))+"), crosshair;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  z-index: 9;\n}\n.mark_box .btn_box[data-v-30191b3a] {\n  display: -webkit-flex;\n  display: flex;\n  -webkit-justify-content: flex-end;\n          justify-content: flex-end;\n}\n.mark_box .btn_box button[data-v-30191b3a] {\n  margin-left: 12px;\n}\n.mark_box .arrow[data-v-30191b3a] {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border: 6px solid transparent;\n}\n.mark_box .arrow.arrow_left[data-v-30191b3a] {\n  left: -12px;\n  border-right-color: #fff;\n}\n.mark_box .arrow.arrow_right[data-v-30191b3a] {\n  right: -12px;\n  border-left-color: #fff;\n}\n.mark_box .mark[data-v-30191b3a] {\n  -webkit-user-select: none;\n          user-select: none;\n  cursor: move;\n  position: absolute;\n  top: 0;\n  left: 0;\n  /*border: 2px solid #fff;*/\n  /*background: $red;*/\n  /*width: 24px !important;*/\n  /*height: 24px !important;*/\n  /*line-height: 20px;*/\n  /*font-size: 12px;*/\n  border-radius: 100%;\n  color: #fff;\n  text-align: center;\n  /* update for 2019.1.17 */\n  width: 34px !important;\n  height: 34px !important;\n  background: linear-gradient(180deg, #ff8181 0%, #ef1010 100%);\n  box-shadow: 0px 5px 8px 0px rgba(0, 0, 0, 0.3);\n  border: 2px solid white;\n  font-size: 20px;\n  line-height: 30px;\n}\n.mark_box .mark.grey[data-v-30191b3a] {\n  background: #9fa2a8;\n}\n.mark_box .comment_text[data-v-30191b3a] {\n  position: absolute;\n  width: 360px;\n  background: #fff;\n  padding: 24px;\n  border-radius: 4px;\n  cursor: auto;\n  pointer-events: auto;\n}\n.mark_box .mark_area[data-v-30191b3a] {\n  -webkit-user-select: none;\n          user-select: none;\n  transition: none;\n  cursor: move;\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: 2px solid #ff3756;\n  box-sizing: border-box;\n}\n.mark_box .mark_area.grey[data-v-30191b3a] {\n  border-color: #9fa2a8;\n}\n.mark_box .mark_area .mark_br[data-v-30191b3a] {\n  color: #fff;\n  border-radius: 100%;\n  text-align: center;\n  /*line-height: 20px;*/\n  /*font-size: 12px;*/\n  /*border: 2px solid #fff;*/\n  /*width: 24px;*/\n  /*height: 24px;*/\n  position: absolute;\n  /*right: -10px;\n        bottom: -10px;*/\n  /*background: $red;*/\n  /* update for 2019.1.17 */\n  width: 34px !important;\n  height: 34px !important;\n  background: linear-gradient(180deg, #ff8181 0%, #ef1010 100%);\n  box-shadow: 0px 5px 8px 0px rgba(0, 0, 0, 0.3);\n  border: 2px solid white;\n  font-size: 20px;\n  line-height: 30px;\n  right: -17px;\n  bottom: -17px;\n}\n.mark_box .mark_area > span[data-v-30191b3a] {\n  width: 8px;\n  height: 8px;\n  background: #fff;\n  border: 2px solid #ff3756;\n  border-radius: 100%;\n  position: absolute;\n}\n.mark_box .mark_area > span.mark_tl[data-v-30191b3a] {\n  top: -5px;\n  left: -5px;\n  cursor: nwse-resize;\n}\n.mark_box .mark_area > span.mark_tc[data-v-30191b3a] {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: ns-resize;\n}\n.mark_box .mark_area > span.mark_tr[data-v-30191b3a] {\n  top: -5px;\n  right: -5px;\n  cursor: nesw-resize;\n}\n.mark_box .mark_area > span.mark_cl[data-v-30191b3a] {\n  margin-top: -3px;\n  top: 50%;\n  left: -5px;\n  cursor: ew-resize;\n}\n.mark_box .mark_area > span.mark_cr[data-v-30191b3a] {\n  margin-top: -3px;\n  top: 50%;\n  right: -5px;\n  cursor: ew-resize;\n}\n.mark_box .mark_area > span.mark_bl[data-v-30191b3a] {\n  bottom: -5px;\n  left: -5px;\n  cursor: nesw-resize;\n}\n.mark_box .mark_area > span.mark_bc[data-v-30191b3a] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: ns-resize;\n}\n.mark_box.doc-mark-box[data-v-30191b3a] {\n  top: 54px;\n  /*left: 270px;*/\n  left: 300px;\n}",""])},"5N2e":function(e,t,n){"use strict";var i=n("JkUB"),r=n("ZV30"),o=(n("uKFF"),n("KHd+")),a=Object(o.a)(r.a,i.a,i.b,!1,null,"6b4820e4",null);a.options.__file="src/view/detailDetach/annotation/subLine.vue",t.a=a.exports},"5xSE":function(e,t,n){"use strict";e.exports=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},"6S5g":function(e,t,n){var i=n("AfgE"),r=n("Rkbe"),o=n("UrCq");function a(e){return this instanceof a?(this.nodes=i(e),this):new a(e)}a.prototype.toString=function(){return Array.isArray(this.nodes)?o(this.nodes):""},a.prototype.walk=function(e,t){return r(this.nodes,e,t),this},a.unit=n("iLvy"),a.walk=r,a.stringify=o,e.exports=a},"6vqZ":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},"7OFd":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],class:["copy-tips",this.location],style:{top:this.top+"px",left:this.left+"px"}},[this._v("\n  "+this._s(this.$i18n("复制成功"))),t("span",{staticClass:"triangle-box"})])},r=[];i._withStripped=!0},"8CFH":function(e,t,n){"use strict";var i=n("T+BI"),r=n("GsG+"),o=(n("hNyI"),n("KHd+")),a=Object(o.a)(r.a,i.a,i.b,!1,null,null,null);a.options.__file="src/view/detailDetach/box.vue",t.a=a.exports},"8DFK":function(e,t){e.exports=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt",document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=e.length;var n=!1;try{n=document.execCommand("copy")}catch(e){}return document.body.removeChild(t),n}},"8ccr":function(e,t,n){"use strict";(function(e){var i=n("dYt1"),r=n("fujP"),o=n("NTuW"),a=n("0TZp"),s=n("ZtmH"),l=n("8DFK"),c=n.n(l),u=n("SnUP");function d(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}t.a={name:"Layers",components:{copyTips:u.a},mixins:[s.a],props:["layers","scale","type","keyState","resoluScale","resoluId","marginDistance","layerEquare","useLineMultiple","percentMode","customUnit","flowData"],data:function(){return{sliceListData:[],selectedSliceMap:{},sliceIdArr:[],selectedSliceIdArr:[],bus:Object(o.a)(this),showInfoId:"",showInfoIndex:"",down:!1,move:!1,line:!1,skipLayerFlag:!1,selectLayer:null,copyTips:{top:0,left:0,show:!1,location:"top"},tipsTimer:null}},computed:{g_detail:{get:function(){return this.$g.data.board.detail},set:function(e){this.$g.data.board.detail=e}}},watch:{showInfoIndex:function(e){this.g_detail.showInfoIndex=e},line:function(e){this.g_detail.slice_line=e},move:function(e){e&&this.down&&(this.copyTips.show=!1)}},created:function(){var e=this;this.bus.$on("showRightinfo",(function(){e.showInfo(0)})),o.a.$emit("showAllSlice",!1),Object(r.a)(window.g.data.board.detail)||(window.g.data.board.detail.selectLayers=[])},mounted:function(){var e=this;this.$nextTick((function(){})),this.$g.data.board.detail.allSliceVisbile=!1,this.bus.$on("selectedSliceArrChange",(function(t){var n=t.selectedSliceArr,i=t.sliceListData;e.sliceListData=i,e.selectedSliceIdArr=n.map((function(e){return e.web_id})),e.sliceIdArr=i.map((function(e){return e.web_id})),e.selectedSliceMap={},n.forEach((function(t){e.selectedSliceMap[t.web_id]=t.name}))})),this.bus.$emit("layersMounted",this.type),this.line=a.a.getSet("line"),this.bus.$on("clickMarkItem",(function(){e.showInfoIndex=""})),this.bus.$on("requestImageData",(function(){e.bus.$emit("getImageData",e.layers)})),this.bus.$emit("getImageData",this.layers),this.bus.$on("changeline",(function(t){e.line=t})),this.bus.$on("onClickLayerItem",(function(t){var n=t.item,i=t.event,r=e.g_detail.layers.findIndex((function(e){return e.id===n.id}));e.clickLayerItem(n),e.showline(r,i),e.showInfo(r),e.down=!0})),document.addEventListener("mousemove",this.mousemoveHandle),document.addEventListener("keydown",this.copyLayerText)},beforeDestroy:function(){document.removeEventListener("mousemove",this.mousemoveHandle)},methods:{clickLayerItem:function(e){var t;(console.log("点击图层",e,this.type),this.selectLayer=e,this.bus.$emit("contextMenuStatus",!1),window.g.data.board.detail.allSliceVisbile)&&(this.sliceListData.forEach((function(n){n.web_id===e.web_id&&(t=n)})),t&&(o.a.$emit("showAllSlice",!0),t.isSelected=!t.isSelected,o.a.$emit("sliceListDataChange",this.sliceListData)))},mousemoveHandle:function(){if(this.skipLayerFlag){this.skipLayerFlag=!1;var e,t=d(this.layers);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.$set(n,"skip_select",!1)}}catch(e){t.e(e)}finally{t.f()}}},goNext:function(e,t){if("跳转页面未上传"==t)return LanhuDialog.msg(this.$i18n("跳转页面未上传"),"","onlyok"),!1;if(console.log(e),"back"!=e){var n=Object(i.a)(this.$route.query);n.image_id=e,n.hot=!0,this.$router.push({name:"detail",query:n})}else router.back()},getModel:function(e){return this.$parent.getModel(e)},showline:function(t,n){this.g_detail.hoverIndex=t,this.$emit("hideline"),e(this.$refs.layeritem[t]).hasClass("layer_select")||this.$emit("showline",t,this.showInfoIndex,this.$refs.layeritem[this.showInfoIndex],n),this.showInfoIndex&&t!=this.showInfoIndex&&e(this.$refs.layeritem[this.showInfoIndex]).addClass("hide")},hideline:function(){e(".layers_item").removeClass("hide"),this.$emit("hideline")},showInfo:function(e){window.contextMenu&&window.contextMenu.insetId&&this.layers[e].id!==window.contextMenu.insetId&&this.bus.$emit("resetLayers"),this.useLineMultiple?this.$emit("addMultipleChose",{idx:e}):(this.$emit("cancelAllLineChose"),this.hideline(),o.a.$emit("showinfo",this.layers[e],this.type),this.showInfoIndex=e,this.move=!1,this.down=!1,0===e?this.mousemoveHandle():(this.$set(this.layers[e],"skip_select",!0),this.skipLayerFlag=!0))},mousemove:function(e,t,n){n&&this.down&&(this.move=!0),this.$emit("mymousemove",e,this.showInfoIndex,this.$refs.layeritem[this.showInfoIndex],t)},copyLayerText:function(e){var t=e.keyCode,n=e.ctrlKey||e.metaKey;if(67!==t||!n)return!1;if(window.getSelection().toString().trim())return!1;if(!this.selectLayer)return!1;if(this.$parent.selectLayers.length)return!1;if(!["text","textLayer"].includes(this.selectLayer.type))return!1;var i="";if("pl"===this.type?i=this.selectLayer.font.content:"ps"===this.type&&(i=this.selectLayer.textInfo.text),c()(i)){this.calcTipsLocation();try{window.Analyze("ctrlc_copy_text")}catch(e){console.log("统计错误")}}},calcTipsLocation:function(){var e=document.body.clientWidth,t=document.querySelector(".layer_select"),n=(null==t?void 0:t.getBoundingClientRect())||{top:0,left:0,width:0,height:0},i=n.top>30,r=n.left<55,o=n.left+n.width>e-300,a=0;if(r||o)if(r&&o){var s=n.left+n.width;a=(s-(s-(e-300)))/2-34}else r&&!o?a=(n.left+n.width)/2-34:!r&&o&&(a=(n.left+n.width-(n.width-(e-300)))/2-34);else a=n.left+n.width/2-34;this.copyTips.left=a,this.copyTips.top=i?n.top-30:n.top+n.height,this.copyTips.location=i?"top":"bottom",this.toggleCopyTips()},toggleCopyTips:function(){var e=this;this.copyTips.show=!0,this.tipsTimer&&(clearTimeout(this.tipsTimer),this.tipsTimer=null),this.tipsTimer=setTimeout((function(){e.copyTips.show=!1}),1500)}}}}).call(this,n("EVdn"))},"8m1m":function(e,t,n){"use strict";var i=n("vqyQ");n.n(i).a},"8nkF":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".multi-text-field span {\n  color: #2878ff;\n  border-radius: 10px;\n  padding: 0px 0px;\n  margin-bottom: 5px;\n  word-break: break-word;\n  display: inline-block;\n}",""])},"9VvA":function(e,t,n){"use strict";(function(e){var i=n("kuND"),r=n("kyqj"),o=n("NTuW");t.a={name:"MultiTextField",model:{prop:"value",event:"change"},props:{value:{type:String,default:""},initValue:{type:String,default:""},hintText:{type:String,default:""},hintTextClass:{type:String,default:""},inputClass:{type:String,default:""},rows:{type:Number,default:1},removeNode:{type:String,default:""},addNode:{type:String,default:""},atIndex:{type:Number,default:0},userIds:{type:Array,default:[]},content:{type:String,default:""}},data:function(){return{commentInputClass:i.e,inputValue:"",inputFocus:!0,multiInputRef:null,bus:Object(o.a)(this),timer:null,range:null,section:null,focusNode:null,focusOffset:0,doing:!1}},computed:{isShowInput:function(){return this.inputFocus||""!==this.inputValue},isShowPlaceholder:function(){return""===this.inputValue},textFieldHeight:function(){return this.rows*i.c}},watch:{value:function(e,t){e&&!this.inputValue&&(this.inputValue=e),e!==this.inputValue&&(this.inputValue=e),e&&!e.includes("</span>")&&this.updateContent(e)},addNode:function(e){if(e){var t=this.removeNode,n=e,i=this.focusNode,o=this.focusOffset;if(i){var a=document.createRange(),s=Object(r.b)();s.removeAllRanges(),a.selectNodeContents(this.multiInputRef),a.setStart(i,o-1),a.collapse(!1),s.addRange(a)}this.makeInputFocus(),this.updateContentHtml(t,n)}},inputValue:function(e){var t=this.multiInputRef.childNodes,n=Array.prototype.slice.call(t),i=[];i=(i=this.getIds(n,i))||[],this.$emit("update:userIds",i)}},mounted:function(){this.multiInputRef=this.$refs.multiTextField,this.init(),this.initEvent()},beforeDestroy:function(){this.multiInputRef.removeEventListener("keydown",this.onKeydown),this.$refs.multiTextField.removeEventListener("compositionstart",this.changeDoingStart),this.$refs.multiTextField.removeEventListener("compositionend",this.changeDoingEnd)},methods:{init:function(){var e=this;this.initValue&&(this.multiInputRef.innerHTML=this.initValue,this.updateRichText(this.initValue),setTimeout((function(){Object(r.k)(e.multiInputRef)})))},initEvent:function(){e(this.multiInputRef).unbind("keydown"),this.multiInputRef.addEventListener("keydown",this.onKeydown),this.$refs.multiTextField.addEventListener("compositionstart",this.changeDoingStart,!1),this.$refs.multiTextField.addEventListener("compositionend",this.changeDoingEnd,!1)},changeDoingStart:function(e){this.doing=!0},changeDoingEnd:function(e){this.doing=!1,this.changeInputValue(e)},getIds:function(e,t){var n=this;return e.forEach((function(e){if(1===e.nodeType){var i=e.getAttribute("lh-user-id");i&&t.push(i)}var r=e.childNodes,o=Array.prototype.slice.call(r);o.length&&n.getIds(o,t)})),t},onKeydown:function(){var e=this;this.bus.$emit("preventUpDown",!0),null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.bus.$emit("preventUpDown",!1)}),300)},makeInputFocus:function(){this.multiInputRef.focus()},changeInputValue:function(e){this.range=Object(r.a)(),this.selection=Object(r.b)(),this.focusNode=Object(r.d)(),this.focusOffset=Object(r.c)();var t=e.target.innerHTML;this.doing?console.warn("is entering cn input"):(console.log("multiTextField.vue changeInputValue() value: ",t),this.updateRichText(t))},updateRichText:function(e){this.inputValue=e,this.$emit("change",e)},textFieldWrapBlur:function(){this.inputFocus&&(this.inputFocus=!1)},textFieldWrapClick:function(){var e=this;this.inputFocus||(this.inputFocus=!0,setTimeout((function(){e.makeInputFocus()})))},updateContentHtml:function(e,t){var n=this;e&&Object(r.l)(e,this.focusNode),t&&Object(r.e)(t,this.range,this.selection),this.syncContent(),setTimeout((function(){n.$emit("update:removeNode",""),n.$emit("update:addNode","")}))},syncContent:function(){var e=this.multiInputRef.innerHTML,t=Object(r.m)(e);console.log("syncContent() content: ",t),this.updateContent(t),this.updateRichText(e)},updateContent:function(e){this.$emit("update:content",e)}}}}).call(this,n("EVdn"))},"A+mB":function(e,t,n){"use strict";t.a={methods:{staticCommentSubmit:function(){this.isProductPage?window.Analyze("prdcomment",{cancelorok:"ok"}):window.Analyze("designcomment",{cancelorok:"ok"})},staticCommentCancel:function(){this.isProductPage?window.Analyze("prdcomment",{cancelorok:"cancel"}):window.Analyze("designcomment",{cancelorok:"cancel"})}}}},ALCY:function(e,t,n){"use strict";var i=n("P9AH");n.n(i).a},AfgE:function(e,t){var n="(".charCodeAt(0),i=")".charCodeAt(0),r="'".charCodeAt(0),o='"'.charCodeAt(0),a="\\".charCodeAt(0),s="/".charCodeAt(0),l=",".charCodeAt(0),c=":".charCodeAt(0),u="*".charCodeAt(0);e.exports=function(e){for(var t,d,h,f,p,m,g,b,v=[],x=e,w=0,y=x.charCodeAt(w),_=x.length,k=[{nodes:v}],I=0,M="",C="",S="";w<_;)if(y<=32){t=w;do{t+=1,y=x.charCodeAt(t)}while(y<=32);f=x.slice(w,t),h=v[v.length-1],y===i&&I?S=f:h&&"div"===h.type?h.after=f:y===l||y===c||y===s&&x.charCodeAt(t+1)!==u?C=f:v.push({type:"space",sourceIndex:w,value:f}),w=t}else if(y===r||y===o){t=w,f={type:"string",sourceIndex:w,quote:d=y===r?"'":'"'};do{if(p=!1,~(t=x.indexOf(d,t+1)))for(m=t;x.charCodeAt(m-1)===a;)m-=1,p=!p;else t=(x+=d).length-1,f.unclosed=!0}while(p);f.value=x.slice(w+1,t),v.push(f),w=t+1,y=x.charCodeAt(w)}else if(y===s&&x.charCodeAt(w+1)===u)f={type:"comment",sourceIndex:w},-1===(t=x.indexOf("*/",w))&&(f.unclosed=!0,t=x.length),f.value=x.slice(w+2,t),v.push(f),w=t+2,y=x.charCodeAt(w);else if(y===s||y===l||y===c)f=x[w],v.push({type:"div",sourceIndex:w-C.length,value:f,before:C,after:""}),C="",w+=1,y=x.charCodeAt(w);else if(n===y){t=w;do{t+=1,y=x.charCodeAt(t)}while(y<=32);if(f={type:"function",sourceIndex:w-M.length,value:M,before:x.slice(w+1,t)},w=t,"url"===M&&y!==r&&y!==o){t-=1;do{if(p=!1,~(t=x.indexOf(")",t+1)))for(m=t;x.charCodeAt(m-1)===a;)m-=1,p=!p;else t=(x+=")").length-1,f.unclosed=!0}while(p);g=t;do{g-=1,y=x.charCodeAt(g)}while(y<=32);f.nodes=w!==g+1?[{type:"word",sourceIndex:w,value:x.slice(w,g+1)}]:[],f.unclosed&&g+1!==t?(f.after="",f.nodes.push({type:"space",sourceIndex:g+1,value:x.slice(g+1,t)})):f.after=x.slice(g+1,t),w=t+1,y=x.charCodeAt(w),v.push(f)}else I+=1,f.after="",v.push(f),k.push(f),v=f.nodes=[],b=f;M=""}else if(i===y&&I)w+=1,y=x.charCodeAt(w),b.after=S,S="",I-=1,k.pop(),v=(b=k[I]).nodes;else{t=w;do{y===a&&(t+=1),t+=1,y=x.charCodeAt(t)}while(t<_&&!(y<=32||y===r||y===o||y===l||y===c||y===s||y===n||y===i&&I));f=x.slice(w,t),n===y?M=f:v.push({type:"word",sourceIndex:w,value:f}),w=t}for(w=k.length-1;w;w-=1)k[w].unclosed=!0;return k[0].nodes}},Btb4:function(e,t,n){"use strict";var i=n("cDf5"),r=n("5xSE"),o=n("p+I8"),a=n("GAX2").default;e.exports=function(e,t,n){var s=[];return function e(t,n,l){var c;(n=n||{}).indent=n.indent||"\t",l=l||"",c=void 0===n.inlineCharacterLimit?{newLine:"\n",newLineOrSpace:"\n",pad:l,indent:l+n.indent}:{newLine:"@@__STRINGIFY_OBJECT_NEW_LINE__@@",newLineOrSpace:"@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@",pad:"@@__STRINGIFY_OBJECT_PAD__@@",indent:"@@__STRINGIFY_OBJECT_INDENT__@@"};var u=function(e){if(void 0===n.inlineCharacterLimit)return e;var t=e.replace(new RegExp(c.newLine,"g"),"").replace(new RegExp(c.newLineOrSpace,"g")," ").replace(new RegExp(c.pad+"|"+c.indent,"g"),"");return t.length<=n.inlineCharacterLimit?t:e.replace(new RegExp(c.newLine+"|"+c.newLineOrSpace,"g"),"\n").replace(new RegExp(c.pad,"g"),l).replace(new RegExp(c.indent,"g"),l+n.indent)};if(-1!==s.indexOf(t))return'"[Circular]"';if(null==t||"number"==typeof t||"boolean"==typeof t||"function"==typeof t||"symbol"===i(t)||r(t))return String(t);if(t instanceof Date)return"new Date('".concat(t.toISOString(),"')");if(Array.isArray(t)){if(0===t.length)return"[]";s.push(t);var d="["+c.newLine+t.map((function(i,r){var o=t.length-1===r?c.newLine:","+c.newLineOrSpace,a=e(i,n,l+n.indent);return n.transform&&(a=n.transform(t,r,a)),c.indent+a+o})).join("")+c.pad+"]";return s.pop(),u(d)}if(o(t)){var h=Object.keys(t).concat(a(t));if(n.filter&&(h=h.filter((function(e){return n.filter(t,e)}))),0===h.length)return"{}";s.push(t);var f="{"+c.newLine+h.map((function(r,o){var a=h.length-1===o?c.newLine:","+c.newLineOrSpace,s="symbol"===i(r),u=!s&&/^[a-z$_][a-z$_0-9]*$/i.test(r),d=s||u?r:e(r,n),f=e(t[r],n,l+n.indent);return n.transform&&(f=n.transform(t,r,f)),c.indent+String(d)+": "+f+a})).join("")+c.pad+"}";return s.pop(),u(f)}return t=String(t).replace(/[\r\n]/g,(function(e){return"\n"===e?"\\n":"\\r"})),!1===n.singleQuotes?(t=t.replace(/"/g,'\\"'),'"'.concat(t,'"')):(t=t.replace(/\\?'/g,"\\'"),"'".concat(t,"'"))}(e,t,n)}},Bw5p:function(e,t,n){"use strict";var i=n("2/mU"),r=n("Tjpy"),o=Object(r.a)((function(e,t){return null==e?{}:Object(i.a)(e,t)}));t.a=o},CErk:function(e,t,n){var i=n("DPx9");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("764e2b9c",i,!1,{})},Ccxl:function(e,t,n){e.exports=n.p+"imgs/tip37572194.png"},Ckfz:function(e,t,n){"use strict";var i=n("/Sfn");n.n(i).a},DCzh:function(e,t,n){"use strict";var i=n("NxC1");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},DPx9:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'@charset "UTF-8";\n/* 颜色 */\n/** 统一按钮颜色, 状态: 默认, hover颜色, 激活颜色 */\n/*全黑*/\n/*纯黑*/\n/*黑*/\n/*深灰*/\n/*背景色*/\n/* 字号 */\n/*特殊字体*/\na[data-v-89e91020] {\n  color: #2878FF;\n}\n.layer_box[data-v-89e91020] {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n.layer_box .layer_line[data-v-89e91020] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.layer_box .layer_line > div[data-v-89e91020] {\n  position: absolute;\n  overflow: hidden;\n  border: 1px dashed #5393FF;\n  box-sizing: border-box;\n}\n.layer_box .layer_line .line_x[data-v-89e91020] {\n  border-top: 0;\n  border-bottom: 0;\n  height: 100%;\n}\n.layer_box .layer_line .line_y[data-v-89e91020] {\n  border-left: 0;\n  border-right: 0;\n  width: 100%;\n}\n.layer_box .percentShade[data-v-89e91020] {\n  position: absolute;\n  background: rgba(40, 120, 255, 0.15);\n}',""])},Dec9:function(e,t,n){"use strict";(function(e){var i,r=n("o0o1"),o=n.n(r),a=n("yXPU"),s=n.n(a),l=n("lSNA"),c=n.n(l),u=(n("VC2a"),n("NTuW")),d=n("L2JU"),h=n("e3ZE"),f=n("kyqj"),p=n("kuND"),m=n("Q9PM");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a={props:["even","afterAt","atIdx","show","isFocusAt"],data:function(){return{color:window.color,left:"0",top:"0",member:[],activeIndex:0,showList:!0,hasFuzzy:!1,bus:Object(u.a)(this)}},computed:b(b({},Object(d.e)("team",["team_id"])),{},{isAfterAt:function(){var e=this.afterAt,t=!!e&&"@"===e.trim();return t}}),watch:{even:{handler:function(e){},deep:!0},afterAt:function(e){console.log("debug() afterAt val: ",e),""!==e?this.fuzzyAt():this.$emit("close")},showList:function(e){e||this.$emit("close")}},mounted:function(){this.$nextTick((function(){})),this.init(),this.getMultiPos(),this.hotkey(),this.fuzzyAt(),window.c=this},beforeDestroy:function(){e(this.even.target).unbind("keydown")},methods:{fuzzyAt:function(){if((1!==this.afterAt.length||"@"!==this.afterAt)&&this.afterAt){var e=this.afterAt.substr(1).trim();e&&(e=e.toLowerCase());var t=[],n=!1,i=this.member.length;t.length=i;for(var r=0;r<i;r++){var o=this.$g.remark.getRemarkName(this.member[r].id,this.member[r].username);this.isContainPinyin(o,e)?(this.member[r].fuzzy=!0,this.activeIndex=n?this.activeIndex:r,n=!0):this.member[r].fuzzy=!1,t[r]=this.member[r].fuzzy}this.showList=t.includes(!0)||this.isFocusAt}},isContainPinyin:function(e,t){var n=new h.Pinyin2Group,i=n.getPinyinWithoutTone(e);if(p.d.test(t)){var r=n.getPinyinWithoutTone(t);return i.includes(r)}return i.includes(t)||e.includes(t)},changeMember:function(e){this.activeIndex=e},getMultiPos:function(){var t=e(this.even.target),n=Object(f.j)(t[0])||{},i=n.x||0,r=n.y||0;this.left=t.offset().left+i+10,this.top=t.offset().top+r+(r>0&&i<1?0:20)},hotkey:function(){console.log("hotkey: ",this.even.target),e(this.even.target).unbind("keydown").bind("keydown",this.eventKeydown)},eventKeydown:function(t){var n=this,i=this.activeIndex,r=this.$refs.notice_content,o=this.$refs.notice_box.scrollTop,a=t.keyCode;if(console.log("member keydown: ",t.keyCode),38==a){if("@"===this.afterAt&&(this.activeIndex=Math.max(0,--i)),this.afterAt.length>1)for(var s=this.activeIndex-1;s>-1;s--)if(this.member[s].fuzzy){this.activeIndex=s;break}this.$nextTick((function(){r[n.activeIndex].offsetTop-o<20&&e(n.$refs.notice_box).scrollTop(o-40)})),console.log("up prevent"),t.preventDefault(),this.preventUpAndDown()}else if(40==a){if("@"===this.afterAt&&(this.activeIndex=Math.min(this.member.length-1,++i)),this.afterAt.length>1)for(var l=this.activeIndex+1;l<this.member.length;l++)if(this.member[l].fuzzy){this.activeIndex=l;break}this.$nextTick((function(){r[n.activeIndex].offsetTop-o>140&&e(n.$refs.notice_box).scrollTop(o+40)})),t.preventDefault(),this.preventUpAndDown()}else 13==a?(this.showList&&this.addMember(),t.preventDefault(),this.preventUpAndDown()):"Space"===t.key&&this.$emit("close")},preventUpAndDown:function(){var e=this;this.bus.$emit("preventUpDown",!0),setTimeout((function(){e.bus.$emit("preventUpDown",!1)}),300)},init:(i=s()(o.a.mark((function e(){var t,n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios("".concat(baseUrl,"/account/project_usernames?team_id=").concat(this.team_id,"&project_id=").concat(this.$route.query.pid||this.$route.query.project_id||localStorage.pid));case 2:for(n=e.sent,i=(null===(t=n.data)||void 0===t?void 0:t.result)||[],r=0;r<i.length;r++)i[r].fuzzy=!1;this.member=i;case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),addMember:function(e){null!=e&&(this.activeIndex=e);var t=this.activeIndex,n=this.member[t],i=n.username,r=n.id,o=this.$g.remark.getRemarkName(r,i,this.$g.remarkVersion),a={username:i,nickName:Object(m.j)(o),id:r};console.log("addMember() params: ",a),this.$emit("confirm",a)},memberSelect:function(e,t){e.preventDefault(),this.addMember(t)}}}}).call(this,n("EVdn"))},"E/rn":function(e,t,n){"use strict";(function(e){var i,r,o,a,s,l,c,u,d,h,f,p,m,g=n("o0o1"),b=n.n(g),v=n("yXPU"),x=n.n(v),w=n("RIqP"),y=n.n(w),_=n("lSNA"),k=n.n(_),I=n("Bw5p"),M=n("QEec"),C=n("fujP"),S=n("NTuW"),$=n("L2JU"),O=n("Mt6F"),A=n("b+Qb"),E=n("MEFo"),T=n("NL1T"),N=n("ai6K"),L=n("A+mB"),j=n("3/HH"),P=n("kuND"),D=n("kyqj"),z=n("nqA1"),F=n("7qog"),R=n("G0wp"),U=n("f3Ch"),V=n.n(U);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a={name:"Box",components:{layerBox:O.a,member:A.a,MultiTextField:E.a},mixins:[T.a,N.a,L.a],props:["version","image","imagebox","project","showMarks","keyState","responsiveEnable","showComment","dataReady","image_id","axureType","pageId"],data:function(){return{color:window.color,showMemberList:!1,memberEvent:{},bus:Object(S.a)(this),marks:[],showContent:!1,contentIndex:"",contentPosition:{},contentReply:!1,reply:"",rightTop:{horizontal:"right",vertical:"top"},arrowClass:"",arrowTop:10,sliceIndex:[],topPopup:!1,poptip:this.$i18n("操作成功"),showlayer:!0,type:"",replyIndex:"",isEditContent:!1,latestAtIndex:0,userIds:[],multiContent:"",content:"",removeNode:"",addNode:"",isFocusAt:!1,boxMouse:{down:!1,move:!1},editContentIndex:"",showMarkFromUrl:!1,afterAt:"",atIndex:null,markMove:{before:{x:null,y:null},after:{x:null,y:null}},markContentIndex:null,timer:null}},computed:W(W(W({},Object($.e)("team",["team_id"])),Object($.c)(["userInfo"])),{},{hintText:function(){return"product"===this.$route.name?this.$i18n("评论内容，支持@团队成员"):this.$i18n("批注内容，支持@团队成员")},reverseReply:function(){var e=y()(this.marks[this.contentIndex].replies);return e.sort((function(e,t){return e.create_time-t.create_time})),e},filterMarks:function(){var e=this.type;return this.marks.filter((function(t){return!!t.text&&("all"==e||("unread"==e?!t.read:!!t.read))}))},getShow:function(){return"product"===this.$route.name?this.showMarks&&this.showComment&&!this.responsiveEnable:this.showMarks},isDesignPage:function(){return"detailDetach"===this.$route.name},isProductPage:function(){return"product"===this.$route.name}}),watch:{showMemberList:function(e){console.log("watch[showMemberList] val: ",e)},version:{handler:function(e){var t=this;this.showlayer=!1,this.$nextTick((function(){t.version.json_url&&(t.showlayer=!0)}))},deep:!0},topPopup:function(e){var t=this;e&&setTimeout((function(){t.topPopup=!1}),2e3)},showContent:function(e){this.showMemberList=!1,this.replyIndex="",this.content="",this.multiContent="",this.isEditContent=!1},dataReady:{handler:function(e){e&&"detailDetach"===this.$route.name&&this.init()},immediate:!0},multiContent:function(e){if(" "==e)return this.afterAt="",void(this.atIndex=null);var t=this.atIndex,n=Object(D.d)().nodeValue||"",i=Object(D.c)(),r=Object(D.i)(),o=Object(D.h)(t),a=o.focusAt,s=o.afterAt;console.log("selectionStart: ",i),this.isFocusAt=a;var l="@"!==n[t],c=!r&&!a&&l;a&&!this.showMemberList&&(this.showMemberList=!0),this.afterAt=s?s.trim():"",this.afterAt||(r&&(this.afterAt="@"),a&&(this.afterAt="@")),n&&!c||(this.atIndex=null,this.afterAt="")},marks:{handler:function(e){if(Object(C.a)(e)){var t=this.getParentComments();Object(C.a)(t)||(this.logger.info("FILL","产品评论打点渲染错误"),window.Analyze("pointfailed"))}},deep:!0}},created:function(){var t=this;this.bus.$on("sendMarks",(function(n,i,r,o){var a,s=t.handleMarkData(n),l=t.isProductPage;console.log("lris [sendMarks] update new markData: ",s,", old marks: ",t.marks);var c=t.getParentComments();(null==s?void 0:s.length)?t.marks=s:(null==c?void 0:c.length)?console.warn("lris [sendMarks] wrong update marks"):t.marks=s,(null==s?void 0:s.length)<(null===(a=t.marks)||void 0===a?void 0:a.length)&&console.warn("lris update marks data less than render data"),l?("axure"===t.$parent.axureDataType&&t.marks.length&&t.calcCommentSizeWithVersion(),t.$emit("refreshComment",{callback:function(){t.bus.$emit("updateCommentStatus",!0)}}),t.marks.length?t.$emit("marksChange",!0):t.$emit("marksChange",!1)):t.marks.map((function(e){return e.position_x>1&&(e.position_x=t.imagebox.width/window.detailDetach.image.width*e.position_x/t.imagebox.width),e.position_y>1&&(e.position_y=t.imagebox.height/window.detailDetach.image.height*e.position_y/t.imagebox.height),e})),t.type=i,t.$nextTick((function(){r&&Object(j.b)((function(){t.showMarkItemEvent(r)}),(function(){return document.getElementById("mark".concat(r))||e("#mark".concat(r))}),500),o&&t.showReplyText()}))}))},mounted:function(){this.$nextTick((function(){})),"product"===this.$route.name&&this.init()},beforeDestroy:function(){this.timer&&window.clearInterval(this.timer)},methods:{init:function(){var e=this;this.showMarkFromUrl=!0,this.bus.$on("showMarkItem",(function(t,n){e.$nextTick((function(){e.showMarkItemEvent(t),n&&e.showReplyText()}))})),this.bus.$on("showinfo",(function(){e.eventChange()})),this.bus.$on("hideMark",(function(){e.eventChange()})),document.addEventListener("click",(function(t){var n=t.target,i=n.parentNode,r=i&&i.className&&i.className.indexOf&&i.className.indexOf("have-left-icon")>-1||n&&n.className&&n.className.indexOf&&n.className.indexOf("have-left-icon")>-1;if(t&&n&&n.classList&&Array.prototype.slice.call(n.classList).includes("member-user"))return;e.$el.contains(n)||r||"product"!==e.$route.name||(e.showContent=!1)})),this.bus.$on("sendMarksToBox",(function(){e.showContent=!1})),this.bus.$on("newMarkFail",(function(t){for(var n,i=0;i<e.mark.length;i++)if(e.mark[i].id===t){n=i;break}void 0!==n&&e.mark.splice(n,1)}))},getParentComments:function(){var e,t=(null===(e=this.$parent.$refs)||void 0===e?void 0:e.commentList)||{};return(null==t?void 0:t.comments)||[]},handleMarkData:function(e){var t=this;return Object(C.a)(e)?[]:e.map((function(e){var n=e.replies,i=!Object(C.a)(n),r=e.content_rich_text||e.content,o=t.httpString(r);return e.contentGetUrl=o,i&&(e.replies=t.handleMarkData(n)),e}))},urlStrFn:function(){for(var e=document.querySelectorAll(".url-str"),t=0;t<e.length;t++)e[t].style.cursor="pointer",e[t].style.color="#2878ff",e[t].style.wordWrap="break-word",e[t].onclick=function(e){window.open(e.target.innerText)}},httpString:function(e){var t="",n=(e=e||"").match(/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g);if(n)for(var i=0;i<n.length;i++)t=e.replace(n[i],'<span class="url-str">'.concat(n[i],"</span>"));else t=e;return t},versionText:function(e){return e||"",(e&&-1==e.indexOf("版本")?"版本"+e:e||"").replace("版本",this.$i18n("版本"))},getContent:function(e){var t=this.multiContent,n=(null==e?void 0:e.content)||"";return Object(D.m)(t)||n},getMarkContent:function(e){var t=this.getContent(e);return{content:t,urlContent:this.httpString(t)}},getMarkRichContent:function(e){var t=this.getContent(e),n=this.multiContent||(null==e?void 0:e.content_rich_text),i=this.httpString(t);return{richContent:n,urlRichContent:this.httpString(n)||i}},cancelEditFirst:function(){this.isEditContent=!1,this.staticCommentCancel()},submitEditMark:(m=x()(b.a.mark((function e(t){var n,i,r,o,a,s,l,c,u=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getMarkContent(t),i=n.content,r=this.getMarkRichContent(t),o=r.richContent,a=r.urlRichContent,i||(null==t?void 0:t.content)){e.next=5;break}return console.warn("obj.content(".concat(null==t?void 0:t.content,") or content(").concat(i,") was empty")),e.abrupt("return");case 5:return this.isEditContent=!1,s=i||(null==t?void 0:t.content),l=o||(null==t?void 0:t.content_rich_text),c={comment_id:t.id,content:s,content_rich_text:l,users_id:this.userIds,position_x:t.position_x,position_y:t.position_y,scale_x:t.scale_x,scale_y:t.scale_y,width:t.width,height:t.height,team_id:this.team_id,page_id:this.$route.query.pageId},"product"===this.$route.name&&this.$parent.responsiveEnable&&(t.hasOwnProperty("dot_x")&&(c.dot_x=t.dot_x),t.hasOwnProperty("dot_y")&&(c.dot_y=t.dot_y)),e.next=12,axios.put(baseUrl+"/project/comment",c);case 12:this.aliLogReplyStatic(l),this.replyIndex="",t.contentGetUrl=a,t.content=s,t.content_rich_text=l,this.staticCommentSubmit(),setTimeout((function(){u.urlStrFn()}),200),this.$nextTick((function(){S.a.$emit("contentReply","mustCalc")}));case 20:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)}),markDown:function(e,t){(this.isEditContent&&this.contentIndex===t||this.marks[t].user.id===localStorage.user_id)&&(this.markMove.before.x=this.marks[t].position_x,this.markMove.before.y=this.marks[t].position_y,"product"===this.$route.name&&"axure"!==this.$parent.axureDataType&&document.querySelector(".doc-page .detail_box.comment-box")&&(document.querySelector(".doc-page .detail_box.comment-box").style.pointerEvents="auto"),this.contentIndex=t,this.changeMarkStart(e,this.marks[t]))},showMarkItemEvent:function(e){var t=this;this.showMarks?this.showMarkFunc(e):(this.$parent.$parent.showMarks=!0,this.$nextTick((function(){t.showMarkFunc(e)})))},contentDown:function(){this.showMemberList=!1,window.getSelection().removeAllRanges()},showReplyText:function(){var e=this;this.contentReply=!0,this.$nextTick((function(){e.textFieldFocus(e.$refs.reply_textarea),e.$refs.content_item.scrollTop=e.$refs.content_item.scrollHeight,S.a.$emit("contentReply","mustCalc")}))},eventChange:function(){var e=this;if(this.isEditContent&&this.submitEdit(this.marks[this.contentIndex].id,this.marks[this.contentIndex].content),""!==this.replyIndex){var t=this.marks[this.contentIndex].replies.find((function(t){return t.id===e.replyIndex}));this.submitEdit(t.id,t.content)}this.replyIndex="",this.isEditContent=!1,this.showContent=!1},boxDown:function(e){this.$emit("move",e),this.showContent=!1,this.boxMouse.down=!0,"product"===this.$route.name&&document.querySelector(".doc-page .detail_box.comment-box")&&(document.querySelector(".doc-page .detail_box.comment-box").style.pointerEvents="none")},boxMove:function(e){this.boxMouse.down&&(this.boxMouse.move=!0),this.resize.status?this.resizeMark(e,this.marks[this.contentIndex]):this.change.status&&this.changeMark(e,this.marks[this.contentIndex])},boxUp:(p=x()(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("detail_box"==t.target.className&&(this.boxMouse.move||this.$emit("showLayerTip")),this.change.status=!1,this.resize.status=!1,this.boxMouse.down=!1,this.boxMouse.move=!1,!(t.target.className.indexOf("mark")>-1)){e.next=13;break}if(window.Analyze("design_comment",{movecomment:""}),this.markMove.after.x=(this.marks[this.contentIndex]||{}).position_x,this.markMove.after.y=(this.marks[this.contentIndex]||{}).position_y,!(Math.abs(this.markMove.after.x-this.markMove.before.x)>0||Math.abs(this.markMove.after.y-this.markMove.before.y)>0)){e.next=13;break}return e.next=12,this.submitEditMark(this.marks[this.contentIndex]);case 12:this.markMove={before:{x:null,y:null},after:{x:null,y:null}};case 13:"product"===this.$route.name&&this.$parent.calcContentBox();case 14:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)}),getNewMultiContent:function(e){e.username;var t=e.nickName,n=e.id,i='&nbsp;<span contenteditable="false" lh-user-id="'.concat(n,'">@').concat(t,"</span>&nbsp;"),r={removeNode:this.afterAt||"",addNode:i};return console.log("getNewMultiContent() newInfo: ",r),r},memberConfirm:function(e){var t=e.username,n=e.nickName,i=e.id,r=this.getNewMultiContent({username:t,nickName:n,id:i}),o=r.removeNode,a=r.addNode;this.removeNode=o,this.addNode=a,this.memberEvent={},this.showMemberList=!1,this.afterAt="",this.atIndex=null},inputEvent:function(e){Array.prototype.slice.call(e.target.classList).includes(P.e)&&(Object(D.g)(e)?this.submitReply():Object(D.f)(e)&&(this.memberEvent=e,this.showMemberList=!0,this.initAtIndexAndAfterAt()))},initAtIndexAndAfterAt:function(){var e=Object(D.a)(),t=Object(D.b)(),n=t.anchorOffset;console.log("initAtIndexAndAfterAt before: ",n,e,t),this.latestAtIndex=n,this.atIndex=n},getMultiInput:function(){return document.querySelector(".".concat(P.e))},showMarkFunc:function(e){var t=this;this.marks.forEach((function(n,i){n.id!=e?n.replies.forEach((function(n){n.id!=e||t.contentShow(i)})):t.contentShow(i)}))},editContent:function(e){var t=this;this.isEditContent=!0,this.$nextTick((function(){t.textFieldFocus(t.$refs.text_field),S.a.$emit("contentReply","mustCalc")}))},cancelEdit:function(){this.replyIndex="",this.staticCommentCancel()},submitEdit:(f=x()(b.a.mark((function e(t,n,i){var r,o,a,s,l,c,u=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.getMarkContent(i),o=r.content,a=this.getMarkRichContent(i),s=a.richContent,l=a.urlRichContent,n||o){e.next=5;break}return console.warn("contentParam(".concat(n,") or content(").concat(o,") was empty")),e.abrupt("return");case 5:return this.isEditContent=!1,e.next=8,axios.put(baseUrl+"/project/comment",{comment_id:t,content:o,content_rich_text:s,users_id:this.userIds,team_id:this.team_id});case 8:c=e.sent,console.log("res: ",c),this.aliLogReplyStatic(s),this.replyIndex="",i&&(i.contentGetUrl=l,i.content=o,i.content_rich_text=s),this.staticCommentSubmit(),setTimeout((function(){u.urlStrFn()}),200),this.$nextTick((function(){S.a.$emit("contentReply","mustCalc")}));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return f.apply(this,arguments)}),end:function(){this.resize.status=!1,this.change.status=!1},getVersionId:function(){return((this.marks[this.contentIndex]||{}).version||{}).version_id},cancelReply:function(){this.contentReply=!1,this.content="",this.multiContent="",this.staticCommentCancel()},submitReply:(h=x()(b.a.mark((function e(){var t,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,x,w,_,k,I,M,C=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getVersionId(),n=this.getMarkContent(),i=n.content,r=this.getMarkRichContent(),o=r.richContent,a=r.urlRichContent,s=this.marks[this.contentIndex].id,l=this.marks[this.contentIndex].text,i){e.next=8;break}return console.warn("content was empty"),e.abrupt("return");case 8:return c=this.getProjectId(),this.contentReply=!1,u={comment_id:uuid.v4(),image_id:this.$route.query.image_id,project_id:c,reply_id:s,p_name:this.project.name,content:i,content_rich_text:o,users_id:this.userIds,version_id:t,team_id:this.team_id,page_id:this.$route.query.pageId},d=localStorage.getItem("user_id"),h=window.g.remark.getTeamkName()||{},(f=localStorage.getItem("avatar"))&&"undefined"!==f&&"null"!==f||(f=""),p={id:u.comment_id,text:null,position_x:null,position_y:null,width:null,height:null,read:!1,version:{version_id:null,version_info:null},user:{avatar:f,color:localStorage.getItem("color"),name:h[d],id:d},create_time:parseInt(((new Date).getTime()+288e5)/1e3,10),content:u.content,content_rich_text:u.content_rich_text,users_id:this.userIds,replies:[],page_id:null,dot_id:null,dot_x:null,dot_y:null},console.log("ts fake: ",p.create_time,p.id),p.contentGetUrl=a,this.marks[this.contentIndex].replies.push(p),e.next=21,axios.post(baseUrl+"/project/comment",u);case 21:if(200===(m=e.sent).status){e.next=26;break}return this.marks[this.contentIndex].replies.splice(this.marks[this.contentIndex].replies.length-1,1),window.LanhuDialog.toast(this.$i18n("回复失败, 请重新尝试"),3e3),e.abrupt("return",!1);case 26:for(this.contentReply=!1,g={},v=m.data.result,x=0;x<v.length;x++)g[v[x].id]=v[x];for(w=this.marks[this.contentIndex].id,_=g[w],I=0;I<_.replies.length;I++)M=_.replies[I].content_rich_text||_.replies[I].content,_.replies[I].contentGetUrl=this.httpString(M),_.replies[I].id===p.id&&(k=_.replies[I],console.log("realReply: ",k));this.marks[this.contentIndex].replies=y()(_.replies),this.aliLogReplyStatic(o),this.replyCommentSocket({isDesign:this.isDesignPage,commentId:s,currentCommentId:u.comment_id,text:l}),this.staticCommentSubmit(),this.content="",this.multiContent="",setTimeout((function(){C.urlStrFn()}),200),this.$nextTick((function(){S.a.$emit("contentReply","mustCalc"),"product"===C.$route.name&&C.$emit("refreshComment",{callback:function(){console.log("123")}})}));case 41:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)}),getFirstComment:function(){return this.marks[this.contentIndex]||{}},getProjectId:function(){var e=location.href,t=Object(R.i)(e,"pid"),n=Object(R.i)(e,"project_id"),i=t||n,r=i||this.project.id;return console.log("getProjectId() pId: ",i,this.project.id),r},replyCommentSocket:(d=x()(b.a.mark((function e(t){var n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,x,w,y,_,k,I,M,S,$,O,A,E,T,N,L,j,P,D,U,V,H;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U=function(){P.hasAt=!1,P.toIds=u,console.log("lris comment first reply msgObj: ",P);var e=setTimeout((function(){window.$lris.send(z.i,P)}));D.$once("hook:beforeDestroy",(function(){clearTimeout(e)}))},window.$lris){e.next=3;break}return e.abrupt("return");case 3:if(l=this.getFirstComment(),c=(l.user||{}).id,(u=c?[c]:[]).length){e.next=9;break}return console.error("replyComment firstUserIds was empty"),e.abrupt("return");case 9:if(d=Object(C.a)(this.userIds),h=d?u:this.userIds||[],f=this.getProjectId(),p=this.userInfo,m=this.isProductPage?(null===(n=window.axureDoc)||void 0===n||null===(i=n.$refs)||void 0===i||null===(r=i.doc)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.name)||(null===(a=this.project)||void 0===a?void 0:a.name):null===(s=this.project)||void 0===s?void 0:s.name,g=p.id||localStorage.user_id,v=p.name||localStorage.name,x=this.$g.remark.getRemarkName(g,v,this.$g.remarkVersion),w=this.image,y=null==w?void 0:w.name,_=null==w?void 0:w.id,k=window.location.href,I=Object(R.d)(k),M=t.parentId,S=t.pageId,$=I.docType,O="axure"===$?"axure":"",A=I.image_id,E={teamId:this.team_id,projectId:f,imageId:A||_||this.image_id,toType:z.j,toIds:h,fromUserId:g,fromUserName:v,fromNickName:x,designName:y,hasAt:!d},T=window.doc?window.doc.currentVersionId:null,N=this.getVersionId(),L=t.isDesign?{versionId:N}:{pageId:S||this.pageId,axureType:O||this.axureType,projectName:m,versionId:T,parentId:M},j=Object.assign(L,E,t),P=Object(z.m)(j),D=this,V=Object(F.a)(),h=h.filter((function(e){return e!==V})),P.toIds=h,!Object(C.a)(h)){e.next=42;break}return console.warn("replyComment has no toIds"),c!==V&&U(),e.abrupt("return");case 42:if(console.log("lris comment reply msgObj: ",P),window.$lris.send(z.i,P),H=c!==V,d||!H){e.next=52;break}if(!h.includes(c)){e.next=51;break}return console.warn("lris alreay send @ msg, should not send reply msg"),e.abrupt("return");case 51:U();case 52:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)}),aliLogReplyStatic:function(e){var t,n=this.$route.name,i=e&&e.includes("</span>");switch(console.log("aliLogReplyStatic() routerName: ",n),n){case"product":t="prdcomment";break;case"detailDetach":t="designcomment";break;default:console.warn("unkown routerName(".concat(n,")"))}window.Analyze(t,{replycomment:!0}),i&&window.Analyze(t,{includingpeople:"reply"})},showEditContent:function(e){return e==localStorage.user_id},deleteComment:(u=x()(b.a.mark((function e(t,n){var i,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n){e.next=6;break}return e.next=3,LanhuDialog.msg("product"===this.$route.name?this.$i18n("该评论下的回复都会一并删除"):this.$i18n("该批注下的回复都会一并删除"),"product"===this.$route.name?this.$i18n("确定要删除该评论吗"):this.$i18n("确定要删除该批注吗"));case 3:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,axios.delete("".concat(baseUrl,"/project/comment?comment_id=").concat(t,"&image_id=").concat(this.$route.query.image_id,"&project_id=").concat(this.$route.query.pid));case 8:if(i=e.sent,console.log("res: ",i),this.poptip=this.$i18n("删除成功"),this.topPopup=!0,null!=n){e.next=18;break}this.marks.splice(this.contentIndex,1),this.showContent=!1,S.a.$emit("rebuild",t),e.next=30;break;case 18:if(this.marks[this.contentIndex].replies[n].id!==t){e.next=22;break}this.marks[this.contentIndex].replies.splice(n,1),e.next=30;break;case 22:r=0;case 23:if(!(r<this.marks[this.contentIndex].replies.length)){e.next=30;break}if(this.marks[this.contentIndex].replies[r].id!==t){e.next=27;break}return this.marks[this.contentIndex].replies.splice(r,1),e.abrupt("break",30);case 27:r++,e.next=23;break;case 30:this.$nextTick((function(){S.a.$emit("contentReply","mustCalc")}));case 31:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)}),editComment:function(e){var t=this;this.replyIndex=e,this.$nextTick((function(){S.a.$emit("contentReply","mustCalc"),t.textFieldFocus(t.$refs.reply_text_field)}))},textFieldFocus:function(e){var t=e;if(t)if(Array.isArray(t)){if(!t.length)return void console.warn("editComment empty textField");var n=Array.prototype.slice.call(t)[0];n&&n.$refs.multiTextField.focus()}else t.$refs.multiTextField.focus();else console.warn("textFieldFocus() ref not found")},signRead:(c=x()(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.put("".concat(baseUrl,"/project/comment"),{comment_id:this.marks[this.contentIndex].id,read:!0,team_id:this.team_id});case 2:t=e.sent,console.log("res: ",t),"unread"==this.type&&(window.Analyze("prd_comment",{read:""}),window.Analyze("design_comment",{read:""}),this.showContent=!1),S.a.$emit("rebuild"),S.a.$emit("singRead"),n="",n="product"===this.$route.name?"产品Tab":"设计Tab",window.Analyze("comment_list",{read:n});case 10:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)}),contentShow:function(t,n){var i,r;if("product"===this.$route.name&&this.$parent.responsiveEnable)return!1;console.log("content click",t),this.contentIndex=t,this.showContent=!0;var o=e("#mark".concat(this.marks[t].id)),a=this.marks[t],s=null===(i=o.offset())||void 0===i?void 0:i.left,l=null===(r=o.offset())||void 0===r?void 0:r.top,c=o.width(),u=o.height(),d=document.body.clientWidth,h=document.body.clientHeight,f=0,p=0;console.log("ins: ",a),(s+c>d-400||s+c<0)&&(f=s<0?this.imagebox.left+Math.abs(s-400):this.imagebox.left-(s+c-d+400)),(l+u>h-100||l+u<0)&&(p=l<0?this.imagebox.top+Math.abs(l)+100:this.imagebox.top-(l+u-h+100)),(p||f)&&this.$emit("moveImageBox",f,p),this.$nextTick((function(){var n,i=null===(n=this.marks[t])||void 0===n?void 0:n.id;console.log("[debug] box markId: ",i),i||(console.warn("show comment box in wrong position"),this.logger.info("FILL","错误打点弹框位置"));var r,o=this.isProductPage?document.getElementById("mark".concat(i)):e("#mark".concat(i)),a=(null==o?void 0:o.getBoundingClientRect)&&(null==o?void 0:o.getBoundingClientRect())||{},s=(null==o?void 0:o.offset)?null==o?void 0:o.offset():{},l=this.marks[t],c=this.isProductPage?null==a?void 0:a.y:null==s?void 0:s.top,u=this.isProductPage?null==a?void 0:a.height:null==o?void 0:o.height(),d=this.isProductPage?document.querySelector(".detail_box").clientHeight:document.body.clientHeight,h=this.$refs.contentbox.clientHeight;r="product"!==this.$route.name?c+u-h/2:this.$parent.docScroll.y?c+this.$parent.docScroll.y+u-h/2:c+u-h/2;var f=l.width||15/this.imagebox.width,p=l.position_x+f+30/this.imagebox.width,m=(r-this.imagebox.top)/this.imagebox.height,g=d-(r+h);"product"!==this.$route.name?g<0&&(m+=(g-20)/this.imagebox.height):l.position_x>1&&(p=l.position_x/this.imagebox.width+f/this.imagebox.width+30/this.imagebox.width),"product"===this.$route.name&&m<0&&(m=0),this.contentPosition={left:p,top:m},"product"===this.$route.name&&"axure"!==this.$parent.axureDataType&&document.querySelector(".doc-page .detail_box.comment-box")&&(document.querySelector(".doc-page .detail_box.comment-box").style.pointerEvents="auto"),this.urlStrFn(),S.a.$emit("clickMarkItem",t)}))},markClass:function(e){return e.width?e.read?"mark_area grey":"mark_area":e.read?"mark grey":"mark"},move:function(e){this.$emit("move",e)},changeVersionFromComment:(l=x()(b.a.mark((function e(){var t,n,i,r,o,a,s=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("product"!==this.$route.name){e.next=23;break}return t="切换到文档的 ".concat(this.marks[this.contentIndex].version.version_info),n="此评论创建于 - ".concat(this.marks[this.contentIndex].version.version_info,", 文档将切换到").concat(this.marks[this.contentIndex].version.version_info,"的内容, 并展示评论"),e.next=5,window.LanhuDialog.msg(this.$i18n(n),this.$i18n(t),"flatblue");case 5:if(e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:if(this.$parent.statistics({name:"commentlistclick",value:"跳转版本看评论"}),i=this.marks[this.contentIndex],r=i.version.version_id||""){e.next=13;break}return e.abrupt("return",!1);case 13:if((o=this.$parent.$refs.doc.currentAxureData.versions||[]).length){e.next=16;break}return e.abrupt("return",!1);case 16:if(!(a=o.find((function(e){return e.id===r})))){e.next=23;break}return a.versionSelectPage=this.$parent.$refs.doc.selectAxurePageData,this.$parent.axurePageLoaded=!1,e.next=22,this.$parent.getChangeVersion(a);case 22:this.$nextTick((function(){s.$parent.dotIframeDone=!1;var e=setInterval((function(){"axure"===s.$parent.axureDataType?s.$parent.dotIframeDone&&s.$parent.axurePageLoaded&&s.$parent.$refs.commentList&&(clearInterval(e),s.$parent.openContent(i.id)):s.$parent.axurePageLoaded&&(clearInterval(e),setTimeout((function(){s.$parent.setScrollFromMarkLocation(i.id),s.showMarkItemEvent(i.id)}),500))}),200);s.timer=e}));case 23:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)}),calcCommentSizeWithVersion:(s=x()(b.a.mark((function e(){var t,n,i,r,o,a=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("product"===this.$route.name){e.next=2;break}return e.abrupt("return",!1);case 2:if("product"!==this.$route.name||!this.$parent.responsiveEnable){e.next=4;break}return e.abrupt("return",!1);case 4:for(this.marks.filter((function(e){return e.position_y<1||e.position_x<1})).length&&this.sortComment(),this.calcCurrentVersionComment(),t=[],n=0;n<this.marks.length;n++)this.marks[n].version&&this.marks[n].version.version_id&&this.marks[n].version.version_id!==this.$parent.currentVersionId&&t.push(this.marks[n].version.version_id);for(t=y()(new Set(t)),i={},r=this.$parent.$refs.doc.currentAxureData.versions,o=0;o<r.length;o++)t.includes(r[o].id)&&(i[r[o].id]=r[o].jsonUrl);Object(M.a)(i,(function(e,t){a.calcFromMapping(t,e)}));case 14:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)}),calcFromMapping:(a=x()(b.a.mark((function e(t,n){var i,r,o,a,s,l,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,axios.get(n);case 4:i=e.sent,r=this._cutArr(i.data.sitemap.rootNodes),o=null,a=0;case 8:if(!(a<r.length)){e.next=15;break}if(r[a].id!==this.$parent.axureSelectPageId){e.next=12;break}return o=i.data.pages[r[a].url],e.abrupt("break",15);case 12:a++,e.next=8;break;case 15:if(!o||!o.mapping_md5){e.next=21;break}return e.next=18,axios.get("https://lanhu-axure-file.oss-cn-beijing.aliyuncs.com/".concat(o.mapping_md5));case 18:s=e.sent,l="files/".concat(o.html.src.replace(".html",""),"/styles.css"),s&&s.data.styles[l]&&(c=s.data.styles[l].sign_md5||"",this.calcPageSize(c,t));case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)}),calcPageSize:(o=x()(b.a.mark((function e(t,n){var i,r,o,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,axios.get("https://lanhu-axure-file.oss-cn-beijing.aliyuncs.com/".concat(t));case 4:(i=e.sent)&&(r=JSON5.parse(V()(i.data)),o=0,a=0,Object(M.a)(r,(function(e,t){var n=Object(I.a)(e,["height","top","bottom","marginTop","marginBottom"]),i=Object(I.a)(e,["width","left","right","marginLeft","marginRight"]);if(n){var r=0;Object(M.a)(n,(function(e,t){e.indexOf("px")>-1&&(n[t]=e.replace("px","")),"auto"===n[t]&&(n[t]=0),n[t]=parseInt(n[t],10),r+=n[t]})),r>o&&(o=r)}if(i){var s=0;Object(M.a)(i,(function(e,t){e.indexOf("px")>-1&&(i[t]=e.replace("px","")),"auto"===i[t]&&(i[t]=0),i[t]=parseInt(i[t],10),s+=i[t]})),s>a&&(a=s)}})),this.marks.forEach((function(e){if(e.version.version_id&&e.version.version_id===n){var t=!1;e.position_y<1&&(e.position_y=e.position_y*o,t=!0),e.position_x<1&&(e.position_x=e.position_x*a,t=!0),e.height<1&&e.height>0&&(e.height=e.height*o,t=!0),e.width<1&&e.width>0&&(e.width=e.width*a,t=!0),t&&axios.put(baseUrl+"/project/comment",{comment_id:e.id,position_x:e.position_x,position_y:e.position_y,width:e.width,height:e.height})}})));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)}),calcCurrentVersionComment:(r=x()(b.a.mark((function e(){var t,n=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.marks.filter((function(e){return e.version&&e.version.version_id&&e.version.version_id===n.$parent.currentVersionId})),this.$nextTick((function(){if(t.length)for(var e=0;e<t.length;e++){var i=!1;t[e].position_x<1&&(i=!0,t[e].position_x=t[e].position_x*n.imagebox.width),t[e].position_y<1&&(i=!0,t[e].position_y=t[e].position_y*n.imagebox.height),t[e].width<1&&t[e].width>0&&(i=!0,t[e].width=t[e].width*n.imagebox.width),t[e].height<1&&t[e].height>0&&(i=!0,t[e].height=t[e].height*n.imagebox.height),i&&axios.put(baseUrl+"/project/comment",{comment_id:t[e].id,position_x:t[e].position_x,position_y:t[e].position_y,width:t[e].width,height:t[e].height})}}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)}),sortComment:(i=x()(b.a.mark((function e(){var t,n,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=JSON.parse(JSON.stringify(this.marks))).sort((function(e,t){return new Date(1e3*e.create_time)-new Date(1e3*t.create_time)})),n=0;case 3:if(!(n<t.length)){e.next=16;break}i=0;case 5:if(!(i<this.marks.length)){e.next=12;break}if(this.marks[i].id!==t[n].id){e.next=9;break}return this.marks[i].text=n+1,e.abrupt("break",12);case 9:i++,e.next=5;break;case 12:axios.put(baseUrl+"/project/comment",{comment_id:t[n].id,text:n+1});case 13:n++,e.next=3;break;case 16:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),_cutArr:function(e){var t=[],n=[];for(n=n.concat(e);n.length;){var i=n.shift();t.push(i),i.children&&(n=n.concat(i.children))}return t},domStyle:function(e){return"product"===this.$route.name?{width:e.width<1?"".concat(100*e.width,"%"):"".concat(e.width,"px"),height:e.height<1?"".concat(100*e.height,"%"):"".concat(e.height,"px"),left:e.position_x<1?"calc(".concat(100*e.position_x,"% - ").concat(this.$parent.docScroll.x,"px)"):"calc(".concat(e.position_x,"px - ").concat(this.$parent.docScroll.x,"px)"),top:e.position_y<1?"calc(".concat(100*e.position_y,"% - ").concat(this.$parent.docScroll.y,"px)"):"calc(".concat(e.position_y,"px - ").concat(this.$parent.docScroll.y,"px)")}:{width:e.width<1?"".concat(100*e.width,"%"):"".concat(e.width,"px"),height:e.height<1?"".concat(100*e.height,"%"):"".concat(e.height,"px"),left:e.position_x<1?"".concat(100*e.position_x,"%"):"".concat(e.position_x,"px"),top:e.position_y<1?"".concat(100*e.position_y,"%"):"".concat(e.position_y,"px")}}}}}).call(this,n("EVdn"))},EGpN:function(e,t,n){"use strict";var i=n("+8S5"),r=n("ervQ"),o=(n("ALCY"),n("KHd+")),a=Object(o.a)(r.a,i.a,i.b,!1,null,"30191b3a",null);a.options.__file="src/view/detailDetach/comment/markAdd.vue",t.a=a.exports},F0Dn:function(e,t,n){"use strict";var i=n("gLOj");n.n(i).a},G63P:function(e,t,n){"use strict";t.a={components:{},props:{top:{type:Number,default:0},left:{type:Number,default:0},show:{type:Boolean,default:!1},location:{type:String,default:"top"}},data:function(){return{}},created:function(){},mounted:function(){},methods:{}}},GAX2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.getOwnPropertySymbols(e).filter((function(t){return Object.prototype.propertyIsEnumerable.call(e,t)}))}},"GsG+":function(e,t,n){"use strict";var i=n("E/rn");t.a=i.a},Gt2n:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".switch_tip_paper[data-v-357470e3] {\n  -webkit-user-select: none;\n          user-select: none;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  width: 640px;\n  height: 260px;\n  border-radius: 4px;\n  box-sizing: border-box;\n  padding: 36px;\n}\n.switch_tip_paper .tip_btn[data-v-357470e3] {\n  float: right;\n  margin-top: 80px;\n}\n.switch_tip_paper > img[data-v-357470e3] {\n  float: left;\n  width: 160px;\n}\n.switch_tip_paper .tip_item[data-v-357470e3] {\n  margin-left: 15px;\n  float: left;\n}\n.switch_tip_paper .tip_item > span[data-v-357470e3] {\n  display: inline-block;\n  padding: 4px;\n  border: solid 1px rgba(14, 23, 38, 0.18);\n  border-radius: 5px;\n  margin: 0 6px;\n}\n.switch_tip_paper .tip_title[data-v-357470e3] {\n  font-size: 18px;\n  padding-bottom: 20px;\n  color: #0e1726;\n}",""])},HKMR:function(e,t,n){"use strict";var i=n("ZE2U"),r=n("ZtmH"),o=n("NTuW"),a=n("5N2e"),s=n("v5n6");function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}t.a={components:{SubLine:a.a},mixins:[i.a,r.a,s.a],props:{layers:Array,selectLayers:Array,type:String,customUnit:String,resoluId:Number,percentMode:Boolean,hoverMargin:{type:Object,default:{show:!1}},scale:{type:[String,Number],default:1},resoluScale:{type:[String,Number],default:1},marginDistance:{type:Object,default:{show:!1}}},data:function(){return{bus:Object(o.a)(this),handleLine:[],margin:[],line_wrap:{show:!1,left:0,top:0,width:0,height:0},subline_distance:30,sublineList:[]}},computed:{g_detail:{get:function(){return this.$g.data.board.detail},set:function(e){this.$g.data.board.detail=e}},hoverLine:function(){return this.g_detail.hoverLine}},watch:{selectLayers:function(e){this.viewInit()},percentMode:function(e){this.viewInit()},line_wrap:function(e){this.g_detail.line_wrap=e}},mounted:function(){this.$nextTick((function(){}))},methods:{viewInit:function(){this.getlineList(),this.distanceInit()},_typeof:function(e){return Object.prototype.toString.call(e).replace(/\[object\s(\w+)\]/,"$1")},_deepCopy:function(e){var t=this._typeof;if("Array"!==t(e)&&"Object"!==t(e))return e;var n="Array"===t(e)?[]:{};for(var i in e)e.hasOwnProperty(i)&&(n[i]=this._deepCopy(e[i]));return n},getlineList:function(){this.handleLine=this._deepCopy(this.selectLayers)},distanceInit:function(){var e=this.handleLine;if(this.margin=[],this.sublineList=[],e.length>=2)for(var t=0;t<e.length;t++)for(var n=t+1;n<e.length;n++)this.getDistance({prevItem:e[t],nextItem:e[n],isWarp:!1});if(this.multipleWrapResize(),e.length>=2)for(var i=0;i<e.length;i++)this.getDistance({prevItem:this.line_wrap,nextItem:e[i],isWarp:!0})},getDistance:function(e){var t,n=e.prevItem,i=e.nextItem,r=e.isWarp,o=void 0!==r&&r,a=e.useSubLine,s=void 0!==a&&a;n=this.layerData(n),i=this.layerData(i),t=this.setMargin({select:n,lineSize:i,isWarp:o,useSubLine:s}),this.margin.push(t)},numFormatt:function(e){return e=Number(e)},layerData:function(e){return"sketch"!=this.type&&"sketch43"!=this.type||!e.frame?(e.x=e.x?e.x:Number(e.left),e.y=e.y?e.y:Number(e.top),e.w=e.w?e.w:Number(e.width),e.h=e.h?e.h:Number(e.height)):(e.left=Number(e.frame.x),e.top=Number(e.frame.y),e.width=Number(e.frame.width),e.height=Number(e.frame.height),e.x=Number(e.frame.x),e.y=Number(e.frame.y),e.w=Number(e.frame.width),e.h=Number(e.frame.height)),e},multipleWrapResize:function(){if(this.handleLine.length>=2){var e,t=null,n=null,i=null,r=null,o=l(this.handleLine);try{for(o.s();!(e=o.n()).done;){var a=e.value;((a=this.layerData(a)).left<t||null===t)&&(t=a.left),(a.top<i||null===i)&&(i=a.top),(a.left+a.width>n||null===n)&&(n=a.left+a.width),(a.top+a.height>r||null===r)&&(r=a.top+a.height)}}catch(e){o.e(e)}finally{o.f()}this.line_wrap={show:!0,left:t,top:i,width:n-t,height:r-i,x:t,y:i,w:n-t,h:r-i}}else this.$set(this.line_wrap,"show",!1)},styleComputed:function(e){return e>=1?e-1:e}}}},JdTi:function(e,t,n){var i=n("x6+t"),r=n("s5Mv"),o=n("lTSv"),a=RegExp("['’]","g");e.exports=function(e){return function(t){return i(o(r(t).replace(a,"")),e,"")}}},JkUB:function(e,t,n){"use strict";var i=n("Zdxw");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},K160:function(e,t,n){"use strict";var i=n("1d4F"),r=n("Ni7C");t.a=function(e,t){return null!=e&&Object(r.a)(e,t,i.a)}},Kkpq:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".comment_editor {\n  width: 168px;\n}\n.detail_box {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  transition: none;\n}\n.detail_box .mu-badge-container {\n  float: right;\n}\n.detail_box .content_box {\n  background: #fff;\n  -webkit-filter: drop-shadow(0 1px 6px rgba(0, 0, 0, 0.117647));\n          filter: drop-shadow(0 1px 6px rgba(0, 0, 0, 0.117647));\n  position: absolute;\n  width: 360px;\n  max-height: 540px;\n  border-radius: 4px;\n  pointer-events: initial;\n}\n.detail_box .content_box .btn_box {\n  display: -webkit-flex;\n  display: flex;\n  -webkit-justify-content: flex-end;\n          justify-content: flex-end;\n}\n.detail_box .content_box .btn_box > button {\n  margin-left: 12px;\n}\n.detail_box .content_box > .content_item {\n  overflow-y: auto;\n  max-height: 420px;\n}\n.detail_box .content_box > .content_item::-webkit-scrollbar-thumb {\n  margin-right: 3px;\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 10px;\n}\n.detail_box .content_box > .content_item::-webkit-scrollbar {\n  margin-right: 3px;\n  width: 5px;\n  background: white;\n}\n.detail_box .content_box li {\n  padding: 0 24px 16px;\n  box-sizing: border-box;\n  border-top: 1px dashed #f0f2f5;\n}\n.detail_box .content_box li:first-child {\n  border: none;\n}\n.detail_box .content_box li .li_content {\n  padding: 5px 0;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n.detail_box .content_box li .li_content.no_content {\n  color: #6e747d;\n}\n.detail_box .content_box li .li_content span {\n  color: #2878ff;\n  border-radius: 10px;\n  padding: 0px 0px;\n  margin-bottom: 5px;\n  word-break: break-word;\n  display: inline-block;\n}\n.detail_box .content_box li .li_top {\n  width: 100%;\n  height: 48px;\n  font-size: 12px;\n  line-height: 48px;\n}\n.detail_box .content_box li .li_top > div {\n  float: left;\n  margin-right: 8px;\n}\n.detail_box .content_box li .li_top .user_name {\n  max-width: 100px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-break: break-all;\n}\n.detail_box .content_box li .li_top .time {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 164px;\n  height: 48px;\n  overflow: hidden;\n}\n.detail_box .content_box li .top_menu {\n  margin-right: -18px !important;\n  float: right !important;\n  color: #9fa2a8;\n}\n.detail_box .content_box li .avatar {\n  margin-top: 12px;\n  width: 24px;\n  height: 24px;\n  overflow: hidden;\n  border-radius: 100%;\n}\n.detail_box .content_box li .avatar > img {\n  width: 100%;\n  display: block;\n}\n.detail_box .content_box li .avatar_color {\n  font-size: 12px;\n  border-radius: 20px;\n  overflow: hidden;\n  margin: 12px 5px 12px 0;\n  width: 24px;\n  height: 24px;\n  color: #fff;\n  text-align: center;\n  line-height: 24px;\n  display: block;\n  float: left;\n}\n.detail_box .content_box li .name {\n  max-width: 180px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.detail_box .content_box li .time {\n  color: #9fa2a8;\n}\n.detail_box .content_box .con_btn {\n  padding-bottom: 16px;\n  padding-right: 16px;\n  text-align: right;\n}\n.detail_box .content_box .con_edit {\n  font-size: 14px;\n  border-top: 1px dashed #f0f2f5;\n  padding: 24px;\n}\n.detail_box .content_box .con_top {\n  padding: 13px 18px;\n  box-sizing: border-box;\n  color: #6e747d;\n  border-radius: 4px 4px 0 0;\n  height: 50px;\n  background: #f0f2f5;\n  position: relative;\n}\n.detail_box .content_box .con_top .version-tip {\n  font-size: 12px;\n  color: #2878ff;\n  font-weight: 500;\n  line-height: 1;\n  position: absolute;\n  right: 24px;\n  top: 19px;\n  cursor: pointer;\n}\n.detail_box .mark_area {\n  transition: none;\n  cursor: pointer;\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: 2px solid #ff3756;\n  box-sizing: border-box;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.detail_box .mark_area.grey {\n  border-color: #9fa2a8;\n}\n.detail_box .mark_area.grey .mark_br {\n  background: #9fa2a8;\n}\n.detail_box .mark_area .mark_br {\n  color: #fff;\n  border-radius: 100%;\n  text-align: center;\n  /*line-height: 20px;*/\n  /*font-size: 12px;*/\n  /*border: 2px solid #fff;*/\n  /*width: 24px;*/\n  /*height: 24px;*/\n  position: absolute;\n  /*right: -10px;\n        bottom: -10px;*/\n  /*background: $red;*/\n  /* update for 2019.1.17 */\n  width: 34px !important;\n  height: 34px !important;\n  background: linear-gradient(180deg, #ff8181 0%, #ef1010 100%);\n  box-shadow: 0px 5px 8px 0px rgba(0, 0, 0, 0.3);\n  border: 2px solid white;\n  font-size: 20px;\n  line-height: 30px;\n  right: -17px;\n  bottom: -17px;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.detail_box .mark_area > span {\n  width: 8px;\n  height: 8px;\n  background: #fff;\n  border: 2px solid #ff3756;\n  border-radius: 100%;\n  position: absolute;\n}\n.detail_box .mark_area > span.mark_tl {\n  top: -5px;\n  left: -5px;\n  cursor: nwse-resize;\n}\n.detail_box .mark_area > span.mark_tc {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: ns-resize;\n}\n.detail_box .mark_area > span.mark_tr {\n  top: -5px;\n  right: -5px;\n  cursor: nesw-resize;\n}\n.detail_box .mark_area > span.mark_cl {\n  margin-top: -3px;\n  top: 50%;\n  left: -5px;\n  cursor: ew-resize;\n}\n.detail_box .mark_area > span.mark_cr {\n  margin-top: -3px;\n  top: 50%;\n  right: -5px;\n  cursor: ew-resize;\n}\n.detail_box .mark_area > span.mark_bl {\n  bottom: -5px;\n  left: -5px;\n  cursor: nesw-resize;\n}\n.detail_box .mark_area > span.mark_bc {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: ns-resize;\n}\n.detail_box .mark {\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  left: 0;\n  /*border: 2px solid #fff;*/\n  /*background: $red;*/\n  /*width: 24px !important;*/\n  /*height: 24px !important;*/\n  /*line-height: 20px;*/\n  /*font-size: 12px;*/\n  border-radius: 100%;\n  color: #fff;\n  text-align: center;\n  /* update for 2019.1.17 */\n  width: 34px !important;\n  height: 34px !important;\n  background: linear-gradient(180deg, #ff8181 0%, #ef1010 100%);\n  box-shadow: 0px 5px 8px 0px rgba(0, 0, 0, 0.3);\n  border: 2px solid white;\n  font-size: 20px;\n  line-height: 30px;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.detail_box .mark.grey {\n  background: #9fa2a8;\n}",""])},MEFo:function(e,t,n){"use strict";var i=n("pppo"),r=n("zaIU"),o=(n("tlas"),n("cD3G"),n("KHd+")),a=Object(o.a)(r.a,i.a,i.b,!1,null,"c08c815a",null);a.options.__file="src/view/detailDetach/comment/components/multiTextField.vue",t.a=a.exports},MKcy:function(e,t,n){var i=n("6vqZ");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(e.exports=i.locals)},MKnB:function(e,t,n){"use strict";var i=n("UTJH"),r=n("mCK3"),o=n("IlA0");t.a=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var c=t[a],u=Object(i.a)(e,c);n(u,c)&&Object(r.a)(l,Object(o.a)(c,e),u)}return l}},MMFO:function(e,t,n){"use strict";var i=n("G63P");t.a=i.a},MSMT:function(e,t,n){"use strict";(function(e){var i=n("o0o1"),r=n.n(i),o=n("lSNA"),a=n.n(o),s=n("yXPU"),l=n.n(s),c=n("cDf5"),u=n.n(c),d=n("7EGn"),h=n("NTuW"),f=n("rBdr"),p=n("ZE2U"),m=n("zSxR"),g=n("0TZp"),b=n("0L+3"),v=n("5N2e"),x=n("Zrpy"),w=n("Z+Z7"),y=n("pC5E"),_=n("MqXk"),k=n("UYE8"),I=n("tpcZ"),M=n.n(I),C=n("vMIN");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}t.a={name:"LayerBox",components:{layers:f.a,flowTip:m.a,MultipleLine:b.a,subLine:v.a,PercentShade:y.a,LayersBorder:_.a},mixins:[p.a,x.a,w.a],props:["jsonurl","imagebox","keyState"],data:function(){return{hasflowTip:!0,showflowTip:!1,bus:Object(h.a)(this),isbendi:!1,device:"",scale:1,layers:[],type:"",line:{show:!1,x:"",y:"",w:"",h:""},marginDistance:{show:!1,showHover:!1},margin:{show:!1,left:{show:!1,width:"",height:"",top:"",left:""},right:{show:!1,width:"",height:"",top:"",left:""},top:{show:!1,width:"",height:"",top:"",left:""},bottom:{show:!1,width:"",height:"",top:"",left:""}},subLine:{show:!1,l:{show:!1,l:0,t:0,h:0},r:{show:!1,l:0,t:0,h:0},t:{show:!1,l:0,t:0,w:0},b:{show:!1,l:0,t:0,w:0}},customUnit:"",resoluId:1,resoluScale:1,sliceScale:1,sliceIndex:[],layerEquare:!1,percentMode:!1,useLineMultiple:!1,handleKeyCode:{Ctrl:["Control","Meta"],Alt:["Alt"],Tab:["Tab"]},designResolution:null,flowData:null,HAS_TREE_PLUGIN_VERSION:"2.4.0",PLUGIN_TYPE:{sketchPlugin:"sketchPlugin"},layerTree:{},pluginVersion:"0",skVersion:0}},computed:{selectLayers:function(){var e=[];return this.layers.forEach((function(t){t.multiple_checked&&e.push(t)})),e},g_detail:{get:function(){return this.$g.data.board.detail},set:function(e){this.$g.data.board.detail=e}},showSubLine:function(){var e=this.margin,t=e.show,n=e.left,i=e.right,r=e.top,o=e.bottom;return t&&(n.show||i.show||r.show||o.show)&&this.marginDistance.show},showInfoIndex:function(){return this.g_detail.showInfoIndex},hotShow:function(){return this.keyState.shift&&"pl"==this.type},line_wrap:function(){return this.g_detail.line_wrap}},watch:{"$g.data.board.detail.allSliceVisbile":function(e){e&&this.hideLine()},imagebox:{handler:function(e){this.setScale()},deep:!0},scale:{handler:function(e){this.g_detail.scale=e,this.line.show=!1},immediate:!0},percentMode:function(e){this.g_detail.percentMode=e,e&&(window.Analyze("mark_percent"),this.line_wrap&&this.line_wrap.show&&window.Analyze("mark_multiple_percent"))},customUnit:function(e){this.g_detail.customUnit=e},useLineMultiple:function(e){this.g_detail.useLineMultiple=e},line:{handler:function(e){this.g_detail.hoverLine=e},deep:!0},resoluId:function(e){this.g_detail.resoluId=e},layers:function(e){this.g_detail.layers=e},resoluScale:function(e){this.g_detail.resoluScale=e},selectLayers:function(e){this.g_detail.selectLayers=e,e.length&&(window.Analyze("mark_multiple_chose"),this.percentMode&&window.Analyze("mark_multiple_percent"))}},mounted:function(){var e=this;window.layerBox=this,this.hasflowTip=g.a.getSet("hasflowTip"),this.getLayers(),this.$nextTick((function(){e._getUnitAgain()})),this.bus.$on("sendResolu",(function(t,n){e.resoluId=t,e.resoluScale=n})),this.getUserSetting(),document.addEventListener("keydown",this.orderRuleToggle),document.addEventListener("keyup",this.closeLineMultiple),window.addEventListener("blur",this.cancelKeyCode),document.addEventListener("mousedown",this.cancelKeyCodeHandle)},beforeDestroy:function(){this.$set(this,"layerTree",{}),document.removeEventListener("keydown",this.orderRuleToggle),document.removeEventListener("keyup",this.closeLineMultiple),window.removeEventListener("blur",this.cancelKeyCode),document.removeEventListener("mousedown",this.cancelKeyCodeHandle)},methods:{_getUnitAgain:function(){if(localStorage.getItem("selectDeviceObj_"+this.$route.query.project_id)){var e=JSON.parse(localStorage.getItem("selectDeviceObj_"+this.$route.query.project_id));5==e.index&&(this.customUnit=e.sub.unit)}},hideTip:function(){this.showflowTip=!1,g.a.setSet("hasflowTip")},getUserSetting:function(){if(localStorage.getItem("selectDeviceObj_"+this.$route.query.project_id)){var e=JSON.parse(localStorage.getItem("selectDeviceObj_"+this.$route.query.project_id));this.resoluScale=e.sub.scale,this.resoluId=e.index}},hideLine:function(){for(var e in this.line.show=!1,this.margin)"show"!==e&&(this.margin[e].show=!1)},showLine:function(e,t,n,i){var r;for(var o in"sketch"==this.type||"sketch43"==this.type?r=this.layers[e].frame:((r=this.layers[e]).x=Number(r.left),r.y=Number(r.top)),this.margin)"show"!==o&&(this.margin[o].show=!1);if(t&&e!==t){var a;if(this.margin.show=!0,"sketch"==this.type||"sketch43"==this.type)a=this.layers[t].frame;else if("ps"==this.type||"pl"==this.type){if(!(a=this.layers[t]))return;a.x=Number(a.left),a.y=Number(a.top)}this.mousemove(e,t,n,i),this.margin=this.setMargin({select:a,lineSize:r}),this.subLine=this.setSubLine({select:a,lineSize:r})}this.line.x=r.x*this.scale,this.line.y=r.y*this.scale,this.line.w=r.width*this.scale,this.line.h=r.height*this.scale,this.line.show=!0},hotHandle:function(e){"object"===u()(window.detailDetach)&&(e.shiftKey||(window.detailDetach.keyState.shift=!1),e.ctrlKey||(window.detailDetach.keyState.ctrl=!1))},numFormatt:function(e){return e=Number(e),this.g_detail.decimal?e:Math.round(e)},mousemove:function(e,t,n,i){if(t&&e!==t&&n&&i){var r=i.target,o=i.clientX,a=i.clientY,s=r.offsetWidth,l=r.offsetHeight,c=this.getOffsetLeft(n),u=this.getOffsetTop(n),d=n.offsetWidth,h=n.offsetHeight,f=c+d,p=u+h;this.$set(this.marginDistance,"showHover",!1),o>c&&o<f&&a>u&&a<p&&s*l>d*h?this.$set(this.marginDistance,"show",!1):o>c&&o<f&&a>u&&a<p&&e<t?(this.$set(this.marginDistance,"show",!1),this.$set(this.marginDistance,"showHover",!0)):this.$set(this.marginDistance,"show",!0)}},getOffsetTop:function(e){if(!e)return 0;var t=e.offsetTop;return e.offsetParent&&(t+=this.getOffsetTop(e.offsetParent)),t},getOffsetLeft:function(e){if(!e)return 0;var t=e.offsetLeft;return e.offsetParent&&(t+=this.getOffsetLeft(e.offsetParent)),t},getLayers:function(){this.layers=[];var t,n=[];t=window.useCustomServer?this.jsonurl.indexOf("http")>-1?this.jsonurl:"http://"+this.jsonurl:this.jsonurl.indexOf("https")>-1?this.jsonurl:"https://"+this.jsonurl;var i,o=this;o.layerTree={},o.pluginVersion="",o.skVersion=0,e.ajax({url:t,type:"GET",dataType:"JSON",beforeSend:function(){},success:(i=l()(r.a.mark((function e(i){var a,s,l,c,u,f,p,m,g,b,v,x,w;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(i),o.sliceIndex=[],i.pluginVersion&&(o.pluginVersion=i.pluginVersion||i.plVersion),!(i.sketchVersion&&i.sketchVersion>=43)){e.next=12;break}o.type="sketch43",o.layers=o.layersFilter(i.array),a=["fills","borders","shadows","innerShadows"],o.layers.forEach((function(e){if("text"==e._class){var t=Math.round(e.fontStyle.fontColor.r),n=Math.round(e.fontStyle.fontColor.g),i=Math.round(e.fontStyle.fontColor.b),r=e.fontStyle.fontColor.a;e.fontStyle.color="rgba(".concat(t,",").concat(n,",").concat(i,",").concat(r,")")}var s,l=O(a);try{for(l.s();!(s=l.n()).done;){var c=s.value;try{e.style[c]&&e.style[c].length>0&&e.style[c].forEach((function(e){1==e.fillType?e.gradient.stops.forEach((function(e){o.setColor(e.color)})):o.setColor(e.color)}))}catch(e){}}}catch(e){l.e(e)}finally{l.f()}})),o.device=o._setDefaultUserDevice(i),o.deviceToModel(),e.next=82;break;case 12:if(!i.pageID){e.next=20;break}o.type="sketch",i.array.forEach((function(e){if(e.frame.x=Number(e.frame.x),e.frame.y=Number(e.frame.y),e.frame.width=Number.isInteger(e.frame.width)?e.frame.width:Math.round(10*e.frame.width)/10,e.frame.height=Number.isInteger(e.frame.height)?e.frame.height:Math.round(10*e.frame.height)/10,"MSTextLayer"==e["<class>"]&&e.style.textStyle.NSColor){var t=e.style.textStyle.NSColor.color.slice(5,-1).split(",");for(var i in t)t[i]=3!=i?Math.round(255*t[i]):Math.round(10*t[i])/10;e.style.textStyle.NSColor.color="rgba(".concat(t.join(","),")")}e.width=e.frame.width,e.height=e.frame.height,n.push(e)})),o.layers=o.layersHandle(n),o.device=o._setDefaultUserDevice(i),o.deviceToModel(),e.next=82;break;case 20:if("ps"!=i.type){e.next=49;break}if(s=o.layersFilter(i.info),o.layers=o.sortByHasImages(s),o.type="ps",i.device?o.device=i.device:o.device=o._setDefaultUserDevice(i),l=["fill","textInfo","dropShadow","frameFX","solidFill","gradientFill","innerShadow"],c=["frameFXMulti","dropShadowMulti","solidFillMulti","gradientFillMulti","innerShadowMulti"],o.layers.forEach((function(e,t){if(e.hasOwnProperty("resolution")&&(o.designResolution=e.resolution),e.isAsset&&e.images&&e.images.png_xxxhd&&"/0"!=e.images.png_xxxhd.substr(-2)){var n={index:t,name:e.name,url:e.images.png_xxxhd,orgUrl:e.images.orgUrl?e.images.orgUrl:null,svg:e.images.svg?e.images.svg:null,images:e.images||{},width:e.width||0,height:e.height||0,web_id:e.web_id};e.images.isNew&&(n.svgUrl=e.images.svgUrl?e.images.svgUrl:null,n.imageUrl=e.images.imageUrl?e.images.imageUrl:null),o.sliceIndex.push(n)}e.strokeStyle&&e.strokeStyle.strokeStyleContent&&(e.strokeStyle.strokeStyleContent.color&&o.setPsColor($($({},e.strokeStyle.strokeStyleContent),{},{opacity:e.strokeStyle.strokeStyleContent.opacity||e.strokeStyle.opacity||{value:100}})),e.strokeStyle.strokeStyleContent.gradient&&e.strokeStyle.strokeStyleContent.gradient.colors&&e.strokeStyle.strokeStyleContent.gradient.colors.forEach((function(e){o.setPsColor(e)})));var i,r=O(l);try{for(r.s();!(i=r.n()).done;){var a=i.value;if("textInfo"==a)e[a]&&o.setPsColor(e[a]);else if(("gradientFill"==a||"frameFX"==a)&&e.layerEffects&&e.layerEffects[a])if(e.layerEffects[a].gradient&&e.layerEffects[a].gradient.colors)o.handleOpacity(e,a);else{e.layerEffects[a].gradient={colors:[{color:{red:215,green:215,blue:215,transparent:1},location:0,midpoint:50,type:"userStop"},{color:{red:255,green:255,blue:255,transparent:1},location:4096,midpoint:50,type:"userStop"}]};for(var s=0;s<e.layerEffects[a].gradient.colors.length;s++)o.setPsColor(e.layerEffects[a].gradient.colors[s])}else e.layerEffects&&e.layerEffects[a]&&o.setPsColor(e.layerEffects[a])}}catch(e){r.e(e)}finally{r.f()}var u,d=O(c);try{for(d.s();!(u=d.n()).done;){var h=u.value;if("gradientFillMulti"==h&&e.layerEffects&&e.layerEffects[h]){var f,p=O(e.layerEffects[h]);try{for(p.s();!(f=p.n()).done;){var m=f.value;if(m.gradient&&m.gradient.colors)for(var g=0;g<m.gradient.colors.length;g++)o.setPsColor(m.gradient.colors[g]);else{m.gradient={colors:[{color:{red:215,green:215,blue:215,transparent:1},location:0,midpoint:50,type:"userStop"},{color:{red:255,green:255,blue:255,transparent:1},location:4096,midpoint:50,type:"userStop"}]};for(var b=0;b<m.gradient.colors.length;b++)o.setPsColor(m.gradient.colors[b])}}}catch(e){p.e(e)}finally{p.f()}}else if(e.layerEffects&&e.layerEffects[h]){var v,x=O(e.layerEffects[h]);try{for(x.s();!(v=x.n()).done;){var w=v.value;o.setPsColor(w)}}catch(e){x.e(e)}finally{x.f()}}}}catch(e){d.e(e)}finally{d.f()}e.textInfo&&e.textInfo.textStyleRange&&e.textInfo.textStyleRange.length>1&&e.textInfo.textStyleRange.forEach((function(e){o.setPsColor(e.textStyle),null!==o.designResolution&&e.textStyle.impliedFontSize&&e.textStyle.impliedFontSize.value&&(e.textStyle.impliedFontSize.value=Math.round(e.textStyle.impliedFontSize.value/72*o.designResolution))})),e.fill&&e.fill.gradient&&e.fill.gradient.colors.forEach((function(e){o.setPsColor(e)})),e.fill&&e.fill.color&&o.setPsColor(e.fill)})),!i.sliceScale){e.next=32;break}o.sliceScale=i.sliceScale,e.next=45;break;case 32:if(!o.sliceIndex.length){e.next=45;break}u=o.layers[o.sliceIndex[0].index].images.base,e.t0=u,e.next="ios_1x"===e.t0?37:"ios_2x"===e.t0?39:"ios_3x"===e.t0?41:43;break;case 37:return o.sliceScale=4,e.abrupt("break",45);case 39:return o.sliceScale=2,e.abrupt("break",45);case 41:return o.sliceScale=4/3,e.abrupt("break",45);case 43:return o.sliceScale=2,e.abrupt("break",45);case 45:i.info[0].width,o.deviceToModel(),e.next=82;break;case 49:t.includes("FigmaJSON")&&(i=Object(C.a)(i)),o.type="pl",i.skVersion&&(o.skVersion=i.skVersion),i.device?o.device=i.device:o.device=o._setDefaultUserDevice(i),i.flow&&(o.showflowTip=!0),i.sliceScale?o.sliceScale=i.sliceScale:i.slice?o.sliceScale=i.slice:o.sliceScale=2,i.info[0].width>0&&console.log("width: ",i.info[0].width),f=o.layersFilter(i.info),p=i.pluginVersion||i.plVersion||"",m=function(e){return["2.4.0","2.4.1"].includes(p)?(e.forEach((function(e){!e.image&&e.influenceWidth&&(e.width^=e.influenceWidth,e.influenceWidth^=e.width,e.width^=e.influenceWidth),!e.image&&e.influenceLeft&&(e.left^=e.influenceLeft,e.influenceLeft^=e.left,e.left^=e.influenceLeft),!e.image&&e.influenceHeight&&(e.height^=e.influenceHeight,e.influenceHeight^=e.height,e.height^=e.influenceHeight),!e.image&&e.influenceTop&&(e.top^=e.influenceTop,e.influenceTop^=e.top,e.top^=e.influenceTop)})),e):e},M.a.compare(p.toString(),o.HAS_TREE_PLUGIN_VERSION,">=")&&Object(d.a)(i,"type")===o.PLUGIN_TYPE.sketchPlugin&&(m(i.info),g=new k.b(i.info),o.$set(o,"layerTree",g),o.g_detail.layerTree=g,f=g.outLayers(),o.bus.$on("resetLayers",(function(){var e=window.contextMenu.insetId,t=o.layers.findIndex((function(t){return t.id===e}));t>-1&&o.layers.splice(t,1),window.contextMenu.insetId=""})),console.log("LayerTree",g),console.log("LayerTree.layer",f)),o.layers=o.sortByHasImages(f),b=0;case 62:if(!(b<o.layers.length)){e.next=79;break}if(v=o.layers[b],o.layers[b].image&&(x={index:b,name:v.name,url:v.image.bitmap,svg:v.image.svg?v.image.svg:"",image:v.image||{},width:v.width||0,height:v.height||0,web_id:v.web_id},v.image.isNew&&(x.svgUrl=v.image.svgUrl?v.image.svgUrl:null,x.imageUrl=v.image.imageUrl?v.image.imageUrl:null),o.sliceIndex.push(x)),e.prev=65,!o.layers.flow||!o.layers.flow.targetId||"back"===o.layers.flow.targetId||"null"===o.layers.flow.targetId){e.next=71;break}return e.next=69,axios("/project/image?image_id=".concat(o.layers[b].flow.targetId,"&project_id=").concat(o.$route.query.project_id));case 69:(w=e.sent).data.result&&w.data.result.name?o.layers[b].flow.name=w.data.result.name:o.layers[b].flow.name="跳转页面未上传";case 71:e.next=76;break;case 73:e.prev=73,e.t1=e.catch(65),console.log("获取跳转 name 出错",e.t1);case 76:b++,e.next=62;break;case 79:M.a.compare(p.toString(),o.HAS_TREE_PLUGIN_VERSION,"<")&&Object(d.a)(i,"type")===o.PLUGIN_TYPE.sketchPlugin&&(f=o.layersFilter(i.info),o.layers=o.sortByHasImages(f)),o.deviceToModel(),o.flowData=i.flowData||null;case 82:i.device||(o.device=o._setDefaultUserDevice(i)),h.a.$emit("emitImgSize",o.layers[0]),o.deviceToModel(),o.setScale();case 86:case"end":return e.stop()}}),e,null,[[65,73]])}))),function(e){return i.apply(this,arguments)}),complete:function(){h.a.$emit("jsonDone")},error:function(){h.a.$emit("jsonDone")}})},handleOpacity:function(e,t){for(var n=0;n<e.layerEffects[t].gradient.colors.length;n++)e.layerEffects[t].gradient.transparency&&e.layerEffects[t].gradient.transparency[n]&&(e.layerEffects[t].gradient.colors[n].opacity={value:Number(e.layerEffects[t].gradient.transparency[n].opacity.value)}),this.setPsColor(e.layerEffects[t].gradient.colors[n])},sleep:function(e){return new Promise((function(t){setTimeout(t,e)}))},setColor:function(e){var t=Math.round(255*e.red),n=Math.round(255*e.green),i=Math.round(255*e.blue),r=e.alpha;e.value="rgba(".concat(t,",").concat(n,",").concat(i,",").concat(r,")")},setPsColor:function(e){var t,n,i;console.log("get obj: ",e),e.color?(e.color.red>-1?t=Math.round(e.color.red):e.color.r>-1?t=Math.round(e.color.r):(t=0,e.color.blue||e.color.green?e.color.red=0:(e.color.b||e.color.g)&&(e.color.r=0)),e.color.green>-1?n=Math.round(e.color.green):e.color.g>-1?n=Math.round(e.color.g):(n=0,e.color.blue||e.color.red?e.color.green=0:(e.color.b||e.color.r)&&(e.color.g=0)),e.color.blue>-1?i=Math.round(e.color.blue):e.color.b>-1?i=Math.round(e.color.b):(i=0,e.color.green||e.color.red?e.color.b=0:(e.color.g||e.color.r)&&(e.color.blue=0))):(e.color={},t=0,n=0,i=0),e.opacity?e.color.value="rgba(".concat(t,",").concat(n,",").concat(i,",").concat(Math.round(e.opacity.value)/100,")"):e.color.value="rgba(".concat(t,",").concat(n,",").concat(i,",1)")},setScale:function(){this.layers.length&&(this.layers[0].width&&(this.scale=this.imagebox.width/this.layers[0].width),this.layers[0].frame&&this.layers[0].frame.width&&(this.scale=this.imagebox.width/this.layers[0].frame.width),h.a.$emit("layerScaleChange",this.scale))},deviceToModel:function(){var e=this;this.$nextTick((function(){h.a.$emit("sendDevice",e.device,e.sliceScale,e.sliceIndex,e.type)}))},orderRuleToggle:function(e){e&&(this.handleKeyCode.Ctrl.includes(e.key)?this.useLineMultiple=!0:this.handleKeyCode.Alt.includes(e.key)&&!1===e.metaKey&&!1===e.ctrlKey&&(this.percentMode=!0))},closeLineMultiple:function(e){e&&(this.handleKeyCode.Ctrl.includes(e.key)?this.useLineMultiple=!1:this.handleKeyCode.Alt.includes(e.key)&&(this.percentMode=!1))},sortByHasImages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!g.a.getSet("sliceFirst"))return e;var t,n=[],i=[],r=this.type,o=O(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;a&&a.isAsset&&a.images&&a.images.png_xxxhd||a.exportable&&"pl"==r||a.isAsset&&"ps"==r?n.push(a):i.push(a)}}catch(e){o.e(e)}finally{o.f()}return i.concat(n)},layersHandle:function(e){var t=1;return e=e.map((function(e){return e.web_id=t++,e})),"sketch"==this.type||"sketch43"==this.type?e=e.map((function(e){return e.frame?(e.left=Number(e.frame.x),e.top=Number(e.frame.y),e.width=Number(e.frame.width),e.height=Number(e.frame.height),e.x=Number(e.frame.x),e.y=Number(e.frame.y),e):e})):"ps"!=this.type&&"pl"!=this.type||(e=e.map((function(e){return e.x=Number(e.left),e.y=Number(e.top),e}))),e},layersFilter:function(e){if("pl"!=this.type)return e=this.layersHandle(e);return e=(e=e.filter((function(e){return function(e){var t=["name","type","top","left","height","width","sharedStyle","x","y","symbolID","isAutolayout"],n=t.concat(["font"]);if("shape"===e.type||"path"===e.type){for(var i in e)if(!t.includes(i))return!0;return!1}if("text"===e.type){for(var r in e)if(!n.includes(r))return!0;return!1}return!("layer-group"===e.type&&e.symbolID&&!e.exportable&&!e.hasOwnProperty("opacity"))&&(e=null,!0)}(e)}))).filter((function(e){return!e.type||(!(!e.image&&!e.images)||"symbol"!==e.type.toLowerCase())})),this.layersHandle(e)},sortBySize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return t.width*t.height-e.width*e.height}))},addMultipleChose:function(e){var t=e.idx;if(0==this.selectLayers.length&&this.$refs.layer){var n=this.$refs.layer.showInfoIndex;if(!n&&0!=n||!this.layers[n])return this.$refs.layer.showInfoIndex=t,this.$refs.layer.showInfoIndex;this.$set(this.layers[n],"multiple_checked",!0),this.$refs.layer.showInfoIndex="",this.line.show=!1}this.$emit("closeOpen");var i=this.layers[t];this.$set(this.layers[t],"multiple_checked",!i.multiple_checked);var r=0;1==this.layers.filter((function(e,t){return e.multiple_checked&&(r=t),e.multiple_checked})).length&&(this.$set(this.layers[r],"multiple_checked",!1),this.$refs.layer&&(this.$refs.layer.showInfoIndex=r)),this.multipleWrapResize()},cancelAllLineChose:function(){var e,t=O(this.layers);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.$set(n,"multiple_checked",!1)}}catch(e){t.e(e)}finally{t.f()}this.multipleWrapResize()},multipleWrapResize:function(){},cancelKeyCode:function(){this.percentMode=!1,this.useLineMultiple=!1},cancelKeyCodeHandle:function(e){e.metaKey||e.ctrlKey||(this.useLineMultiple=!1),e.altKey||(this.percentMode=!1)},_setDefaultUserDevice:function(e){var t,n;switch(e.board?t=e.board:e.info&&e.info.length?t=e.info[0]:e.array&&e.array.length&&e.array[0].frame&&(t=e.array[0].frame),console.log(e),t.width){case 375:n="iOS @1x";break;case 750:n="iOS @2x";break;case 1242:n="iOS @3x";break;case 320:n="Android mdpi";break;case 480:n="Android hdpi";break;case 720:n="Android xhdpi";break;case 1080:n="Android xxhdpi";break;case 1440:n="Android xxxhdpi";break;default:n="Web @1x"}return n}}}}).call(this,n("EVdn"))},MqXk:function(e,t,n){"use strict";var i=n("oIl7"),r=n("+nEu"),o=(n("mQhD"),n("KHd+")),a=Object(o.a)(r.a,i.a,i.b,!1,null,"79f06738",null);a.options.__file="src/view/detailDetach/annotation/LayersBorder.vue",t.a=a.exports},MrDu:function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;t.a=function(e,t){return null!=e&&i.call(e,t)}},Mt6F:function(e,t,n){"use strict";var i=n("zILn"),r=n("fLJx"),o=(n("mxQ2"),n("KHd+")),a=Object(o.a)(r.a,i.a,i.b,!1,null,"89e91020",null);a.options.__file="src/view/detailDetach/annotation/layerBox.vue",t.a=a.exports},MuGU:function(e,t,n){"use strict";var i=n("7EGn"),r=n("NTuW"),o=n("ZtmH"),a=n("ZE2U");t.a={mixins:[o.a,a.a],props:{layers:{type:Array,default:[]},selectLayers:{type:Array,default:[]},marginDistance:{}},data:function(){return{bus:Object(r.a)(this)}},computed:{showInfoIndex:function(){return this.g_detail.showInfoIndex},layerCheckedItem:function(){var e=this.showInfoIndex,t=this.layers;return!(!e&&0!==e)&&t[e]},g_scale:function(){return this.g_detail.scale},g_slice_line:function(){return this.g_detail.slice_line},resoluScale:function(){return this.g_detail.resoluScale},decimal:function(){return this.g_detail.decimal},resoluId:function(){return this.g_detail.resoluId},hoverLine:function(){return this.g_detail.hoverLine},hoverIndex:function(){return this.g_detail.hoverIndex},height:function(){var e=Object(i.a)(this,"layers[0].height");return e?e*this.g_scale+"px":"100%"}},watch:function(){},mounted:function(){this.$nextTick((function(){}))}}},NApW:function(e,t,n){var i=n("WGip");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("f4d1418e",i,!1,{})},NL1T:function(e,t,n){"use strict";t.a={data:function(){return{resize:{type:[],ex:"",ey:"",status:!1},change:{ex:"",ey:"",width:"",height:"",status:!1}}},methods:{changeMarkStart:function(e,t){console.log(t),this.change={ex:e.clientX,ey:e.clientY,left:t.position_x,top:t.position_y,width:t.width,height:t.height,status:!0},console.log("changeMark --- changeMarkStart",this.change)},changeMark:function(e,t){var n=this;if(console.log("change Status: ",e,this.change,e.clientX,e.clientY),console.log("change Status obj: ",t),this.change.status){this.change.left>1&&(this.change.left=this.change.left/this.imagebox.width),this.change.top>1&&(this.change.top=this.change.top/this.imagebox.height),this.change.width>1&&(this.change.width=this.change.width/this.imagebox.width),this.change.height>1&&(this.change.height=this.change.height/this.imagebox.height);var i=(e.clientX-this.change.ex)/this.imagebox.width,r=(e.clientY-this.change.ey)/this.imagebox.height,o=this.change.left+i,a=this.change.top+r,s=1-this.change.width,l=1-this.change.height;if(o=Math.max(0,o),a=Math.max(0,a),o=Math.min(o,s),a=Math.min(a,l),"product"===this.$route.name){var c=1-34/this.imagebox.width,u=1-34/this.imagebox.height;o=Math.min(o,c),a=Math.min(a,u)}t.position_x=o,t.position_y=a,"product"===this.$route.name&&(t.position_x<1&&(t.position_x=t.position_x*this.imagebox.width),t.position_y<1&&(t.position_y=t.position_y*this.imagebox.height));try{this.drawEnd()}catch(e){}this.$nextTick((function(){n.$route.name}))}},changeMarkend:function(){this.change.status=!1},resizeMarkstart:function(e,t,n){this.resize={type:n,status:!0,ex:e.clientX,ey:e.clientY,_w:t.width>1?t.width/this.imagebox.width:t.width,_h:t.height>1?t.height/this.imagebox.height:t.height,_l:t.position_x>1?t.position_x/this.imagebox.width:t.position_x,_t:t.position_y>1?t.position_y/this.imagebox.height:t.position_y}},resizeMark:function(e,t){if(!this.resize.status)return!1;var n,i,r,o,a=this.resize.type,s=this.resize.ex,l=this.resize.ey,c=this.resize._w,u=this.resize._h,d=this.resize._t,h=this.resize._l,f=Math.abs((e.clientY-l)/this.imagebox.height),p=Math.abs((e.clientX-s)/this.imagebox.width),m=10/this.imagebox.width,g=10/this.imagebox.height;switch("left"==a||"up"==a||"leftup"==a?(e.clientX>s?(n=c-p,o=h+p):(n=c+p,o=h-p),e.clientY>l?(r=d+f,i=u-f):(r=d-f,i=u+f),n+o>1&&(n=1-o)):"leftdown"==a?(e.clientX>s?(n=c-p,o=h+p):(n=c+p,o=h-p),n+o>1&&(n=1-o),(i=e.clientY>l?u+f:u-f)+d>1&&(i=1-d)):"rightup"==a?(n=e.clientX>s?c+p:c-p,e.clientY>l?(r=d+f,i=u-f):(r=d-f,i=u+f)):((n=e.clientX>s?c+p:c-p)+h>1&&(n=1-h),(i=e.clientY>l?u+f:u-f)+d>1&&(i=1-d)),a){case"left":o>0&&(t.width=n),n!=m&&(t.position_x=o);break;case"up":i!=g&&(t.position_y=r),r>0&&(t.height=i);break;case"down":t.height=i;break;case"right":t.width=n;break;case"leftup":i!=g&&(t.position_y=r),n!=m&&(t.position_x=o),o>0&&(t.width=n),r>0&&(t.height=i);break;case"leftdown":n!=m&&(t.position_x=o),o>0&&(t.width=n),t.height=i;break;case"rightup":i!=g&&(t.position_y=r),t.width=n,t.height=i;break;case"rightdown":t.width=n,t.height=i}try{this.drawEnd()}catch(e){console.error(e)}},resizeMarkend:function(){this.resize.status=!1}}}},Ni7C:function(e,t,n){"use strict";var i=n("IlA0"),r=n("9f76"),o=n("/1FC"),a=n("cSlR"),s=n("Js68"),l=n("Tchk");t.a=function(e,t,n){for(var c=-1,u=(t=Object(i.a)(t,e)).length,d=!1;++c<u;){var h=Object(l.a)(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&Object(s.a)(u)&&Object(a.a)(h,u)&&(Object(o.a)(e)||Object(r.a)(e))}},NxC1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"layers_selected_box"},[n("section",{staticClass:"layers_box_box"},e._l(e.sublineList,(function(e,t){return n("sub-line",{key:t,staticClass:"layers_box",attrs:{subLine:e}})})),1),e._v(" "),n("section",{staticClass:"layers_distance_box"},e._l(e.margin,(function(t,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],key:i,staticClass:"layers_distance"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.left.show,expression:"item.left.show"}],staticClass:"line_l",style:{left:t.left.left*e.scale+"px",width:t.left.width*e.scale+"px",top:t.left.top*e.scale+"px"}},[n("div",{staticClass:"layer_margin_info",attrs:{"data-info":e.infoHandle(t.left.width,"width")}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.top.show,expression:"item.top.show"}],staticClass:"line_t",style:{left:t.top.left*e.scale+"px",height:t.top.height*e.scale+"px",top:t.top.top*e.scale+"px"}},[n("div",{staticClass:"layer_margin_info",attrs:{"data-info":e.infoHandle(t.top.height,"height")}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.bottom.show,expression:"item.bottom.show"}],staticClass:"line_b",style:{left:t.bottom.left*e.scale+"px",height:t.bottom.height*e.scale+"px",top:t.bottom.top*e.scale+"px"}},[n("div",{staticClass:"layer_margin_info",attrs:{"data-info":e.infoHandle(t.bottom.height,"height")}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.right.show,expression:"item.right.show"}],staticClass:"line_r",style:{left:t.right.left*e.scale+"px",width:t.right.width*e.scale+"px",top:t.right.top*e.scale+"px"}},[n("div",{staticClass:"layer_margin_info",attrs:{"data-info":e.infoHandle(t.right.width,"width")}})])])})),0),e._v(" "),n("section",{directives:[{name:"show",rawName:"v-show",value:(!e.line_wrap||!e.line_wrap.show)&&e.hoverLine.show,expression:"(!line_wrap || !line_wrap.show) && hoverLine.show"}],staticClass:"layer_margin_box"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.hoverMargin.show&&e.marginDistance.show,expression:"hoverMargin.show && marginDistance.show"}],staticClass:"layer_margin"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.hoverMargin.left.show,expression:"hoverMargin.left.show"}],staticClass:"line_l",style:{left:e.hoverMargin.left.left+"px",width:e.styleComputed(e.hoverMargin.left.width)+"px",top:e.hoverMargin.left.top+"px"}},[n("div",{staticClass:"layer_margin_info",attrs:{"data-info":e.infoHandle(e.hoverMargin.left.width/e.scale,"width"),"data-w":e.hoverMargin.left.width/e.scale}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hoverMargin.top.show,expression:"hoverMargin.top.show"}],staticClass:"line_t",style:{left:e.hoverMargin.top.left+"px",height:e.styleComputed(e.hoverMargin.top.height)+"px",top:e.hoverMargin.top.top+"px"}},[n("div",{staticClass:"layer_margin_info",attrs:{"data-info":e.infoHandle(e.hoverMargin.top.height/e.scale,"height")}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hoverMargin.bottom.show,expression:"hoverMargin.bottom.show"}],staticClass:"line_b",style:{left:e.hoverMargin.bottom.left+"px",height:e.styleComputed(e.hoverMargin.bottom.height)+"px",top:e.hoverMargin.bottom.top+"px"}},[n("div",{staticClass:"layer_margin_info",attrs:{"data-info":e.infoHandle(e.hoverMargin.bottom.height/e.scale,"height")}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hoverMargin.right.show,expression:"hoverMargin.right.show"}],staticClass:"line_r",style:{left:e.hoverMargin.right.left+"px",width:e.styleComputed(e.hoverMargin.right.width)+"px",top:e.hoverMargin.right.top+"px"}},[n("div",{staticClass:"layer_margin_info",attrs:{"data-info":e.infoHandle(e.hoverMargin.right.width/e.scale,"width")}})])])]),e._v(" "),e.line_wrap&&e.line_wrap.show?n("section",{staticClass:"line_wrap_box"},[n("div",{staticClass:"subline_x",style:{left:e.line_wrap.left*e.scale-e.subline_distance+"px",top:e.line_wrap.top*e.scale+"px",width:e.line_wrap.width*e.scale+2*e.subline_distance+"px",height:e.line_wrap.height*e.scale+"px"}}),e._v(" "),n("div",{staticClass:"subline_y",style:{left:e.line_wrap.left*e.scale+"px",top:e.line_wrap.top*e.scale-e.subline_distance+"px",width:e.line_wrap.width*e.scale+"px",height:e.line_wrap.height*e.scale+2*e.subline_distance+"px"}}),e._v(" "),n("div",{staticClass:"line_wrap",style:{left:e.line_wrap.left*e.scale+"px",top:e.line_wrap.top*e.scale+"px",width:e.line_wrap.width*e.scale+"px",height:e.line_wrap.height*e.scale+"px"}},[n("div",{staticClass:"line_r",attrs:{"data-height":e.infoHandle(e.line_wrap.height,"height")}}),e._v(" "),n("div",{staticClass:"line_b",attrs:{"data-width":e.infoHandle(e.line_wrap.width,"width")}})])]):e._e()])},r=[];i._withStripped=!0},P9AH:function(e,t,n){var i=n("4coj");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("2c817ff0",i,!1,{})},"Q/Jd":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".multi-text-field-wrap[data-v-c08c815a] {\n  position: relative;\n  margin-bottom: 12px;\n  margin-top: 4px;\n}\n.multi-text-field-wrap.focus .multi-text-focus-line[data-v-c08c815a] {\n  -webkit-transform: scaleX(1);\n          transform: scaleX(1);\n  width: 100%;\n}\n.multi-text-field-wrap .multi-text-placeholder[data-v-c08c815a] {\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  text-align: left;\n  font-size: 14px;\n  color: rgba(14, 23, 38, 0.4);\n  transition: opacity 0.45s cubic-bezier(0.23, 1, 0.32, 1);\n  -webkit-user-select: none;\n          user-select: none;\n  cursor: text;\n  overflow: hidden;\n  white-space: nowrap;\n  width: 100%;\n  line-height: 1.5;\n}\n.multi-text-field-wrap .multi-text-field[data-v-c08c815a] {\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  left: 0;\n  outline: none;\n  height: 100%;\n  width: 100%;\n  max-height: 312px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  word-break: break-all;\n}\n.multi-text-field-wrap .multi-text-line[data-v-c08c815a] {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 1px;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.4);\n  z-index: 2;\n}\n.multi-text-field-wrap .multi-text-focus-line[data-v-c08c815a] {\n  position: absolute;\n  z-index: 3;\n  bottom: 0;\n  left: 0;\n  height: 2px;\n  background-color: #2878ff;\n  -webkit-transform: scaleX(0);\n          transform: scaleX(0);\n  transition: -webkit-transform 0.45s cubic-bezier(0.23, 1, 0.32, 1);\n  transition: transform 0.45s cubic-bezier(0.23, 1, 0.32, 1);\n  transition: transform 0.45s cubic-bezier(0.23, 1, 0.32, 1), -webkit-transform 0.45s cubic-bezier(0.23, 1, 0.32, 1);\n}",""])},Q0wU:function(e,t,n){"use strict";var i=n("MKcy");n.n(i).a},Rgez:function(e,t){e.exports=function(e){return e}},Rkbe:function(e,t){e.exports=function e(t,n,i){var r,o,a,s;for(r=0,o=t.length;r<o;r+=1)a=t[r],i||(s=n(a,r,t)),!1!==s&&"function"===a.type&&Array.isArray(a.nodes)&&e(a.nodes,n,i),i&&n(a,r,t)}},SX9x:function(e,t,n){"use strict";var i=n("W90r");t.a=i.a},SnUP:function(e,t,n){"use strict";var i=n("kQWL"),r=n("MMFO"),o=(n("dGRw"),n("KHd+")),a=Object(o.a)(r.a,i.a,i.b,!1,null,null,null);a.options.__file="src/view/detailDetach/annotation/layersCopyTips.vue",t.a=a.exports},"T+BI":function(e,t,n){"use strict";var i=n("zqxz");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},TifY:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'.layer_borders > section[data-v-79f06738], .layer_borders[data-v-79f06738] {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  left: 0;\n  top: 0;\n}\n.layer_borders[data-v-79f06738] {\n  pointer-events: none;\n}\n.layer_borders .layer_select[data-v-79f06738] {\n  position: absolute;\n  pointer-events: none;\n  border: 1px solid #ff3366;\n}\n.layer_borders .layer_select.slice[data-v-79f06738] {\n  border: 1px dashed #ff3366;\n}\n.layer_borders .layer_select > span[data-v-79f06738] {\n  display: block;\n}\n.layer_borders .layer_select[data-v-79f06738]::before, .layer_borders .layer_select[data-v-79f06738]::after {\n  position: absolute;\n  display: block;\n  left: 50%;\n  top: -23px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  content: attr(data-width);\n  font-size: 12px;\n  color: #fff;\n  height: 20px;\n  line-height: 12px;\n  padding: 4px;\n  background: #ff3366;\n  border-radius: 2px;\n  font-weight: bolder;\n}\n.layer_borders .layer_select[data-v-79f06738]::after {\n  content: attr(data-height);\n  left: auto;\n  right: 0;\n  top: 50%;\n  -webkit-transform: translateX(calc(100% + 3px)) translateY(-50%);\n          transform: translateX(calc(100% + 3px)) translateY(-50%);\n}\n.layer_borders .multiple_checked[data-v-79f06738] {\n  position: absolute;\n  pointer-events: none;\n  border: 1px solid #ff3366;\n}\n.layer_borders .multiple_checked > span[data-v-79f06738] {\n  display: none;\n  border-color: #ff3366;\n}\n.layer_borders .multiple_checked[data-v-79f06738]::after {\n  display: none;\n  content: "";\n}\n.layer_borders .multiple_checked[data-v-79f06738]::before {\n  position: absolute;\n  display: block;\n  top: initial;\n  bottom: -18px;\n  left: -1px;\n  content: attr(data-multiplechecked);\n  height: 17px;\n  line-height: 15px;\n  padding: 2px;\n  border-radius: 0;\n  white-space: nowrap;\n  font-weight: bolder;\n  font-size: 12px;\n  background: #fff;\n  color: #ff3366;\n  -webkit-transform: translate(0, 0);\n          transform: translate(0, 0);\n}\n.layer_borders .hide .layer_select[data-v-79f06738]::before, .layer_borders .hide .layer_select[data-v-79f06738]::after {\n  display: none;\n}',""])},Tjpy:function(e,t,n){"use strict";var i=n("xWuZ"),r=n("UA7w"),o=n("xhnO");t.a=function(e){return Object(o.a)(Object(r.a)(e,void 0,i.a),e+"")}},UD3E:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.layers.length?n("div",{staticClass:"layer_box",on:{mouseleave:function(t){return t.target!==t.currentTarget?null:e.hideLine(t)},mousewheel:e.hideLine,wheel:e.hideLine,mousedown:function(t){return e.hotHandle(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.line.show&&e.marginDistance.show&&0==e.selectLayers.length&&!e.showInfoIndex,expression:"line.show && marginDistance.show && selectLayers.length == 0 && !showInfoIndex"}],staticClass:"layer_line"},[n("div",{staticClass:"line_x",style:{left:e.line.x+"px",width:e.line.w+"px"}}),e._v(" "),n("div",{staticClass:"line_y",style:{top:e.line.y+"px",height:e.line.h+"px"}})]),e._v(" "),n("percent-shade",{staticClass:"percentShade",attrs:{lineShow:e.line.show,scale:e.scale,hotShow:e.hotShow}}),e._v(" "),n("layers",{ref:"layer",attrs:{layers:e.layers,type:e.type,scale:e.scale,keyState:e.keyState,resoluScale:e.resoluScale,resoluId:e.resoluId,useLineMultiple:e.useLineMultiple,percentMode:e.percentMode,customUnit:e.customUnit,marginDistance:e.marginDistance,layerEquare:e.layerEquare,flowData:e.flowData},on:{showline:e.showLine,hideline:e.hideLine,mymousemove:e.mousemove,addMultipleChose:e.addMultipleChose,cancelAllLineChose:e.cancelAllLineChose}}),e._v(" "),e.hasflowTip?e._e():n("flow-tip",{directives:[{name:"show",rawName:"v-show",value:e.showflowTip,expression:"showflowTip"}],on:{hidetip:e.hideTip}}),e._v(" "),n("LayersBorder",{directives:[{name:"show",rawName:"v-show",value:!e.hotShow&&!e.$g.data.board.detail.allSliceVisbile,expression:"!hotShow && !$g.data.board.detail.allSliceVisbile"}],attrs:{selectLayers:e.selectLayers,layers:e.layers,resoluScale:e.resoluScale,marginDistance:e.marginDistance}}),e._v(" "),n("sub-line",{directives:[{name:"show",rawName:"v-show",value:e.showSubLine&&!e.hotShow&&e.line.show&&!e.$g.data.board.detail.allSliceVisbile,expression:"showSubLine && !hotShow && line.show && !$g.data.board.detail.allSliceVisbile"}],attrs:{subLine:e.subLine,keyState:e.keyState}}),e._v(" "),n("multiple-line",{directives:[{name:"show",rawName:"v-show",value:!e.hotShow&&!e.$g.data.board.detail.allSliceVisbile,expression:"!hotShow && !$g.data.board.detail.allSliceVisbile"}],ref:"multiple_line",attrs:{selectLayers:e.selectLayers,scale:e.scale,type:e.type,resoluId:e.resoluId,layers:e.layers,resoluScale:e.resoluScale,percentMode:e.percentMode,hoverMargin:e.margin,marginDistance:e.marginDistance}})],1):e._e()},r=[];i._withStripped=!0},UDVn:function(e,t,n){"use strict";var i=n("Dec9");t.a=i.a},UYE8:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b}));var i=n("RIqP"),r=n.n(i),o=n("lwsE"),a=n.n(o),s=n("W8MJ"),l=n.n(s),c=n("lSNA"),u=n.n(c),d=n("IzLi"),h=n("XIp8"),f=n("YVP9");function p(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var g={slice:"slice",symbol:"symbol",layerGroup:"layer-group",bitmap:"bitmap",hotspot:"hotspot",text:"text",shape:"shape",path:"path"},b=function(){function e(t){if(a()(this,e),u()(this,"idNodeMap",new Map),u()(this,"levelMap",new Map),u()(this,"parentMap",new Map),u()(this,"notRenderIds",new Set),u()(this,"data",[]),u()(this,"root",{}),this.idNodeMap=new Map,this.levelMap=new Map,this.parentMap=new Map,this.root={},!Array.isArray(t))throw new Error("data参数为数组");this.data=Object(h.a)(t),this.setIdNodeMap(this.data),this.insertNode(),this.setLevel([this.root],0),this.idNodeMap.forEach((function(e){e.setInclude()})),this.sortNode()}return l()(e,[{key:"setLevel",value:function(e,t){var n=this;e.forEach((function(e){if(e.setLevel(t),n.levelMap.has(t)?n.levelMap.get(t).add(e):n.levelMap.set(t,new Set([e])),e.children.length>0){var i=t+1;n.setLevel(e.children,i)}}))}},{key:"insertNode",value:function(){var e=this;this.idNodeMap.forEach((function(t){var n=e.findParentNode(t);t.setParent(n)}))}},{key:"findParentNode",value:function(e){var t=e.data.parentID;return this.idNodeMap.get(t)}},{key:"setParentMap",value:function(e,t){t&&(this.parentMap.has(t)||this.parentMap.set(t,new Map),this.parentMap.get(t).add(e))}},{key:"setIdNodeMap",value:function(e){var t=e.filter((function(e){return!e.isCopy}));e.filter((function(e){return e.isCopy})).forEach((function(e){var n=t.find((function(t){return t.id===e.symbolInstanceID}));n&&(n.id=e.id)}));var n,i=p(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.setIdNodeMapInset(r)}}catch(e){i.e(e)}finally{i.f()}}},{key:"setIdNodeMapInset",value:function(e){var t=new f.a(e);t.isRoot()&&this.setRoot(t),this.idNodeMap.set(e.id,t)}},{key:"setRoot",value:function(e){this.root=e}},{key:"isNode",value:function(e){return Object(d.a)(e)}},{key:"sortNode",value:function(){for(var e=this,t=this.levelMap,n=t.size,i=0;i<n;i++){t.get(i).forEach((function(t){t.children.sort((function(t,n){return e.sortByDataIndex(t,n)})),t.children.sort((function(t,n){return e.sortBySlice(t,n)}))}))}}},{key:"isLayerGroup",value:function(e){return e.type===g.layerGroup}},{key:"sortByDataIndex",value:function(e,t){return this.data.findIndex((function(t){return t.id===e.data.id}))-this.data.findIndex((function(e){return e.id===t.data.id}))}},{key:"sortBySlice",value:function(e,t){var n=e.data.type&&e.data.type==g.slice,i=t.data.type&&t.data.type==g.slice;return n||i?n&&i?0:n?1:i?-1:0:0}},{key:"sortBySliceGroup",value:function(e,t){var n=e.data.image,i=t.data.image,r=e.data.type&&e.data.type==g.slice,o=t.data.type&&t.data.type==g.slice;return r&&o?0:n||i?n&&i?0:r?1:o?-1:n?1:i?-1:0:0}},{key:"findNodeById",value:function(e){var t=this.idNodeMap.get(e);if(!t)throw new Error("id没找到");return t}},{key:"inParentTraverse",value:function(e,t){var n=this.findNodeById(e);this.inParentTraverseNode(n,t)}},{key:"inParentTraverseNode",value:function(e,t){t(e),e.parent&&this.inParentTraverseNode(e.parent,t)}},{key:"inChildrenTraverse",value:function(e,t){var n=this.findNodeById(e);this.inChildrenTraverseNode(n,t)}},{key:"inChildrenTraverseNode",value:function(e,t){var n=this;t(e);var i=e.children;i.length>0&&(i.sort((function(e,t){return e.data.type===g.layerGroup&&t.data.type===g.layerGroup?1:0})),i.forEach((function(e){n.inChildrenTraverseNode(e,t)})))}},{key:"outLayers",value:function(){var e=this,t=[];this.inChildrenTraverse(this.root.data.id,(function(n){var i=n.parent,r=n.data;if(i){var o=[];e.inParentTraverse(r.id,(function(e){e.data.id!==r.id&&o.push(e.data)})),o.every((function(e){return!e.image}))&&t.push(n)}}));var n=(t=(t=t.sort((function(t,n){return e.data.findIndex((function(e){return e.id===t.data.id}))-e.data.findIndex((function(e){return e.id===n.data.id}))}))).filter(this.filterNotSliceSymbolAndGroup)).filter((function(e){return e.data.type===g.slice})),i=new Set;n.forEach((function(e){e.parent.include.filter((function(t){return t&&e.isInclude(t)})).forEach((function(e){i.add(e)}))}));var o=(t=t.filter((function(e){return!r()(i).some((function(t){return e.equal(t)}))||e.data.image}))).map((function(e){return e.data}));return o=[this.root.data].concat(r()(o))}},{key:"filterNotSliceSymbolAndGroup",value:function(e){return!!e.data.image||e.data.type!==g.symbol&&e.data.type!==g.layerGroup}},{key:"outLayersSortNodeFilter",value:function(e){var t=!0,n=e.image,i=e.type;return n&&[g.layerGroup,g.symbol].includes(i)&&(t=!1),t}},{key:"getCoordinateItems",value:function(e,t){return this.data.filter((function(e){return e.parentID})).filter((function(n){var i=n.top,r=n.left,o=n.width,a=n.height;return i<t&&i+a>e&&r<t&&r+o>t}))}}]),e}()},UdHX:function(e,t,n){"use strict";var i=n("kTAi");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},UrCq:function(e,t){function n(e,t){var n,r,o=e.type,a=e.value;return t&&void 0!==(r=t(e))?r:"word"===o||"space"===o?a:"string"===o?(n=e.quote||"")+a+(e.unclosed?"":n):"comment"===o?"/*"+a+(e.unclosed?"":"*/"):"div"===o?(e.before||"")+a+(e.after||""):Array.isArray(e.nodes)?(n=i(e.nodes),"function"!==o?n:a+"("+(e.before||"")+n+(e.after||"")+(e.unclosed?"":")")):a}function i(e,t){var i,r;if(Array.isArray(e)){for(i="",r=e.length-1;~r;r-=1)i=n(e[r],t)+i;return i}return n(e,t)}e.exports=i},VC2a:function(e,t,n){(function(e){!function(e){"use strict";var t="textarea-helper",n=["box-sizing","height","width","padding-bottom","padding-left","padding-right","padding-top","font-family","font-size","font-style","font-variant","font-weight","word-spacing","letter-spacing","line-height","text-decoration","text-indent","text-transform","direction"],i=function(t){"textarea"===t.nodeName.toLowerCase()&&(this.$text=e(t),this.$mirror=e("<div/>").css({position:"absolute",overflow:"auto","white-space":"pre-wrap","word-wrap":"break-word",top:0,left:-9999}).insertAfter(this.$text))};(function(){this.update=function(){for(var t,i={},r=0;t=n[r];r++)i[t]=this.$text.css(t);this.$mirror.css(i).empty();var o=this.getOriginalCaretPos(),a=this.$text.val(),s=document.createTextNode(a.substring(0,o)),l=document.createTextNode(a.substring(o)),c=e("<span/>").addClass("textarea-helper-caret").css("position","absolute").html("&nbsp;");this.$mirror.append(s,c,l).scrollTop(this.$text.scrollTop())},this.destroy=function(){return this.$mirror.remove(),this.$text.removeData(t),null},this.caretPos=function(){this.update();var e=this.$mirror.find(".textarea-helper-caret"),t=e.position();return"rtl"===this.$text.css("direction")&&(t.right=this.$mirror.innerWidth()-t.left-e.width(),t.left="auto"),t},this.height=function(){return this.update(),this.$mirror.css("height",""),this.$mirror.height()},this.getOriginalCaretPos=function(){var e=this.$text[0];if(e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();if(null==t)return 0;var n=e.createTextRange(),i=n.duplicate();return n.moveToBookmark(t.getBookmark()),i.setEndPoint("EndToStart",n),i.text.length}return 0}}).call(i.prototype),e.fn.textareaHelper=function(n){return this.each((function(){var n=e(this),r=n.data(t);r||(r=new i(this),n.data(t,r))})),n?this.first().data(t)[n]():this}}(e)}).call(this,n("EVdn"))},Vibh:function(e,t,n){var i=n("Kkpq");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("11f753d5",i,!1,{})},W90r:function(e,t,n){"use strict";t.a={props:{scale:{default:1},hotShow:{type:Boolean,default:!1}},computed:{g_detail:{get:function(){return this.$g.data.board.detail},set:function(e){this.$g.data.board.detail=e}},percentShadeStyle:function(){var e=this.g_detail,t=e.percentShade,n=e.layers,i=e.showInfoIndex,r=e.selectLayers;if(i||r.length)return{left:t.x+"px",top:t.y+"px",width:t.w+"px",height:t.h+"px"};var o=n[0];return{left:o.left*this.scale+"px",top:o.top*this.scale+"px",width:o.width*this.scale+"px",height:o.height*this.scale+"px"}},percentMode:function(){return this.g_detail.percentMode}},beforeMount:function(){this.g_detail.showInfoIndex="",this.g_detail.line_wrap.show=!1,this.g_detail.selectLayers=[]},mounted:function(){this.$nextTick((function(){}))}}},WGip:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'@charset "UTF-8";\n/* 颜色 */\n/** 统一按钮颜色, 状态: 默认, hover颜色, 激活颜色 */\n/*全黑*/\n/*纯黑*/\n/*黑*/\n/*深灰*/\n/*背景色*/\n/* 字号 */\n/*特殊字体*/\na[data-v-6b4820e4] {\n  color: #2878FF;\n}\n.layers_subline[data-v-6b4820e4] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n}\n.layers_subline[data-v-6b4820e4], .layers_subline .subline_box[data-v-6b4820e4] {\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n.layers_subline .subline_box[data-v-6b4820e4] {\n  position: relative;\n}\n.layers_subline .subline_item[data-v-6b4820e4] {\n  position: absolute;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n.layers_subline .subline_item.l[data-v-6b4820e4], .layers_subline .subline_item.r[data-v-6b4820e4] {\n  width: 1px;\n  border-left: 1px dashed #5393FF;\n}\n.layers_subline .subline_item.t[data-v-6b4820e4], .layers_subline .subline_item.b[data-v-6b4820e4] {\n  height: 1px;\n  border-top: 1px dashed #5393FF;\n}',""])},WSjd:function(e,t,n){"use strict";t.a={data:function(){return{}},mounted:function(){this.$nextTick((function(){}))}}},YVP9:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("RIqP"),r=n.n(i),o=n("lwsE"),a=n.n(o),s=n("W8MJ"),l=n.n(s),c=n("lSNA"),u=n.n(c),d=n("vFlG"),h=n("XIp8"),f=function(){function e(t){a()(this,e),u()(this,"parent",null),u()(this,"children",[]),u()(this,"level",null),u()(this,"data",{}),this.data=Object(h.a)(t),this.id=t.id,this.label=t.name,this.parent=null,this.children=[],this.level=null,this.ancestors=[],this.include=[],this.included=[]}return l()(e,[{key:"setParent",value:function(e){e&&(this.parent=e,this.parent.children.unshift(this),this.setAncestor(e))}},{key:"setAncestor",value:function(e){this.ancestors||(this.ancestors=[]),this.ancestors.push(e),this.ancestors=this.ancestors.concat(e.ancestors)}},{key:"isAncestor",value:function(e){return this.ancestors.some((function(t){return t.id===e.id}))}},{key:"setInclude",value:function(){var e=this;this.include=this.getDescendant().map((function(t){if(e.isInclude(t))return t}))}},{key:"isInclude",value:function(e){return this.data.left<=e.data.left&&this.data.top<=e.data.top&&this.data.left+this.data.width>=e.data.left+e.data.width&&this.data.top+this.data.height>=e.data.top+e.data.height}},{key:"isRoot",value:function(){return!Object(d.a)(this.data,"parentID")}},{key:"setLevel",value:function(e){this.level=e}},{key:"equal",value:function(e){return this.id===e.id}},{key:"getDescendant",value:function(){var e=new Set;return this.getDescendantNode(this,e),r()(e)}},{key:"getDescendantNode",value:function(e,t){var n=this;Array.isArray(e.children)&&e.children.forEach((function(e){t.add(e),n.getDescendantNode(e,t)}))}}]),e}()},YZ99:function(e,t,n){var i=n("Q/Jd");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("4b41468a",i,!1,{})},"Z+Z7":function(e,t,n){"use strict";t.a={methods:{setSubLine:function(e){var t=e.select,n=e.lineSize,i=this.numFormatt,r=i(t.x),o=i(t.y),a=i(t.width),s=i(t.height),l=r+a,c=o+s,u=o+s/2,d=r+a/2,h=i(n.x),f=i(n.y),p=i(n.width),m=i(n.height),g=m+f,b=p+h,v=f+m/2,x=h+p/2,w={},y={},_={},k={},I=this.scale;if(f>c&&b<r&&(_.t=Math.min(f,u)*I,_.l=b*I-1,_.h=Math.abs(u-f)*I,_.show=!0),g<o&&b<r&&(_.t=Math.min(g,u)*I,_.l=b*I-1,_.h=Math.abs(u-g)*I,_.show=!0),g<o&&h>l&&(w.t=Math.min(g,u)*I,w.l=h*I,w.h=Math.abs(u-g)*I,w.show=!0),f>c&&h>l&&(w.t=Math.min(f,u)*I-1,w.l=h*I,w.h=Math.abs(u-f)*I,w.show=!0),g<o&&b<r&&(k.t=g*I-1,k.l=Math.min(b,d)*I,k.w=Math.abs(d-b)*I,k.show=!0),g<o&&h>l&&(k.t=g*I-1,k.l=Math.min(h,d)*I,k.w=Math.abs(d-h)*I,k.show=!0),f>c&&b<r&&(y.t=f*I,y.l=Math.min(b,d)*I,y.w=Math.abs(d-b)*I,y.show=!0),f>c&&h>l&&(y.t=f*I,y.l=Math.min(h,d)*I,y.w=Math.abs(d-h)*I,y.show=!0),b>r&&b<l&&h<r&&(f>=c?(w.t=Math.min(u,f)*I,w.l=Math.min(h,r)*I,w.h=Math.abs(u-f)*I,w.show=!0,_.t=Math.min(v,c)*I,_.l=Math.max(b,l)*I-1,_.h=Math.abs(v-c)*I,_.show=!0):o>=g&&(w.t=Math.min(g,u)*I,w.l=Math.min(h,r)*I,w.h=Math.abs(u-g)*I,w.show=!0,_.t=Math.min(v,o)*I,_.l=Math.max(b,l)*I-1,_.h=Math.abs(v-o)*I,_.show=!0)),h>r&&h<l&&b>l&&(f>=c?(w.t=Math.min(c,v)*I,w.l=Math.min(h,r)*I,w.h=Math.abs(c-v)*I,w.show=!0,_.t=Math.min(v,u)*I,_.l=Math.max(b,l)*I-1,_.h=Math.abs(v-u)*I,_.show=!0):o>=g&&(w.t=Math.min(o,v)*I,w.l=Math.min(h,r)*I,w.h=Math.abs(o-v)*I,w.show=!0,_.t=Math.min(g,u)*I,_.l=Math.max(b,l)*I-1,_.h=Math.abs(g-u)*I,_.show=!0)),g>o&&g<c&&f<o&&(b<=r?(y.t=Math.min(f,u)*I,y.l=Math.min(b,d)*I,y.w=Math.abs(b-d)*I,y.show=!0,k.t=Math.max(g,c)*I-1,k.l=Math.min(x,r)*I-1,k.w=Math.abs(x-r)*I,k.show=!0):l<=h&&(y.t=Math.min(f,u)*I,y.l=Math.min(h,d)*I,y.w=Math.abs(h-d)*I,y.show=!0,k.t=Math.max(g,c)*I-1,k.l=Math.min(l,x)*I-1,k.w=Math.abs(l-x)*I,k.show=!0)),f>o&&f<c&&g>c&&(b<=r?(y.t=Math.min(f,o)*I,y.l=Math.min(x,r)*I,y.w=Math.abs(x-r)*I,y.show=!0,k.t=Math.max(g,c)*I-1,k.l=Math.min(b,d)*I-1,k.w=Math.abs(b-d)*I,k.show=!0):l<=h&&(y.t=Math.min(f,o)*I,y.l=Math.min(l,x)*I,y.w=Math.abs(l-x)*I,y.show=!0,k.t=Math.max(g,c)*I-1,k.l=Math.min(d,h)*I-1,k.w=Math.abs(d-h)*I,k.show=!0)),o>=f&&c<=g||o<=f&&c>=g){var M,C;if(b<=r)s<m?(M=b,C=Math.abs(b-d)):(M=x,C=Math.abs(r-x)),y.t=Math.min(f,o)*I,y.l=M*I,y.w=C*I,y.show=!0,k.t=Math.max(g,c)*I-1,k.l=M*I,k.w=C*I,k.show=!0;else if(l<=h){var S,$;s<m?(S=d,$=Math.abs(h-d)):(S=l,$=Math.abs(l-x)),y.t=Math.min(f,o)*I,y.l=S*I,y.w=$*I,y.show=!0,k.t=Math.max(g,c)*I-1,k.l=S*I,k.w=$*I,k.show=!0}o==f&&(y.show=!1),c==g&&(k.show=!1)}if(r>=h&&l<=b||r<=h&&l>=b){var O,A;if(g<=o)a<p?(O=g,A=Math.abs(g-u)):(O=v,A=Math.abs(c-v)),w.t=O*I,w.l=Math.min(h,r)*I,w.h=A*I,w.show=!0,_.t=O*I,_.l=Math.max(b,l)*I-1,_.h=A*I,_.show=!0;else if(c<=f){var E,T;a<p?(E=u,T=Math.abs(u-f)):(E=c,T=Math.abs(c-v)),w.t=E*I,w.l=Math.min(h,r)*I,w.h=T*I,w.show=!0,_.t=E*I,_.l=Math.max(b,l)*I-1,_.h=T*I,_.show=!0}r==h&&(w.show=!1),l==b&&(_.show=!1)}return{l:w,t:y,r:_,b:k,show:!0}}}}},Z6LO:function(e,t,n){"use strict";var i=n("tqZc");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},ZE2U:function(e,t,n){"use strict";var i=n("0TZp");t.a={data:function(){return{decimal:!1}},mounted:function(){var e=this;this.bus.$on("changedecimal",(function(t){e.decimal=t})),this.decimal=i.a.getSet("decimal")},methods:{getModel:function(e){return this.getTextModel(e,!0)},getTextModel:function(e,t){var n,i=this.decimal?100:1;switch(Number(this.resoluId)){case 2:case 3:case 4:n="px";break;case 0:n="pt";break;case 1:n=t?"dp":"sp";break;case 6:n="rem"}return Math.round(e/this.resoluScale*i)/i+n}}}},ZU0V:function(e,t,n){var i=n("cDf5");function r(e){return e&&"object"===i(e)?s(e)||l(e)?e:a(e)?function(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}(e,r):function(e,t,n){if(e.reduce)return e.reduce(t,n);for(var i=0;i<e.length;i++)n=t(n,e[i],i);return n}(u(e),(function(t,n){return t[o(n)]=r(e[n]),t}),{}):e}function o(e){return e.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}))}e.exports=function(e){return"string"==typeof e?o(e):r(e)};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=function(e){return"[object Date]"===Object.prototype.toString.call(e)},l=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},c=Object.prototype.hasOwnProperty,u=Object.keys||function(e){var t=[];for(var n in e)c.call(e,n)&&t.push(n);return t}},ZV30:function(e,t,n){"use strict";var i=n("/gL7");t.a=i.a},Zdxw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layers_subline"},[n("section",{directives:[{name:"show",rawName:"v-show",value:e.subLine.show,expression:"subLine.show"}],staticClass:"subline_box subline_single"},e._l(e.subLineKeys,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.subLine[t].show,expression:"subLine[key].show"}],key:t,class:["subline_item",t],style:e.styleComputed(t)})})),0)])},r=[];i._withStripped=!0},Zrpy:function(e,t,n){"use strict";t.a={methods:{setMargin:function(e){var t=e.select,n=e.lineSize,i=this.numFormatt,r=i(t.x),o=i(t.y),a=i(t.width),s=i(t.height),l=r+a,c=o+s,u=o+s/2,d=r+a/2,h=i(n.x),f=i(n.y),p=i(n.width),m=i(n.height),g=m+f,b=p+h,v=f+m/2,x=h+p/2,w={},y={},_={},k={},I=this.scale,M=h>=r&&h<=l||b>=r&&b<=l||r>=h&&r<=b||l>=h&&l<=b,C=f>=o&&f<=c||g>=o&&g<=c||o>=f&&o<=g||c>=f&&c<=g,S=b<=r||l<=h,$=g<=o||c<=f,O=r>=h&&l<=b||r<=h&&l>=b,A=o>=f&&c<=g||o<=f&&c>=g,E=(Math.max(h,r)+(Math.min(l,b)-Math.max(h,r))/2)*I,T=(Math.max(f,o)+(Math.min(c,g)-Math.max(f,o))/2)*I;if(c<f&&(k.show=!0,k.height=Math.abs(f-c)*I,k.left=M?E:d*I,k.top=c*I),b<r&&(w.show=!0,w.width=Math.abs(r-b)*I,w.left=b*I,w.top=C?T:u*I),l<h&&(_.show=!0,_.width=Math.abs(h-l)*I,_.left=l*I,_.top=C?T:u*I),g<o&&(y.show=!0,y.top=g*I,y.left=M?E:d*I,y.height=Math.abs(o-g)*I),o>f&&c<g||o<f&&c>g){var N=s<m?d:x,L=l==h||b==r;y.show=!0,y.top=Math.min(f,o)*I,y.left=M&&!L?E:N*I,y.height=Math.abs(f-o)*I,k.show=!0,k.top=Math.min(g,c)*I,k.left=M&&!L?E:N*I,k.height=Math.abs(g-c)*I}if(r>h&&l<b||r<h&&l>b){var j=a<p?u:v,P=c==f||g==o;w.show=!0,w.top=C&&!P?T:j*I,w.left=Math.min(r,h)*I,w.width=Math.abs(r-h)*I,_.show=!0,_.top=C&&!P?T:j*I,_.left=Math.min(l,b)*I,_.width=Math.abs(l-b)*I}if(b>r&&b<l&&h===r||l>h&&l<b&&h===r)if(_.show=!0,_.left=Math.min(l,b)*I,_.width=Math.abs(l-b)*I,$){var D=a<p?u:v;_.top=D*I}else _.top=T;if(h>r&&h<l&&b===l||r>h&&r<b&&b===l)if(w.show=!0,w.left=Math.min(r,h)*I,w.width=Math.abs(r-h)*I,$){var z=a<p?u:v;w.top=z*I}else w.top=T;if(c>f&&c<g&&o===f||g>o&&g<c&&o===f)if(k.show=!0,k.top=Math.min(g,c)*I,k.height=Math.abs(g-c)*I,S){var F=s<m?d:x;k.left=F*I}else k.left=E;if(o>f&&o<g&&c===g||f>o&&f<c&&c===g)if(y.top=Math.min(f,o)*I,y.height=Math.abs(f-o)*I,y.show=!0,S){var R=s<m?d:x;y.left=R*I}else y.left=E;if(b>r&&b<l&&h<r){var U=g>o&&g<c&&f<o;if(U||f>o&&f<c&&g>c){var V=U?(g+o)/2:(f+c)/2;w.show=!0,w.top=V*I,w.left=Math.min(r,h)*I,w.width=Math.abs(r-h)*I,_.show=!0,_.top=V*I,_.left=Math.min(l,b)*I,_.width=Math.abs(l-b)*I}else{var H=s<m?u:v;w.show=!0,w.top=A?H*I:u*I,w.left=Math.min(r,h)*I,w.width=Math.abs(r-h)*I,_.show=!0,_.top=A?H*I:v*I,_.left=Math.min(l,b)*I,_.width=Math.abs(l-b)*I}}if(h>r&&h<l&&b>l){var W=g>o&&g<c&&f<o;if(W||f>o&&f<c&&g>c){var q=W?(g+o)/2:(f+c)/2;w.show=!0,w.top=q*I,w.left=Math.min(r,h)*I,w.width=Math.abs(r-h)*I,_.show=!0,_.top=q*I,_.left=Math.min(l,b)*I,_.width=Math.abs(l-b)*I}else{var B=s<m?u:v;w.show=!0,w.top=A?B*I:v*I,w.left=Math.min(r,h)*I,w.width=Math.abs(r-h)*I,_.show=!0,_.top=A?B*I:u*I,_.left=Math.min(l,b)*I,_.width=Math.abs(l-b)*I}}if(g>o&&g<c&&f<o){var G=b>r&&b<l&&h<r;if(G||h>r&&h<l&&b>l){var K=G?(b+r)/2:(h+l)/2;y.show=!0,y.top=Math.min(f,o)*I,y.left=K*I,y.height=Math.abs(f-o)*I,k.show=!0,k.top=Math.min(g,c)*I,k.left=K*I,k.height=Math.abs(g-c)*I}else{var Z=a<p?d:x;y.show=!0,y.top=Math.min(f,o)*I,y.left=O?Z*I:d*I,y.height=Math.abs(f-o)*I,k.show=!0,k.top=Math.min(g,c)*I,k.left=O?Z*I:x*I,k.height=Math.abs(g-c)*I}}if(f>o&&f<c&&g>c){var X=b>r&&b<l&&h<r;if(X||h>r&&h<l&&b>l){var Y=X?(b+r)/2:(h+l)/2;y.show=!0,y.top=Math.min(f,o)*I,y.left=Y*I,y.height=Math.abs(f-o)*I,k.show=!0,k.top=Math.min(g,c)*I,k.left=Y*I,k.height=Math.abs(g-c)*I}else{var J=a<p?d:x;y.show=!0,y.top=Math.min(f,o)*I,y.left=O?J*I:x*I,y.height=Math.abs(f-o)*I,k.show=!0,k.top=Math.min(g,c)*I,k.left=O?J*I:d*I,k.height=Math.abs(g-c)*I}}return{top:y,left:w,bottom:k,right:_,show:this.margin.show}}}}},ZtmH:function(e,t,n){"use strict";var i=n("lSNA"),r=n.n(i);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a={computed:{g_detail:{get:function(){return this.$g.data.board.detail},set:function(e){this.$g.data.board.detail=e}}},methods:{infoHandle:function(e,t){if(null==e||isNaN(e))return"";var n=this.g_detail,i=n.customUnit,r=n.layers,o=n.resoluScale,a=n.resoluId,s=n.percentMode,l=n.decimal,c=n.layertype,u=r[0];"sketch"!=c&&"sketch43"!=c||!u.frame||((u=u.frame).left=u.x,u.top=u.y);var d=u.width,h=u.height,f="";if(s)return this.__percentHandle(String(e),t);var p=l?function(e){return Math.round(100*e)/100}:Math.round;return 5!=a?f=this.getModel(e):"width"===t?f=p(e/d*o)+i:"height"===t?f=p(e/h*(o/(d/h)))+i:"layersWidth"===t?f=e!=d?p(e/d*o)+i:o+i:"layersHeight"===t&&(f=e!=h?p(e/h*(o/(d/h)))+i:p(o/(d/h))+i),f},__percentHandle:function(e,t){var n=this.g_detail,i=n.line_wrap,r=n.hoverLine,o=n.layers,a=n.selectLayers,s=n.layertype;e=this._toNumber(e);var l=1,c="width"==t||"layersWidth"==t?"width":"height",u=this.__isCover(),d=u.cover,h=u.result;if(r.show&&d)l=h[c];else if(a.length)l=i[c];else{var f=o[0];"sketch"!=s&&"sketch43"!=s||!f.frame||((f=f.frame).left=f.x,f.top=f.y),l=f[c]}return e/=l,e=Math.round(1e4*e)/100+"%"},__isCover:function(){var e=this.g_detail,t=e.line_wrap,n=e.hoverLine,i=e.selectLayers,r=e.layers,o=e.showInfoIndex,s=e.scale,l={},c={},u=i.length;if(c.hl=n.x/s,c.hw=n.w/s,c.ht=n.y/s,c.hh=n.h/s,u)l=a({},t);else{if(!o||!r[o])return{cover:!1};l=a({},r[o])}return l.sl=l.left,l.st=l.top,l.sw=l.width,l.sh=l.height,this.__positionCompare(l,c,u)},__positionCompare:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.g_detail,r=i.scale,o=i.hoverLine,a=Math.round,s=e.sl,l=e.st,c=e.sw,u=e.sh,d=t.hl,h=t.ht,f=t.hw,p=t.hh,m=s+c,g=l+u,b=d+f,v=h+p;return s=a(s),l=a(l),c=a(c),u=a(u),d=a(d),h=a(h),f=a(f),p=a(p),m=a(m),g=a(g),b=a(b),v=a(v),s>=d&&l>=h&&m<=b&&g<=v&&o.show?(this.g_detail.percentShade={show:!0,x:d*r,y:h*r,w:f*r,h:p*r},{cover:!0,result:{width:f,height:p}}):n?(this.g_detail.percentShade={show:!0,x:s*r,y:l*r,w:c*r,h:u*r},{cover:!1,result:{width:c,height:u}}):(this.percentShadeInit(),{cover:!1})},percentShadeInit:function(){var e=this.g_detail,t=e.scale,n=e.layers,i=e.layertype,r=n[0];"sketch"!=i&&"sketch43"!=i||!r.frame||((r=r.frame).left=r.x,r.top=r.y),this.g_detail.percentShade={show:!0,x:r.left*t,y:r.top*t,w:r.width*t,h:r.height*t}},_toNumber:function(e){return e.replace(/[^0-9\.]/g,"")}}}},a2Z4:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'@charset "UTF-8";\n/* 颜色 */\n/** 统一按钮颜色, 状态: 默认, hover颜色, 激活颜色 */\n/*全黑*/\n/*纯黑*/\n/*黑*/\n/*深灰*/\n/*背景色*/\n/* 字号 */\n/*特殊字体*/\na[data-v-21648338] {\n  color: #2878FF;\n}\n.notice_box[data-v-21648338] {\n  position: fixed;\n  width: 200px;\n  max-height: 200px;\n  overflow-y: auto;\n  background: #fff;\n  border-radius: 2px;\n  border: 1px solid #c9c9c9;\n  z-index: 6;\n  pointer-events: visible;\n}\n.notice_box li[data-v-21648338] {\n  box-sizing: content-box;\n  cursor: pointer;\n  overflow: hidden;\n  line-height: 40px;\n  height: 40px;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 12px;\n}\n.notice_box li.active[data-v-21648338] {\n  background: #5393FF;\n  color: #fff;\n}\n.notice_box li span[data-v-21648338] {\n  font-size: 12px;\n  border-radius: 20px;\n  overflow: hidden;\n  margin: 10px 8px 10px 16px;\n  width: 20px;\n  height: 20px;\n  color: #fff;\n  text-align: center;\n  line-height: 20px;\n  display: block;\n  float: left;\n}\n.notice_box li span img[data-v-21648338] {\n  width: 100%;\n}',""])},ai6K:function(e,t,n){"use strict";var i,r,o=n("lSNA"),a=n.n(o),s=n("o0o1"),l=n.n(s),c=n("yXPU"),u=n.n(c),d=n("fujP"),h=n("YP4+"),f=n("nqxM"),p=n("GeMr");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a={created:function(){console.log("refreshComments registed"),this.bus.$on("refreshComments",this.refreshComments)},methods:{refreshComments:(r=u()(l.a.mark((function e(){var t,n,i,r,o,a,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.length>0&&void 0!==s[0]?s[0]:{},n=t.pageId,i=t.imageId,r=t.commentId,o=t.callback,a=t.errorCallback,this.refreshCommentsPop({pageId:n,imageId:i,commentId:r,callback:o,errorCallback:a});case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)}),refreshCommentsPop:(i=u()(l.a.mark((function e(){var t,n,i,r,o,a,s,c,u,m,b,v,x,w,y=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.length>0&&void 0!==y[0]?y[0]:{},n=t.pageId,i=t.imageId,r=t.commentId,o=t.callback,a=t.errorCallback,s=this.isProductPage,c=g({all:!0},s?{page_id:n,image_id:i,page:1,pageSize:1e3}:{image_id:i,page:1,pageSize:1e3,read:!1}),console.log("lris comment() isProduct: ",s,"params: ",c),u=[],e.prev=6,e.next=9,p.a.comment.get(c);case 9:if(m=e.sent,b=(m||{}).data,!Object(d.a)(b)){e.next=15;break}return o&&o(!1),e.abrupt("return");case 15:u=b,e.next=26;break;case 18:return e.prev=18,e.t0=e.catch(6),v=null===e.t0||void 0===e.t0?void 0:e.t0.stack,x=null===e.t0||void 0===e.t0?void 0:e.t0.message,this.logger.info("FILL","ws fetch comments wrong, message: ".concat(x)),this.logger.info("FILL","ws fetch comments wrong, stack: ".concat(v)),a&&a(),e.abrupt("return");case 26:if(w=Object(f.a)(u,r),console.log("lris socketComment: ",w),w){e.next=31;break}return o&&o(!1),e.abrupt("return");case 31:console.log("lris COMMENT_ALL: ",h.t),this.bus.$emit("sendMarks",u,h.t,null,!1),s?(this.bus.$emit("refreshProjectComments",u||[]),this.bus.$emit("reRenderComments",{callback:function(){console.log("lris reRenderComments callback...",o),o&&o(!0)}})):o&&o(!0);case 34:case"end":return e.stop()}}),e,this,[[6,18]])}))),function(){return i.apply(this,arguments)})}}},"b+Qb":function(e,t,n){"use strict";var i=n("UdHX"),r=n("UDVn"),o=(n("8m1m"),n("KHd+")),a=Object(o.a)(r.a,i.a,i.b,!1,null,"21648338",null);a.options.__file="src/view/detailDetach/comment/member.vue",t.a=a.exports},b2ZF:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layer_borders",style:{height:e.height}},[e.layerCheckedItem&&!e.selectLayers.length?n("section",{class:{layer_checked_section:!0,hide:e.hoverLine.show&&e.hoverIndex!=e.showInfoIndex&&e.marginDistance.show}},[n("div",{class:{layer_select:!0,slice:e.layerCheckedItem.exportable&&!e.g_slice_line},style:{width:e.layerCheckedItem.width*e.g_scale+"px",height:e.layerCheckedItem.height*e.g_scale+"px",top:e.layerCheckedItem.y*e.g_scale+"px",left:e.layerCheckedItem.x*e.g_scale+"px"},attrs:{"data-width":e.infoHandle(e.layerCheckedItem.width,"layersWidth"),"data-height":e.infoHandle(e.layerCheckedItem.height,"layersHeight"),"data-multiplechecked":e.infoHandle(e.layerCheckedItem.width,"layersWidth")+" × "+e.infoHandle(e.layerCheckedItem.height,"layersHeight")}})]):e._e(),e._v(" "),e.selectLayers.length?n("section",{staticClass:"multiple_checked_section"},e._l(e.selectLayers,(function(t){return n("div",{key:t.web_id,class:{multiple_checked:!0,slice:t.exportable&&!e.g_slice_line},style:{width:t.width*e.g_scale+"px",height:t.height*e.g_scale+"px",top:t.y*e.g_scale+"px",left:t.x*e.g_scale+"px"},attrs:{"data-width":e.infoHandle(t.width,"layersWidth"),"data-height":e.infoHandle(t.height,"layersHeight"),"data-multiplechecked":e.infoHandle(t.width,"layersWidth")+" × "+e.infoHandle(t.height,"layersHeight")}})})),0):e._e()])},r=[];i._withStripped=!0},bLXj:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'@charset "UTF-8";\n/* 颜色 */\n/** 统一按钮颜色, 状态: 默认, hover颜色, 激活颜色 */\n/*全黑*/\n/*纯黑*/\n/*黑*/\n/*深灰*/\n/*背景色*/\n/* 字号 */\n/*特殊字体*/\na[data-v-4e8e135a] {\n  color: #2878FF;\n}\n.layers_selected_box[data-v-4e8e135a] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9;\n  pointer-events: none;\n}\n.layers_selected_box > section[data-v-4e8e135a], .layers_selected_box .layers_box[data-v-4e8e135a], .layers_selected_box .layers_distance .layers_selected_box .line_wrap[data-v-4e8e135a], .layers_selected_box .layer_margin[data-v-4e8e135a] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.layers_selected_box .layers_box > div[data-v-4e8e135a] {\n  position: absolute;\n  overflow: hidden;\n  border: 1px dashed #FF3756;\n  box-sizing: border-box;\n  content: "";\n}\n.layers_selected_box .layers_box .line_x[data-v-4e8e135a] {\n  border-top: 0;\n  border-bottom: 0;\n  height: 100%;\n}\n.layers_selected_box .layers_box .line_y[data-v-4e8e135a] {\n  border-left: 0;\n  border-right: 0;\n  width: 100%;\n}\n.layers_selected_box .layers_distance > div[data-v-4e8e135a] {\n  background: #ff3366;\n  position: absolute;\n}\n.layers_selected_box .layers_distance .layer_margin_info[data-v-4e8e135a]::before {\n  font-weight: bolder;\n  position: absolute;\n  display: block;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  content: attr(data-info);\n  font-size: 12px;\n  color: #fff;\n  height: 20px;\n  line-height: 12px;\n  padding: 4px;\n  background: #ff3366;\n  border-radius: 2px;\n}\n.layers_selected_box .layers_distance .line_l[data-v-4e8e135a], .layers_selected_box .layers_distance .line_r[data-v-4e8e135a] {\n  height: 1px;\n}\n.layers_selected_box .layers_distance .line_t[data-v-4e8e135a], .layers_selected_box .layers_distance .line_b[data-v-4e8e135a] {\n  width: 1px;\n}\n.layers_selected_box .line_wrap[data-v-4e8e135a] {\n  position: absolute;\n  pointer-events: none;\n}\n.layers_selected_box .line_wrap[data-v-4e8e135a]::before {\n  position: absolute;\n  left: 50%;\n  top: -30px;\n  display: block;\n  box-sizing: border-box;\n  width: 100%;\n  height: 1px;\n  border-top: 1px solid #2878FF;\n  content: "";\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n}\n.layers_selected_box .line_wrap[data-v-4e8e135a]::after {\n  position: absolute;\n  right: -30px;\n  top: 50%;\n  display: block;\n  box-sizing: border-box;\n  height: 100%;\n  border-left: 1px solid #2878FF;\n  content: "";\n  -webkit-transform: translateY(-50%);\n          transform: translateY(-50%);\n}\n.layers_selected_box .line_wrap .line_r[data-v-4e8e135a] {\n  position: absolute;\n  top: 0;\n  right: -32px;\n  display: block;\n  width: 5px;\n  height: 100%;\n  border-top: 1px solid #2878FF;\n  border-bottom: 1px solid #2878FF;\n}\n.layers_selected_box .line_wrap .line_r[data-v-4e8e135a]::before {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  display: block;\n  z-index: 1;\n  content: attr(data-height);\n  font-size: 12px;\n  color: #fff;\n  height: 20px;\n  line-height: 12px;\n  padding: 4px;\n  border-radius: 2px;\n  background: #2878FF;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n.layers_selected_box .line_wrap .line_b[data-v-4e8e135a] {\n  position: absolute;\n  top: -32px;\n  left: 0;\n  display: block;\n  width: 100%;\n  height: 5px;\n  border-left: 1px solid #2878FF;\n  border-right: 1px solid #2878FF;\n}\n.layers_selected_box .line_wrap .line_b[data-v-4e8e135a]::before {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  display: block;\n  z-index: 1;\n  content: attr(data-width);\n  font-size: 12px;\n  color: #fff;\n  height: 20px;\n  line-height: 12px;\n  padding: 4px;\n  border-radius: 2px;\n  background: #2878FF;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n.layers_selected_box .line_wrap_box .subline_x[data-v-4e8e135a] {\n  position: absolute;\n  border-top: 1px dashed #FF3756;\n  border-bottom: 1px dashed #FF3756;\n}\n.layers_selected_box .line_wrap_box .subline_y[data-v-4e8e135a] {\n  position: absolute;\n  border-left: 1px dashed #FF3756;\n  border-right: 1px dashed #FF3756;\n}\n.layers_selected_box .layer_margin[data-v-4e8e135a] {\n  position: absolute;\n}\n.layers_selected_box .layer_margin > div[data-v-4e8e135a] {\n  background: #ff3366;\n  position: absolute;\n}\n.layers_selected_box .layer_margin .layer_margin_info[data-v-4e8e135a]::before {\n  font-weight: bolder;\n  position: absolute;\n  display: block;\n  left: 50%;\n  top: -23px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  content: attr(data-info);\n  font-size: 12px;\n  color: #fff;\n  height: 20px;\n  line-height: 12px;\n  padding: 4px;\n  background: #ff3366;\n  border-radius: 2px;\n}\n.layers_selected_box .layer_margin .line_l[data-v-4e8e135a], .layers_selected_box .layer_margin .line_r[data-v-4e8e135a] {\n  box-sizing: border-box;\n  height: 1px;\n}\n.layers_selected_box .layer_margin .line_l[data-v-4e8e135a]::after, .layers_selected_box .layer_margin .line_l[data-v-4e8e135a]::before, .layers_selected_box .layer_margin .line_r[data-v-4e8e135a]::after, .layers_selected_box .layer_margin .line_r[data-v-4e8e135a]::before {\n  font-weight: bolder;\n  position: absolute;\n  content: "";\n  top: -2px;\n  left: 0;\n  width: 1px;\n  height: 5px;\n  background: #ff3366;\n}\n.layers_selected_box .layer_margin .line_l[data-v-4e8e135a]::before, .layers_selected_box .layer_margin .line_r[data-v-4e8e135a]::before {\n  left: 100%;\n}\n.layers_selected_box .layer_margin .line_t[data-v-4e8e135a], .layers_selected_box .layer_margin .line_b[data-v-4e8e135a] {\n  box-sizing: border-box;\n  width: 1px;\n}\n.layers_selected_box .layer_margin .line_t[data-v-4e8e135a]::after, .layers_selected_box .layer_margin .line_t[data-v-4e8e135a]::before, .layers_selected_box .layer_margin .line_b[data-v-4e8e135a]::after, .layers_selected_box .layer_margin .line_b[data-v-4e8e135a]::before {\n  font-weight: bolder;\n  position: absolute;\n  content: "";\n  top: 0;\n  left: -2px;\n  width: 5px;\n  height: 1px;\n  background: #ff3366;\n}\n.layers_selected_box .layer_margin .line_t[data-v-4e8e135a]::before, .layers_selected_box .layer_margin .line_b[data-v-4e8e135a]::before {\n  top: 100%;\n}\n.layers_selected_box .layer_margin .line_t .layer_margin_info[data-v-4e8e135a]::before, .layers_selected_box .layer_margin .line_b .layer_margin_info[data-v-4e8e135a]::before {\n  left: auto;\n  right: 0;\n  top: 50%;\n  -webkit-transform: translateX(calc(100% + 3px)) translateY(-50%);\n          transform: translateX(calc(100% + 3px)) translateY(-50%);\n}',""])},c5cU:function(e,t,n){"use strict";var i=n("HKMR");t.a=i.a},cD3G:function(e,t,n){"use strict";var i=n("00iE");n.n(i).a},cSlR:function(e,t,n){"use strict";var i=n("cDf5"),r=n.n(i),o=/^(?:0|[1-9]\d*)$/;t.a=function(e,t){var n=r()(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&o.test(e))&&e>-1&&e%1==0&&e<t}},dGRw:function(e,t,n){"use strict";var i=n("koKQ");n.n(i).a},dqn1:function(e,t,n){e.exports=n.p+"imgs/mark_cursor1cbe8eb2.png"},ervQ:function(e,t,n){"use strict";var i=n("u0iG");t.a=i.a},f3Ch:function(module,exports,__webpack_require__){"use strict";var _typeof=__webpack_require__("cDf5");function _interopDefault(e){return e&&"object"===_typeof(e)&&"default"in e?e.default:e}var cssToReactNative=_interopDefault(__webpack_require__("i85E")),kebabCase=_interopDefault(__webpack_require__("wulF")),stringify=_interopDefault(__webpack_require__("Btb4")),SPACE="  ";function toProperty(e){return"-"===e.charAt(0)&&(e=e.slice(0)),e.replace(/[^a-z0-9]([a-z0-9])?/gi,(function(e,t){return t?t.toUpperCase():""}))}function toSelectors(e){return e.split(",").map((function(e){var t="";return"."===(e=e.trim()).charAt(0)?(t+="Class",e=e.slice(1)):"#"===e.charAt(0)?(t+="Id",e=e.slice(1)):t+="Element",e.replace(/([^a-z0-9])([a-z0-9])?/gi,(function(e,t,n){return n?","===t||" "===t?n.toLowerCase():n.toUpperCase():""}))+t}))}function tokenizer(e){for(var t=[],n="",i=["\r\n","\n\r","\n","\r"],r="\0",o="\0",a=["{","}",":",";"],s=["{","}",";"],l=!1,c=0;c<e.length;c++)c&&(r=e.charAt(c-1)),o=e.charAt(c),c+1<e.length&&e.charAt(c+1),~i.indexOf(o)&&~i.indexOf(r)||(~(l?a:s).indexOf(o)?("{"===o&&(l=!0),"}"===o&&(l=!1),t.push(n),t.push(o),n=""):n+=o);return n&&t.push(n),t.map((function(e){return e.trim()})).filter((function(e){return e}))}function convertoToJS(e){var t=[],n=null,i=null;function r(e){var r=toSelectors(e);return n={originalValue:e,selectors:r,values:{}},i=null,t.push(n),o}function o(e){if("{"!==e)throw new Error("expected '{' ");return l}function a(e){if("}"!==e)throw new Error("expected '}' ");return r}function s(e){if(":"!==e)throw new Error("expected ':' ");return c}function l(e){if("}"===e)return a(e);var t=toProperty(e);return i=t,n.values[t]||(n.values[t]=[]),s}function c(e){return n.values[i].push(e),u}function u(e){if("}"===e)return a(e);if(";"!==e)throw new Error("expected ';' ");return l}var d=r;return e.forEach((function(e){d=d(e)})),renderJS(t)}function renderJS(e){var t=["{"];return(t=t.concat(e.map(renderItem).join(","))).push("}"),t.join("\n")}function renderItem(e){var t=["\n  // "+e.originalValue],n=[];for(var i in e.values)if(e.values.hasOwnProperty(i)){var r={name:i,value:e.values[i][e.values[i].length-1]},o='"';~r.value.indexOf('"')&&(o="'",r.value=r.value.replace(/'/gi,"\\'")),n.push(SPACE+SPACE+r.name+": "+o+r.value+o)}return n=n.map((function(e){return SPACE+e})),e.selectors.forEach((function(e){t.push(SPACE+e+": {"),t.push(n.join(",\n")),t.push(SPACE+"}")})),t.join("\n")}function getRnCode(css){var styles={},code=eval("("+convertoToJS(tokenizer(css))+")");return Object.keys(code).forEach((function(e){styles[e]={};var t=[];Object.keys(code[e]).forEach((function(n){t.push([kebabCase(n),code[e][n]])})),styles[e]=cssToReactNative(t)})),stringify(styles,{indent:"  "})}var index=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?getRnCode(e):convertoToJS(tokenizer(e))};module.exports=index},fLJx:function(e,t,n){"use strict";var i=n("MSMT");t.a=i.a},gLOj:function(e,t,n){var i=n("bLXj");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("fd968ee8",i,!1,{})},"h+Pp":function(e){e.exports=JSON.parse('{"black":"#000000","silver":"#c0c0c0","gray":"#808080","white":"#ffffff","maroon":"#800000","red":"#ff0000","purple":"#800080","fuchsia":"#ff00ff","green":"#008000","lime":"#00ff00","olive":"#808000","yellow":"#ffff00","navy":"#000080","blue":"#0000ff","teal":"#008080","aqua":"#00ffff","orange":"#ffa500","aliceblue":"#f0f8ff","antiquewhite":"#faebd7","aquamarine":"#7fffd4","azure":"#f0ffff","beige":"#f5f5dc","bisque":"#ffe4c4","blanchedalmond":"#ffebcd","blueviolet":"#8a2be2","brown":"#a52a2a","burlywood":"#deb887","cadetblue":"#5f9ea0","chartreuse":"#7fff00","chocolate":"#d2691e","coral":"#ff7f50","cornflowerblue":"#6495ed","cornsilk":"#fff8dc","crimson":"#dc143c","darkblue":"#00008b","darkcyan":"#008b8b","darkgoldenrod":"#b8860b","darkgray":"#a9a9a9","darkgreen":"#006400","darkgrey":"#a9a9a9","darkkhaki":"#bdb76b","darkmagenta":"#8b008b","darkolivegreen":"#556b2f","darkorange":"#ff8c00","darkorchid":"#9932cc","darkred":"#8b0000","darksalmon":"#e9967a","darkseagreen":"#8fbc8f","darkslateblue":"#483d8b","darkslategray":"#2f4f4f","darkslategrey":"#2f4f4f","darkturquoise":"#00ced1","darkviolet":"#9400d3","deeppink":"#ff1493","deepskyblue":"#00bfff","dimgray":"#696969","dimgrey":"#696969","dodgerblue":"#1e90ff","firebrick":"#b22222","floralwhite":"#fffaf0","forestgreen":"#228b22","gainsboro":"#dcdcdc","ghostwhite":"#f8f8ff","gold":"#ffd700","goldenrod":"#daa520","greenyellow":"#adff2f","grey":"#808080","honeydew":"#f0fff0","hotpink":"#ff69b4","indianred":"#cd5c5c","indigo":"#4b0082","ivory":"#fffff0","khaki":"#f0e68c","lavender":"#e6e6fa","lavenderblush":"#fff0f5","lawngreen":"#7cfc00","lemonchiffon":"#fffacd","lightblue":"#add8e6","lightcoral":"#f08080","lightcyan":"#e0ffff","lightgoldenrodyellow":"#fafad2","lightgray":"#d3d3d3","lightgreen":"#90ee90","lightgrey":"#d3d3d3","lightpink":"#ffb6c1","lightsalmon":"#ffa07a","lightseagreen":"#20b2aa","lightskyblue":"#87cefa","lightslategray":"#778899","lightslategrey":"#778899","lightsteelblue":"#b0c4de","lightyellow":"#ffffe0","limegreen":"#32cd32","linen":"#faf0e6","mediumaquamarine":"#66cdaa","mediumblue":"#0000cd","mediumorchid":"#ba55d3","mediumpurple":"#9370db","mediumseagreen":"#3cb371","mediumslateblue":"#7b68ee","mediumspringgreen":"#00fa9a","mediumturquoise":"#48d1cc","mediumvioletred":"#c71585","midnightblue":"#191970","mintcream":"#f5fffa","mistyrose":"#ffe4e1","moccasin":"#ffe4b5","navajowhite":"#ffdead","oldlace":"#fdf5e6","olivedrab":"#6b8e23","orangered":"#ff4500","orchid":"#da70d6","palegoldenrod":"#eee8aa","palegreen":"#98fb98","paleturquoise":"#afeeee","palevioletred":"#db7093","papayawhip":"#ffefd5","peachpuff":"#ffdab9","peru":"#cd853f","pink":"#ffc0cb","plum":"#dda0dd","powderblue":"#b0e0e6","rosybrown":"#bc8f8f","royalblue":"#4169e1","saddlebrown":"#8b4513","salmon":"#fa8072","sandybrown":"#f4a460","seagreen":"#2e8b57","seashell":"#fff5ee","sienna":"#a0522d","skyblue":"#87ceeb","slateblue":"#6a5acd","slategray":"#708090","slategrey":"#708090","snow":"#fffafa","springgreen":"#00ff7f","steelblue":"#4682b4","tan":"#d2b48c","thistle":"#d8bfd8","tomato":"#ff6347","turquoise":"#40e0d0","violet":"#ee82ee","wheat":"#f5deb3","whitesmoke":"#f5f5f5","yellowgreen":"#9acd32","rebeccapurple":"#663399"}')},hNyI:function(e,t,n){"use strict";var i=n("Vibh");n.n(i).a},i85E:function(e,t,n){"use strict";var i=n("cDf5"),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)};function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e){return e&&"object"===(void 0===e?"undefined":o(e))&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var c,u=n("6S5g"),d=l(u),h=l(n("/PDM")),f=l(n("ZU0V")),p=/^(#(?:[0-9a-f]{3,4}){1,2})$/i,m=/^(rgba?|hsla?|hwb|lab|lch|gray|color)$/,g=function(e){return function(t){return e(t)?"<token>":null}},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String;return function(n){if("word"!==n.type)return null;var i=n.value.match(e);return null===i?null:t(i[1])}},v={SPACE:g((function(e){return"space"===e.type})),SLASH:g((function(e){return"div"===e.type&&"/"===e.value})),COMMA:g((function(e){return"div"===e.type&&","===e.value})),WORD:(c="word",function(e){return e.type===c?e.value:null}),NONE:b(/^(none)$/i),AUTO:b(/^(auto)$/i),NUMBER:b(/^([+-]?(?:\d*\.)?\d+(?:[Ee][+-]?\d+)?)$/,Number),LENGTH:b(/^(0$|(?:[+-]?(?:\d*\.)?\d+(?:[Ee][+-]?\d+)?)(?=px$))/,Number),UNSUPPORTED_LENGTH_UNIT:b(/^([+-]?(?:\d*\.)?\d+(?:[Ee][+-]?\d+)?(ch|em|ex|rem|vh|vw|vmin|vmax|cm|mm|in|pc|pt))$/),ANGLE:b(/^([+-]?(?:\d*\.)?\d+(?:[Ee][+-]?\d+)?(?:deg|rad))$/),PERCENT:b(/^([+-]?(?:\d*\.)?\d+(?:[Ee][+-]?\d+)?%)$/),IDENT:b(/(^-?[_a-z][_a-z0-9-]*$)/i),STRING:function(e){return"string"!==e.type?null:e.value.replace(/\\([0-9a-f]{1,6})(?:\s|$)/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))})).replace(/\\/g,"")},COLOR:function(e){return"word"===e.type&&(p.test(e.value)||e.value in h||"transparent"===e.value)?e.value:"function"===e.type&&m.test(e.value)?u.stringify(e):null},LINE:b(/^(none|underline|line-through)$/i)},x=v.NONE,w=v.COLOR,y=v.LENGTH,_=v.UNSUPPORTED_LENGTH_UNIT,k=v.SPACE,I=b(/^(solid|dashed|dotted)$/),M=v.LENGTH,C=v.UNSUPPORTED_LENGTH_UNIT,S=v.PERCENT,$=v.COLOR,O=v.SPACE,A=v.NONE,E=function(e){var t=e.types,n=void 0===t?[M,C,S]:t,i=e.directions,r=void 0===i?["Top","Right","Bottom","Left"]:i,o=e.prefix,l=void 0===o?"":o,c=e.suffix,u=void 0===c?"":c;return function(e){var t,i=[];for(i.push(e.expect.apply(e,s(n)));i.length<4&&e.hasTokens();)e.expect(O),i.push(e.expect.apply(e,s(n)));e.expectEmpty();var o=i[0],c=i[1],d=void 0===c?o:c,h=i[2],f=void 0===h?o:h,p=i[3],m=void 0===p?d:p,g=function(e){return""+l+r[e]+u};return a(t={},g(0),o),a(t,g(1),d),a(t,g(2),f),a(t,g(3),m),t}},T=function(e){var t=e.expect(M),n=e.matches(O)?e.expect(M):t;return e.expectEmpty(),{width:t,height:n}},N=function(e){var t=void 0,n=void 0,i=void 0,r=void 0;if(e.matches(A))return e.expectEmpty(),{offset:{width:0,height:0},radius:0,color:"black"};for(var o=!1;e.hasTokens();)o&&e.expect(O),void 0===t&&e.matches(M,C)?(t=e.lastValue,e.expect(O),n=e.expect(M,C),e.saveRewindPoint(),e.matches(O)&&e.matches(M,C)?i=e.lastValue:e.rewind()):void 0===r&&e.matches($)?r=e.lastValue:e.throw(),o=!0;return void 0===t&&e.throw(),{offset:{width:t,height:n},radius:void 0!==i?i:0,color:void 0!==r?r:"black"}},L=v.NONE,j=v.AUTO,P=v.NUMBER,D=v.LENGTH,z=v.SPACE,F=v.SPACE,R=b(/(nowrap|wrap|wrap-reverse)/),U=b(/(row|row-reverse|column|column-reverse)/),V=v.SPACE,H=v.IDENT,W=v.STRING,q=function(e){var t=void 0;if(e.matches(W))t=e.lastValue;else for(t=e.expect(H);e.hasTokens();){e.expect(V),t+=" "+e.expect(H)}return e.expectEmpty(),{fontFamily:t}},B=v.SPACE,G=v.LENGTH,K=v.UNSUPPORTED_LENGTH_UNIT,Z=v.NUMBER,X=v.SLASH,Y=b(/^(normal)$/),J=b(/^(italic)$/),Q=b(/^([1-9]00|bold)$/),ee=b(/^(small-caps)$/),te=[],ne=v.SPACE,ie=v.LINE,re=v.COLOR,oe=b(/^(solid|double|dotted|dashed)$/),ae=v.SPACE,se=v.LINE,le=v.SPACE,ce=v.COMMA,ue=v.LENGTH,de=v.NUMBER,he=v.ANGLE,fe=function(e){return function(t){var n=t.expect(e);return t.expectEmpty(),n}},pe=fe(de),me=fe(ue),ge=fe(he),be=function(e){return function(t,n){return function(i){var r=i.expect(e),o=void 0;if(i.hasTokens())i.expect(ce),o=i.expect(e);else{if(void 0===n)return r;o=n}return i.expectEmpty(),[a({},t+"Y",o),a({},t+"X",r)]}}},ve=be(de),xe=be(ue),we=be(he),ye={perspective:pe,scale:ve("scale"),scaleX:pe,scaleY:pe,translate:xe("translate",0),translateX:me,translateY:me,rotate:ge,rotateX:ge,rotateY:ge,rotateZ:ge,skewX:ge,skewY:ge,skew:we("skew","0deg")},_e=v.IDENT,ke=v.WORD,Ie=v.COLOR,Me=v.LENGTH,Ce=v.UNSUPPORTED_LENGTH_UNIT,Se=v.PERCENT,$e=v.AUTO,Oe=E({types:[Ie],prefix:"border",suffix:"Color"}),Ae=E({directions:["TopLeft","TopRight","BottomRight","BottomLeft"],prefix:"border",suffix:"Radius"}),Ee=E({prefix:"border",suffix:"Width"}),Te=E({types:[Me,Ce,Se,$e],prefix:"margin"}),Ne=E({prefix:"padding"}),Le={background:function(e){return{backgroundColor:e.expect(Ie)}},border:function(e){var t=void 0,n=void 0,i=void 0;if(e.matches(x))return e.expectEmpty(),{borderWidth:0,borderColor:"black",borderStyle:"solid"};for(var r=0;r<3&&e.hasTokens();)0!==r&&e.expect(k),void 0===t&&e.matches(y)||e.matches(_)?t=e.lastValue:void 0===n&&e.matches(w)?n=e.lastValue:void 0===i&&e.matches(I)?i=e.lastValue:e.throw(),r+=1;return e.expectEmpty(),void 0===t&&(t=1),void 0===n&&(n="black"),void 0===i&&(i="solid"),{borderWidth:t,borderColor:n,borderStyle:i}},borderColor:Oe,borderRadius:Ae,borderWidth:Ee,boxShadow:function(e){var t=N(e);return{shadowOffset:t.offset,shadowRadius:t.radius,shadowColor:t.color,shadowOpacity:1}},flex:function(e){var t=void 0,n=void 0,i=void 0;if(e.matches(L))return e.expectEmpty(),{flexGrow:0,flexShrink:0,flexBasis:"auto"};if(e.saveRewindPoint(),e.matches(j)&&!e.hasTokens())return{flexGrow:1,flexShrink:1,flexBasis:"auto"};e.rewind();for(var r=0;r<2&&e.hasTokens();)0!==r&&e.expect(z),void 0===t&&e.matches(P)?(t=e.lastValue,e.saveRewindPoint(),e.matches(z)&&e.matches(P)?n=e.lastValue:e.rewind()):void 0===i&&e.matches(D)?i=e.lastValue:void 0===i&&e.matches(j)?i="auto":e.throw(),r+=1;return e.expectEmpty(),void 0===t&&(t=1),void 0===n&&(n=1),void 0===i&&(i=0),{flexGrow:t,flexShrink:n,flexBasis:i}},flexFlow:function(e){for(var t=void 0,n=void 0,i=0;i<2&&e.hasTokens();)0!==i&&e.expect(F),void 0===t&&e.matches(R)?t=e.lastValue:void 0===n&&e.matches(U)?n=e.lastValue:e.throw(),i+=1;return e.expectEmpty(),void 0===t&&(t="nowrap"),void 0===n&&(n="row"),{flexWrap:t,flexDirection:n}},font:function(e){for(var t=void 0,n=void 0,i=void 0,r=void 0,o=0;o<3&&e.hasTokens();){if(e.matches(Y));else if(void 0===t&&e.matches(J))t=e.lastValue;else if(void 0===n&&e.matches(Q))n=e.lastValue;else{if(void 0!==i||!e.matches(ee))break;i=[e.lastValue]}e.expect(B),o+=1}var a=e.expect(G,K);e.matches(X)&&(r=e.matches(Z)?a*e.lastValue:e.expect(G,K)),e.expect(B);var s=q(e).fontFamily;void 0===t&&(t="normal"),void 0===n&&(n="normal"),void 0===i&&(i=te);var l={fontStyle:t,fontWeight:n,fontVariant:i,fontSize:a,fontFamily:s};return void 0!==r&&(l.lineHeight=r),l},fontFamily:q,fontVariant:function(e){return{fontVariant:[e.expect(_e)]}},fontWeight:function(e){return{fontWeight:e.expect(ke)}},margin:Te,padding:Ne,shadowOffset:function(e){return{shadowOffset:T(e)}},textShadow:function(e){var t=N(e);return{textShadowOffset:t.offset,textShadowRadius:t.radius,textShadowColor:t.color}},textShadowOffset:function(e){return{textShadowOffset:T(e)}},textDecoration:function(e){for(var t=void 0,n=void 0,i=void 0,r=!1;e.hasTokens();){if(r&&e.expect(ne),void 0===t&&e.matches(ie)){var o=[e.lastValue.toLowerCase()];e.saveRewindPoint(),"none"!==o[0]&&e.matches(ne)&&e.matches(ie)?(o.push(e.lastValue.toLowerCase()),o.sort().reverse()):e.rewind(),t=o.join(" ")}else void 0===n&&e.matches(oe)?n=e.lastValue:void 0===i&&e.matches(re)?i=e.lastValue:e.throw();r=!0}return{textDecorationLine:void 0!==t?t:"none",textDecorationColor:void 0!==i?i:"black",textDecorationStyle:void 0!==n?n:"solid"}},textDecorationLine:function(e){for(var t=[],n=!1;e.hasTokens();)n&&e.expect(ae),t.push(e.expect(se).toLowerCase()),n=!0;return t.sort().reverse(),{textDecorationLine:t.join(" ")}},transform:function(e){for(var t=[],n=!1;e.hasTokens();){n&&e.expect(le);var i=e.expectFunction(),r=i.functionName,o=ye[r](i);Array.isArray(o)||(o=[a({},r,o)]),t=o.concat(t),n=!0}return{transform:t}}},je=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.index=0,this.nodes=t,this.functionName=null!=n?n.value:null,this.lastValue=null,this.rewindIndex=-1}return r(e,[{key:"hasTokens",value:function(){return this.index<=this.nodes.length-1}},{key:"SYMBOL_MATCH",value:function(){if(!this.hasTokens())return null;for(var e=this.nodes[this.index],t=0;t<arguments.length;t+=1){var n=arguments.length<=t?void 0:arguments[t],i=n(e);if(null!==i)return this.index+=1,this.lastValue=i,i}return null}},{key:"matches",value:function(){return null!==this.SYMBOL_MATCH.apply(this,arguments)}},{key:"expect",value:function(){var e=this.SYMBOL_MATCH.apply(this,arguments);return null!==e?e:this.throw()}},{key:"matchesFunction",value:function(){var t=this.nodes[this.index];if("function"!==t.type)return null;var n=new e(t.nodes,t);return this.index+=1,this.lastValue=null,n}},{key:"expectFunction",value:function(){var e=this.matchesFunction();return null!==e?e:this.throw()}},{key:"expectEmpty",value:function(){this.hasTokens()&&this.throw()}},{key:"throw",value:function(){throw new Error("Unexpected token type: "+this.nodes[this.index].type)}},{key:"saveRewindPoint",value:function(){this.rewindIndex=this.index}},{key:"rewind",value:function(){if(-1===this.rewindIndex)throw new Error("Internal error");this.index=this.rewindIndex,this.lastValue=null}}]),e}(),Pe=/^([+-]?(?:\d*\.)?\d+(?:[Ee][+-]?\d+)?)(?:px)?$/i,De=/^true|false$/i,ze=/^null$/i,Fe=/^undefined$/i,Re=function(e){var t=e.trim(),n=t.match(Pe);if(null!==n)return Number(n[1]);var i=e.match(De);return null!==i?"true"===i[0].toLowerCase():null!==e.match(ze)?null:null===e.match(Fe)?t:void 0},Ue=function(e,t){var n=d(t.trim()),i=new je(n.nodes);return Le[e](i)},Ve=function(e,t,n){return!1===n||!(e in Le)?a({},e,Re(t)):Ue(e,t.trim())},He=function(e){return/^--\w+/.test(e)?e:f(e)};t.transformRawValue=Re,t.getStylesForProperty=Ve,t.getPropertyName=He,t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce((function(e,n){var i=He(n[0]),r=n[1],o=-1===t.indexOf(i);return Object.assign(e,Ve(i,r,o))}),{})}},iLvy:function(e,t){var n="-".charCodeAt(0),i="+".charCodeAt(0),r=".".charCodeAt(0),o="e".charCodeAt(0),a="E".charCodeAt(0);e.exports=function(e){for(var t,s=0,l=e.length,c=!1,u=-1,d=!1;s<l;){if((t=e.charCodeAt(s))>=48&&t<=57)d=!0;else if(t===o||t===a){if(u>-1)break;u=s}else if(t===r){if(c)break;c=!0}else{if(t!==i&&t!==n)break;if(0!==s)break}s+=1}return u+1===s&&s--,!!d&&{number:e.slice(0,s),unit:e.slice(s)}}},k1pJ:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".layers_item[data-v-4a2b35f8] {\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid transparent;\n  cursor: pointer;\n}\n.layers_item.multiple_slice[data-v-4a2b35f8] {\n  z-index: 1;\n  pointer-events: auto !important;\n}\n.layers_item.layer_area[data-v-4a2b35f8]:hover {\n  border-color: transparent !important;\n}\n.layers_item .area[data-v-4a2b35f8] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: rgba(87, 208, 146, 0.6);\n}\n.layers_item[data-v-4a2b35f8]:hover {\n  border-color: #0092fe;\n}\n.layers_item.slice[data-v-4a2b35f8] {\n  border-style: dashed;\n  border-color: #888;\n}\n.layers_item.layer_select[data-v-4a2b35f8], .layers_item.multiple_checked[data-v-4a2b35f8] {\n  pointer-events: none;\n}\n.layers_item.skip_select[data-v-4a2b35f8] {\n  pointer-events: none;\n}\n.layers_item.slice_select[data-v-4a2b35f8] {\n  background: rgba(255, 52, 103, 0.15);\n  border: 2px dashed #ff3467;\n}\n.layers_item.slice_select .slice_select_name[data-v-4a2b35f8] {\n  position: absolute;\n  top: -4px;\n  left: -2px;\n  -webkit-transform: translateY(-100%);\n          transform: translateY(-100%);\n  height: 20px;\n  background: #ff3467;\n  font-size: 12px;\n  font-family: PingFang-SC-Regular, PingFang-SC;\n  font-weight: 400;\n  color: white;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-align-items: center;\n          align-items: center;\n  padding-left: 4px;\n  padding-right: 8px;\n}\n.layers_item.slice_select .slice_select_name img[data-v-4a2b35f8] {\n  width: 16px;\n  height: 16px;\n}\n.layers_item.slice_select .slice_select_name span[data-v-4a2b35f8] {\n  display: inline-block;\n  white-space: nowrap;\n}\n.layers_item.hide[data-v-4a2b35f8]::before, .layers_item.hide[data-v-4a2b35f8]::after {\n  display: none;\n}\n.hideMarginDistance .layers_item[data-v-4a2b35f8]:hover {\n  border-color: transparent;\n}\n.hideMarginDistance .layers_item.multiple_checked[data-v-4a2b35f8]:hover {\n  border-color: #ff3366;\n}\n.hideMarginDistance .layers_item.slice[data-v-4a2b35f8]:hover {\n  border-style: dashed;\n  border-color: #888;\n}\n.hideMarginDistance .layers_item.hide[data-v-4a2b35f8]::before, .hideMarginDistance .layers_item.hide[data-v-4a2b35f8]::after {\n  display: block;\n}\n.hideMarginDistance.arrowHover .layers_item[data-v-4a2b35f8]:hover {\n  border-color: #0092fe;\n}\n.layerEquare .hide[data-v-4a2b35f8]::before, .layerEquare .hide[data-v-4a2b35f8]::after {\n  display: block !important;\n}",""])},kQWL:function(e,t,n){"use strict";var i=n("7OFd");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},kTAi:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"}],ref:"notice_box",staticClass:"notice_box lanhu_scrollbar",style:{left:e.left+"px",top:e.top+"px"},on:{mousewheel:function(e){e.stopPropagation()},mousedown:function(e){e.stopPropagation()}}},[n("ul",e._l(e.member,(function(t,i){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.isAfterAt||e.isFocusAt||t.fuzzy&&e.afterAt.length>1,expression:"isAfterAt || isFocusAt || (item.fuzzy && afterAt.length > 1)"}],key:i,ref:"notice_content",refInFor:!0,class:{active:e.activeIndex==i},on:{click:function(t){return e.memberSelect(t,i)}}},[t.avatar?n("span",{staticClass:"avatar"},[n("img",{attrs:{src:t.avatar,alt:""}})]):n("span",{style:{background:e.color[t.color]}},[e._v(" "+e._s(e._f("getAvatarName")(t.username))+" ")]),e._v(" "),n("p",{staticClass:"member-user"},[e._v(e._s(e.$g.remark.getRemarkName(t.id,t.username,e.$g.remarkVersion)))])])})),0)])},r=[];i._withStripped=!0},koKQ:function(e,t,n){var i=n("wos3");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("a14a4624",i,!1,{})},kuND:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s}));var i="comment-input",r=21,o="COMMENT_BUTTON_CLICK",a="COMMENT_HOTKEY_CLICK",s=/.*[\u4e00-\u9fa5]+.*/},kyqj:function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"l",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"m",(function(){return v}));var i=Array.prototype.slice;var r=function(e){var t=h().focusNode,n=document.createElement("em"),i="em-id-ha-ha";n.setAttribute("id",i),t.after(n);var r={x:0,y:0},o=document.getElementById(i),a=(null==o?void 0:o.getBoundingClientRect())||r,s=(null==e?void 0:e.getBoundingClientRect())||r,l=a.x-s.x,c=a.y-s.y;return o.remove(),{x:l,y:c}};function o(e,t,n){if(window.getSelection){if(n.getRangeAt&&n.rangeCount){var i,r,o=document.createElement("div"),a=document.createDocumentFragment();for(o.innerHTML=e;i=o.firstChild;)r=a.appendChild(i);console.log("insertHtmlAtCaret() lastNode: ",r),t.insertNode(a),r&&((t=t.cloneRange()).setStartAfter(r),t.collapse(!0),n.removeAllRanges(),n.addRange(t))}}else document.selection&&"Control"!==document.selection.type&&document.selection.createRange().pasteHTML(e)}function a(e,t){var n=window.getSelection().getRangeAt(0).startContainer||{},r=n.nodeType;console.log("removeStringAtCaret() delString: ",e),console.log("removeStringAtCaret() startContainer: ",n,r);var o=e.length;if(3===r){var a=n.nodeValue.lastIndexOf("@");-1!==a?n.replaceData(a,o,""):console.warn("removeStringAtCaret(".concat(e,") atLastIndex(").concat(a,") invalid"))}else if(1===r){if(n.innerText.includes("@")){var s=n.childNodes,l=function(e,t){if(e&&e.length&&t){var n=e.findIndex((function(e){return e===t}));if(-1!==n)return e[n]}if(t)return t;return console.warn("getFocusNodeText() childNodes(",e,") found none target(",t,")"),null}(i.call(s),t);if(null===l)return;var c=l.nodeValue||"",u=c.lastIndexOf("@");if(console.log("removeStringAtCaret() nodeText: ",c),-1!==u){if(null===c)return console.warn("removeStringAtCaret(".concat(e,") remove failed"));l.replaceData(u,o,""),console.log("removeStringAtCaret() childNodes: ",n.childNodes)}else console.warn("removeStringAtCaret(".concat(e,") atLastIndex(").concat(u,")(").concat(c,") invalid"))}else console.warn("removeStringAtCaret(".concat(e,") nodeText not found @"))}else console.warn("removeStringAtCaret(".concat(e,") nodeType(").concat(r,") was not 3"))}function s(){var e=l(),t=e.length;return e.lastIndexOf("@")===t-1}function l(){var e=(f()||{}).endContainer||{};return 3===e.nodeType?e.nodeValue:""}function c(e){var t=h().focusOffset,n=l(),i=n.length,r=n[t-1];return t<=i?{focusAt:"@"===r,afterAt:n.substring(e,t)}:(console.warn("isFocusAt() focusOffset(".concat(t,") bigger then focusTextLen(").concat(i,")")),{focusAt:!1,afterAt:""})}var u=function(e){if(e.focus(),d(window.getSelection)&&d(document.createRange)){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();console.log("placeCaretAtEnd() sel: ",n),n.removeAllRanges(),n.addRange(t)}else if(d(document.body.createTextRange)){var i=document.body.createTextRange();i.moveToElementText(e),i.collapse(!1),i.select()}},d=function(e){return void 0!==e},h=function(){return window.getSelection()||{}},f=function(){var e=h();return"None"===e.type?{}:e&&e.getRangeAt(0)||{}},p=function(){var e=f();return e&&e.startContainer||{}},m=function(){return f().startOffset||0},g=function(e){return e.metaKey&&13===e.keyCode||e.ctrlKey&&13===e.keyCode},b=function(e){return e.shiftKey&&"Digit2"===e.code},v=function(e){return(e=e||"").toString().replace(/&nbsp;/g," ").replace(/<[^>]+>/g,"")}},lGiw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"conbox",class:{mark_box:!0,"doc-mark-box":"product"===e.$route.name},on:{mousedown:function(t){return t.target!==t.currentTarget?null:(t.stopPropagation(),e.drawStart(t))},mousemove:function(t){return t.stopPropagation(),e.boxMove(t,e.newMark)},mouseleave:function(t){return t.stopPropagation(),e.end(t)},mouseup:function(t){return t.stopPropagation(),e.boxUp(t)}}},[e.showNew?[e.showArea?n("div",{class:{mark_area:!0,"doc-new-mark-area":"product"===e.$route.name},style:{width:100*e.newMark.width+"%",height:100*e.newMark.height+"%",left:"product"===e.$route.name?"calc("+100*e.newMark.position_x+"% - "+e.$parent.docScroll.x+"px)":100*e.newMark.position_x+"%",top:"product"===e.$route.name?"calc("+100*e.newMark.position_y+"% - "+e.$parent.docScroll.y+"px)":100*e.newMark.position_y+"%"},on:{mousedown:function(t){return t.stopPropagation(),e.changeMarkStart(t,e.newMark)}}},[e.status?e._e():[n("span",{staticClass:"mark_tl",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.newMark,"leftup")}}}),e._v(" "),n("span",{staticClass:"mark_tc",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.newMark,"up")}}}),e._v(" "),n("span",{staticClass:"mark_tr",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.newMark,"rightup")}}}),e._v(" "),n("span",{staticClass:"mark_cl",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.newMark,"left")}}}),e._v(" "),n("span",{staticClass:"mark_cr",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.newMark,"right")}}}),e._v(" "),n("span",{staticClass:"mark_bl",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.newMark,"leftdown")}}}),e._v(" "),n("span",{staticClass:"mark_bc",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.newMark,"down")}}})],e._v(" "),n("div",{staticClass:"mark_br"},[e._v(e._s(e.markText))])],2):n("div",{class:{mark:!0,"doc-new-mark":"product"===e.$route.name},style:{left:100*e.newMark.position_x+"%",top:100*e.newMark.position_y+"%"},on:{mousedown:function(t){return t.stopPropagation(),e.changeMarkStart(t,e.newMark)}}},[e._v("\n      "+e._s(e.markText)+"\n    ")])]:e._e(),e._v(" "),e.drawDone?n("div",{staticClass:"comment_text shadow-z-index-2",style:e.setContentStype,on:{keydown:function(t){return t.stopPropagation(),e.inputEvent(t)}}},[n("div",{class:["arrow",e.arrowClass],style:{top:e.arrow.top+"px"}}),e._v(" "),n("multi-text-field",{ref:"text_newmark",attrs:{inputClass:"font14",hintTextClass:"font14",hintText:e.hintText,rows:5,atIndex:e.latestAtIndex,removeNode:e.removeNode,addNode:e.addNode,userIds:e.userIds,content:e.content},on:{"update:removeNode":function(t){e.removeNode=t},"update:remove-node":function(t){e.removeNode=t},"update:addNode":function(t){e.addNode=t},"update:add-node":function(t){e.addNode=t},"update:userIds":function(t){e.userIds=t},"update:user-ids":function(t){e.userIds=t},"update:content":function(t){e.content=t}},model:{value:e.multiContent,callback:function(t){e.multiContent=t},expression:"multiContent"}}),e._v(" "),n("div",{staticClass:"btn_box"},[n("mu-flat-button",{attrs:{label:e.$i18n("取消")},on:{click:function(t){return t.stopPropagation(),e.commentCancel(t)}}}),e._v(" "),n("mu-raised-button",{attrs:{label:e.$i18n("确认"),primary:""},on:{"~click":function(t){return t.stopPropagation(),e.submitComment(e.COMMENT_BUTTON_CLICK)}}})],1)],1):e._e(),e._v(" "),e.showMemberList?n("member",{attrs:{even:e.memberEvent,afterAt:e.afterAt,atIdx:e.atIndex,isFocusAt:e.isFocusAt},on:{close:function(t){e.showMemberList=!1},confirm:e.memberConfirm}}):e._e()],2)},r=[];i._withStripped=!0},lTSv:function(e,t,n){var i=n("uU31"),r=n("n1LC"),o=n("2sEx"),a=n("sNWU");e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?r(e)?a(e):i(e):e.match(t)||[]}},lfOC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{hideMarginDistance:!e.marginDistance.show,layerEquare:e.layerEquare,arrowHover:e.marginDistance.showHover}},["sketch"==e.type||"sketch43"==e.type?i("div",e._l(e.layers,(function(t,n){return i("div",{key:t.web_id,ref:"layeritem",refInFor:!0,class:{layers_item:!0,layer_select:e.showInfoIndex===n,skip_select:t.skip_select,slice_select:e.selectedSliceIdArr.includes(t.web_id)&&e.$g.data.board.detail.allSliceVisbile,multiple_slice:e.$g.data.board.detail.allSliceVisbile&&e.sliceIdArr.includes(t.web_id)},style:{width:t.frame.width*e.scale+"px",height:t.frame.height*e.scale+"px",top:t.frame.y*e.scale+"px",left:t.frame.x*e.scale+"px"},attrs:{id:t.objectID,name:t.name},on:{mouseup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button||t.target!==t.currentTarget?null:e.showInfo(n)},mouseover:function(t){return e.showline(n,t)},mouseleave:e.hideline,mousemove:function(t){return e.mousemove(n,t)},click:function(n){return n.stopPropagation(),e.clickLayerItem(t)}}})})),0):e._e(),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(e.layers[0]))]),e._v(" "),"ps"==e.type?i("div",e._l(e.layers,(function(t,r){return i("div",{key:t.web_id,ref:"layeritem",refInFor:!0,class:{layers_item:!0,slice:t.isAsset&&!e.line,layer_select:e.showInfoIndex===r,skip_select:t.skip_select,slice_select:e.selectedSliceIdArr.includes(t.web_id)&&e.$g.data.board.detail.allSliceVisbile,multiple_slice:e.$g.data.board.detail.allSliceVisbile&&e.sliceIdArr.includes(t.web_id)},style:{width:t.width*e.scale+"px",height:t.height*e.scale+"px",top:t.top*e.scale+"px",left:t.left*e.scale+"px"},on:{mouseup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button||t.target!==t.currentTarget?null:e.showInfo(r)},mouseover:function(t){return e.showline(r,t)},mouseleave:e.hideline,mousemove:function(t){return e.mousemove(r,t)},click:function(n){return n.stopPropagation(),e.clickLayerItem(t)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedSliceIdArr.includes(t.web_id)&&e.$g.data.board.detail.allSliceVisbile,expression:"selectedSliceIdArr.includes(i.web_id) && $g.data.board.detail.allSliceVisbile"}],staticClass:"slice_select_name"},[i("img",{attrs:{src:n("qJ8l"),alt:""}}),e._v(" "),i("span",[e._v(e._s(e.selectedSliceMap[t.web_id]||t.name))])])])})),0):e._e(),e._v(" "),"pl"==e.type?i("div",[e._l(e.layers,(function(t,r){return i("div",{key:t.web_id},[i("div",{directives:[{name:"show",rawName:"v-show",value:(t.type&&"hotspot"!=t.type||!t.type)&&!e.keyState.shift,expression:"((i.type && i.type != 'hotspot') || !i.type) && !keyState.shift"}],ref:"layeritem",refInFor:!0,class:{layers_item:!0,slice:t.exportable&&!e.line,layer_select:e.showInfoIndex===r,skip_select:t.skip_select,slice_select:e.selectedSliceIdArr.includes(t.web_id)&&e.$g.data.board.detail.allSliceVisbile,multiple_slice:e.$g.data.board.detail.allSliceVisbile&&e.sliceIdArr.includes(t.web_id)},style:{width:t.width*e.scale+"px",height:t.height*e.scale+"px",top:t.top*e.scale+"px",left:t.left*e.scale+"px"},on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button||t.target!==t.currentTarget?null:void(e.down=!0)},mousemove:function(t){return e.mousemove(r,t,"isPl")},mouseup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button||t.target!==t.currentTarget?null:e.showInfo(r)},mouseover:function(t){return t.target!==t.currentTarget?null:e.showline(r,t)},mouseleave:e.hideline,click:function(n){return n.stopPropagation(),e.clickLayerItem(t)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedSliceIdArr.includes(t.web_id)&&e.$g.data.board.detail.allSliceVisbile,expression:"selectedSliceIdArr.includes(i.web_id) && $g.data.board.detail.allSliceVisbile"}],staticClass:"slice_select_name"},[i("img",{attrs:{src:n("qJ8l"),alt:""}}),e._v(" "),i("span",[e._v(e._s(e.selectedSliceMap[t.web_id]||t.name))])])])])})),e._v(" "),e._l(e.flowData,(function(t,n){return i("div",{key:n},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.flow&&e.keyState.shift&&t.flow.targetId,expression:"i.flow && keyState.shift && i.flow.targetId"}],class:{"layers_item layer_area":!0,slice_select:e.selectedSliceIdArr.includes(t.web_id)&&e.$g.data.board.detail.allSliceVisbile,multiple_slice:e.$g.data.board.detail.allSliceVisbile&&e.sliceIdArr.includes(t.web_id)},style:{width:t.width*e.scale+"px",height:t.height*e.scale+"px",top:t.top*e.scale+"px",left:t.left*e.scale+"px"},on:{click:function(n){return n.stopPropagation(),e.clickLayerItem(t)}}},[i("div",{staticClass:"area",on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:void t.stopPropagation()},mouseup:function(n){return n.stopPropagation(),e.goNext(t.flow.targetId,t.flow.name||"")}}})])])}))],2):e._e(),e._v(" "),i("copy-tips",{attrs:{top:e.copyTips.top,left:e.copyTips.left,show:e.copyTips.show,location:e.copyTips.location}})],1)},r=[];i._withStripped=!0},lvXu:function(e,t,n){"use strict";var i=n("WSjd");t.a=i.a},mCK3:function(e,t,n){"use strict";var i=n("23KU"),r=n("IlA0"),o=n("cSlR"),a=n("IzLi"),s=n("Tchk");t.a=function(e,t,n,l){if(!Object(a.a)(e))return e;for(var c=-1,u=(t=Object(r.a)(t,e)).length,d=u-1,h=e;null!=h&&++c<u;){var f=Object(s.a)(t[c]),p=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(c!=d){var m=h[f];void 0===(p=l?l(m,f,h):void 0)&&(p=Object(a.a)(m)?m:Object(o.a)(t[c+1])?[]:{})}Object(i.a)(h,f,p),h=h[f]}return e}},mQhD:function(e,t,n){"use strict";var i=n("yYna");n.n(i).a},mxQ2:function(e,t,n){"use strict";var i=n("CErk");n.n(i).a},n1LC:function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},oIl7:function(e,t,n){"use strict";var i=n("b2ZF");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},ogFx:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("mu-paper",{staticClass:"switch_tip_paper",attrs:{zDepth:1},on:{mousedown:function(e){e.stopPropagation()},mousemove:function(e){e.stopPropagation()}}},[i("div",{staticClass:"tip_title"},[e._v(e._s(e.$i18n("快速跳转页面")))]),e._v(" "),i("img",{attrs:{src:n("Ccxl")}}),e._v(" "),i("div",{staticClass:"tip_item",domProps:{innerHTML:e._s(e.$i18n("按住<span> Shift </span>点击原型热区跳转"))}}),e._v(" "),i("mu-flat-button",{staticClass:"tip_btn",attrs:{label:e.$i18n("我知道了")},on:{click:function(t){return t.stopPropagation(),e.$emit("hidetip")}}})],1)},r=[];i._withStripped=!0},"p+I8":function(e,t,n){"use strict";var i=n("cDf5");e.exports=function(e){var t=i(e);return null!==e&&("object"===t||"function"===t)}},pC5E:function(e,t,n){"use strict";var i=n("Z6LO"),r=n("SX9x"),o=(n("Q0wU"),n("KHd+")),a=Object(o.a)(r.a,i.a,i.b,!1,null,null,null);a.options.__file="src/view/detailDetach/annotation/PercentShade.vue",t.a=a.exports},pppo:function(e,t,n){"use strict";var i=n("23da");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},qJ8l:function(e,t,n){e.exports=n.p+"imgs/layer-slice-icon9dff0938.svg"},rBdr:function(e,t,n){"use strict";var i=n("vEsW"),r=n("sC1y"),o=(n("0Qwr"),n("KHd+")),a=Object(o.a)(r.a,i.a,i.b,!1,null,"4a2b35f8",null);a.options.__file="src/view/detailDetach/annotation/layers.vue",t.a=a.exports},s5Mv:function(e,t,n){var i=n("Rgez");e.exports=function(e){return null==e?"":i(e)}},sC1y:function(e,t,n){"use strict";var i=n("8ccr");t.a=i.a},sNWU:function(e,t){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+n+"]",r="\\d+",o="[\\u2700-\\u27bf]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",s="[^\\ud800-\\udfff"+n+r+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",u="[A-Z\\xc0-\\xd6\\xd8-\\xde]",d="(?:"+a+"|"+s+")",h="(?:"+u+"|"+s+")",f="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",p="[\\ufe0e\\ufe0f]?"+f+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,c].join("|")+")[\\ufe0e\\ufe0f]?"+f+")*"),m="(?:"+[o,l,c].join("|")+")"+p,g=RegExp([u+"?"+a+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[i,u,"$"].join("|")+")",h+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[i,u+d,"$"].join("|")+")",u+"?"+d+"+(?:['’](?:d|ll|m|re|s|t|ve))?",u+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r,m].join("|"),"g");e.exports=function(e){return e.match(g)||[]}},tlas:function(e,t,n){"use strict";var i=n("YZ99");n.n(i).a},tqZc:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:this.percentMode&&!this.hotShow,expression:"percentMode && !hotShow"}],staticClass:"percentShade",style:this.percentShadeStyle})},r=[];i._withStripped=!0},u0iG:function(e,t,n){"use strict";(function(e){var i,r,o,a,s=n("o0o1"),l=n.n(s),c=n("yXPU"),u=n.n(c),d=n("lSNA"),h=n.n(d),f=n("fujP"),p=n("L2JU"),m=n("NTuW"),g=n("MEFo"),b=n("b+Qb"),v=n("NL1T"),x=n("A+mB"),w=n("0TZp"),y=n("kuND"),_=n("kyqj"),k=n("nqA1"),I=n("7qog"),M=n("G0wp");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a={components:{member:b.a,MultiTextField:g.a},mixins:[v.a,x.a],props:["vid","project","imagebox","image_id","axureType","image","pageId","responsiveEnable"],data:function(){return{COMMENT_BUTTON_CLICK:y.a,COMMENT_HOTKEY_CLICK:y.b,memberList:[],showMemberList:!1,memberEvent:{},bus:Object(m.a)(this),status:!1,newMark:{},markText:1,showArea:!1,showNew:!1,drawDone:!1,contentPosition:{},userIds:[],multiContent:"",content:"",removeNode:"",addNode:"",isFocusAt:!1,commentAddType:"",multiContentPosition:{},arrow:{className:"",top:"25"},showNowComment:!1,init:null,afterAt:"",atIndex:null,tipsLocation:{left:0,top:0}}},computed:S(S({},Object(p.e)("team",["team_id"])),{},{hintText:function(){return"product"===this.$route.name?this.$i18n("评论内容，支持@团队成员"):this.$i18n("批注内容，支持@团队成员")},setContentStype:function(){return"product"===this.$route.name&&this.$parent.responsiveEnable?{left:this.contentPosition.left+"px",top:this.contentPosition.top+"px"}:{left:100*this.contentPosition.left+"%",top:100*this.contentPosition.top+"%"}},isDesignPage:function(){return"detailDetach"===this.$route.name}}),watch:{showMemberList:function(e){console.log(">>>>>>> showMemberList",e)},multiContent:function(e){if(" "==e)return this.afterAt="",void(this.atIndex=null);var t=this.atIndex,n=Object(_.d)().nodeValue||"",i=Object(_.c)();console.log("selectionStart: ",i);var r=Object(_.i)(),o=Object(_.h)(t),a=o.focusAt,s=o.afterAt;this.isFocusAt=a;var l="@"!==n[t],c=!r&&!a&&l;a&&!this.showMemberList&&(this.showMemberList=!0),this.afterAt=s?s.trim():"",this.afterAt||(r&&(this.afterAt="@"),a&&(this.afterAt="@")),n&&!c||(this.atIndex=null,this.afterAt="")}},mounted:function(){this.$nextTick((function(){})),this.showNowComment=w.a.getSet("showNowComment"),this.init=this.$data,this.getMarkText(),window.p=this},beforeDestroy:function(){window.p=null},methods:{boxMove:function(e){this.resize.status?this.resizeMark(e,this.newMark):this.change.status?this.changeMark(e,this.newMark):this.drawMove(e)},boxUp:function(e){this.resize.status?this.resizeMarkend(e):this.change.status?this.changeMarkend(e):this.drawEnd(e)},getNewContent:function(e){e.username;var t=e.nickName,n=e.id,i='&nbsp;<span contenteditable="false" lh-user-id="'.concat(n,'">@').concat(t,"</span>&nbsp;"),r={removeNode:this.afterAt||"",addNode:i};return console.log("getNewMultiContent() newInfo: ",r),r},memberConfirm:function(e){var t=e.username,n=e.nickName,i=e.id,r=e.type,o=this.getNewContent({username:t,nickName:n,id:i}),a=o.removeNode,s=o.addNode;this.removeNode=a,this.addNode=s,this.commentAddType=r,this.memberEvent={},this.showMemberList=!1,this.afterAt="",this.atIndex=null},inputEvent:function(e){Array.prototype.slice.call(e.target.classList).includes(y.e)&&(Object(_.g)(e)?this.submitComment(this.COMMENT_HOTKEY_CLICK):Object(_.f)(e)&&(this.memberEvent=e,this.showMemberList=!0,this.initAtIndexAndAfterAt()))},initAtIndexAndAfterAt:function(){var e=Object(_.a)(),t=Object(_.b)(),n=t.anchorOffset;console.log("initAtIndexAndAfterAt before: ",n,e,t),this.latestAtIndex=n,this.atIndex=n},getTextArea:function(){return document.querySelector("textarea.font14")},getMultiInput:function(){return document.querySelector(".".concat(y.e))},formatTime:function(e){var t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),r=e.getHours(),o=e.getMinutes();return n=n<10?"0".concat(n):n,i=i<10?"0".concat(i):i,r=r<10?"0".concat(r):r,o=o<10?"0".concat(o):o,"".concat(t,"/").concat(n,"/").concat(i," ").concat(r,":").concat(o)},getWechatUrl:(a=u()(l.a.mark((function e(){var t,n,i,r,o,a,s,c,u,d,h,f,p=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.prev=1,e.next=4,lanhuAPI.axure.getProjectAxures(["axure","pdf","word","excel","ppt"]);case 4:i=e.sent,r=i.axures,n=r.find((function(e){return e.id===p.$route.query.docId})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return o="null"==localStorage.avatar||"undefined"==localStorage.avatar?"":localStorage.avatar,a=localStorage.name,s=localStorage.pName,c=this.multiContent,u=Object(_.m)(c),d=n.name,h=this.formatTime(new Date),f="/mobile/wxMessage/#/productAt?username=".concat(encodeURIComponent(a),"&avatar=").concat(encodeURIComponent(o),"&project_name=").concat(encodeURIComponent(s),"&content=").concat(encodeURIComponent(u),"&doc_name=").concat(encodeURIComponent(d),"&notify_time=").concat(encodeURIComponent(h)),t=location.host.indexOf("localhost")>=0||location.host.indexOf("0.0.0.0")>=0||location.host.indexOf("127.0.0.1")>=0?"https://dev.".concat(window.lanHost).concat(f):"".concat(location.origin).concat(f),e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(){return a.apply(this,arguments)}),commentCancel:function(){this.$emit("cancelDraw"),this.staticCommentCancel()},submitComment:(o=u()(l.a.mark((function e(t){var n,i,r,o,a,s,c,u,d,h,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.responsiveEnable||this.$parent.dotInfo.comment_id||this.$parent.dotInfo.id){e.next=3;break}return console.error("responsive mode submit comment error"),e.abrupt("return",!1);case 3:if(this.responsiveEnable&&this.$parent.$refs.doc.$refs.axurePage.$refs.axureMapping.dotModeClose(),n=Object(_.m)(this.multiContent),i=this.getProjectId(),console.log("submitComment() this.content: ",this.content),console.log("submitComment() contentText: ",n),r={comment_id:this.responsiveEnable?this.$parent.dotInfo.comment_id:uuid.v4(),project_id:i,p_name:this.project.name,version_id:this.vid,content:n,users_id:this.userIds,content_rich_text:this.multiContent,image_id:this.image_id,position_x:this.responsiveEnable?this.$parent.dotInfo.position_x:this.newMark.position_x,position_y:this.responsiveEnable?this.$parent.dotInfo.position_y:this.newMark.position_y,scale_x:this.responsiveEnable?this.$parent.dotInfo.scale_x:this.newMark.scale_x,scale_y:this.responsiveEnable?this.$parent.dotInfo.scale_y:this.newMark.scale_y,text:this.responsiveEnable?this.$parent.dotInfo.text:this.markText,width:this.responsiveEnable?0:this.newMark.width,height:this.responsiveEnable?0:this.newMark.height,team_id:this.team_id},this.pageId&&(r.page_id=this.pageId),this.responsiveEnable&&(r.dot_id=this.$parent.dotInfo.dot_id,r.dot_x=this.$parent.dotInfo.dot_x,r.dot_y=this.$parent.dotInfo.dot_y,console.log("responsive submit params: ",r)),o=localStorage.getItem("user_id"),a=window.g.remark.getTeamkName()||{},(s=localStorage.getItem("avatar"))&&"undefined"!==s&&"null"!==s||(s=""),c="",u="","product"===this.$route.name?(c=window.axureDoc.currentVersionId,u=window.axureDoc.versionTextStr):(c=window.detailDetach.image.versions[window.detailDetach.versionIndex].id,u=window.detailDetach.image.versions[window.detailDetach.versionIndex].version_info),d={id:r.comment_id,text:r.text,position_x:r.position_x,position_y:r.position_y,width:r.width,height:r.height,read:!1,version:{version_id:c,version_info:u},user:{avatar:s,color:localStorage.getItem("color"),name:a[o],id:o},create_time:parseInt(((new Date).getTime()+288e5)/1e3,10),content:r.content,content_rich_text:r.content_rich_text,replies:[],page_id:r.page_id?r.page_id:null,dot_id:r.dot_id?r.dot_id:null,dot_x:r.dot_x?r.dot_x:null,dot_y:r.dot_y?r.dot_y:null},"product"!==this.$route.name?m.a.$emit("newMark",[d]):m.a.$emit("newMarkFake",[d]),"product"!==this.$route.name){e.next=25;break}return e.next=23,this.getWechatUrl();case 23:h=e.sent,r.wechat_url=h;case 25:return e.next=27,axios.post(baseUrl+"/project/comment",r);case 27:if(200===(f=e.sent).status){e.next=33;break}return this.marks[this.contentIndex].replies.splice(this.marks[this.contentIndex].replies.length-1,1),window.LanhuDialog.toast(this.$i18n("评论失败, 请重新尝试"),3e3),m.a.$emit("newMarkFail",d.id),e.abrupt("return",!1);case 33:!s&&f.data.result[0].user.avatar&&localStorage.setItem("avatar",f.data.result[0].user.avatar),this.responsiveEnable&&this.$emit("responsiveAddMarkDone",f.data.result[0]),m.a.$emit("newMark",f.data.result),this.aliLogStatic(t,this.multiContent),this.staticCommentSubmit(),"product"===this.$route.name?(window.Analyze("tab_prd",{commentsuccess:"打点评论_确定"}),this.addCommentNewSocket({versionId:this.vid,commentId:r.comment_id,isDesign:!1,text:r.text})):(window.Analyze("design_comment",{commentsuccess:"comment_success"}),this.addCommentNewSocket({versionId:this.vid,commentId:r.comment_id,isDesign:!0,text:r.text}));case 39:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)}),aliLogStatic:function(e,t){var n,i=this.$route.name,r=t&&t.includes("</span>");switch(console.log("aliLogStatic() routerName: ",i),i){case"product":n="prdcomment";break;case"detailDetach":n="designcomment";break;default:console.warn("unkown routerName(".concat(i,")"))}switch(e){case y.a:window.Analyze(n,{successaddcomment:"clickcomment"});break;case y.b:window.Analyze(n,{successaddcomment:"hotkey"})}r&&window.Analyze(n,{includingpeople:"newcomment"})},getProjectId:function(){return this.$route.query.pid||this.$route.query.project_id||localStorage.pid},addCommentNewSocket:(r=u()(l.a.mark((function e(t){var n,i,r,o,a,s,c,u,d,h,p,m,g,b,v,x,w,y,_,C,S,$,O,A,E,T,N,L,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.$lris){e.next=2;break}return e.abrupt("return");case 2:if(!(c=Object(f.a)(this.userIds))){e.next=5;break}return e.abrupt("return");case 5:if(u=this.userIds||[],d=Object(I.a)(),u=u.filter((function(e){return e!==d})),!Object(f.a)(u)){e.next=12;break}return console.warn("addNewComment has no toIds"),e.abrupt("return");case 12:h=this.getProjectId(),p=this.userInfo||{},m=p.id||localStorage.user_id,g=p.name||localStorage.name,b=this.isProductPage?(null===(n=window.axureDoc)||void 0===n||null===(i=n.$refs)||void 0===i||null===(r=i.doc)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.name)||(null===(a=this.project)||void 0===a?void 0:a.name):null===(s=this.project)||void 0===s?void 0:s.name,v=this.$g.remark.getRemarkName(m,g,this.$g.remarkVersion),x=this.image,w=null==x?void 0:x.name,y=null==x?void 0:x.id,_=window.location.href,C=Object(M.d)(_),S=t.parentId,$=t.pageId,O=C.docType,A="axure"===O?"axure":"",E=C.image_id,T={teamId:this.team_id,projectId:h,toType:k.j,toIds:u,fromUserId:m,fromUserName:g,fromNickName:v,imageId:this.image_id,designName:w,hasAt:!c},N=t.isDesign?{}:{pageId:$||this.pageId,axureType:A||this.axureType,imageId:E||y||this.image_id,projectName:b,parentId:S},L=Object.assign(N,T,t),j=Object(k.m)(L),console.log("lris comment add msgObj: ",j),window.$lris.send(k.c,j);case 34:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),getMarkText:(i=u()(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"product"!==this.$route.name?this.showNowComment?t="".concat(baseUrl,"/project/comment?vid=").concat(this.vid,"&all=true&page=1&pageSize=1"):(t="".concat(baseUrl,"/project/comment?image_id=").concat(this.image_id,"&all=true&page=1&pageSize=1"),"product"===this.$route.name&&this.$parent.axureSelectPageId&&(t="".concat(baseUrl,"/project/comment?vid=").concat(this.$parent.currentVersionId,"&all=true&page=1&pageSize=1&page_id=").concat(this.$parent.$refs.doc.selectTreeItemId))):(t="".concat(baseUrl,"/project/comment?page=1&pageSize=1&all=true&image_id=").concat(this.$route.query.docId),"axure"===this.$parent.axureDataType&&(t+="&page_id=".concat(this.$parent.axureSelectPageId))),e.next=3,axios(t);case 3:(n=e.sent).data.result.length&&("product"===this.$route.name||this.showNowComment?this.markText=parseInt(n.data.result[0].text,10)+1:this.markText=parseInt(n.data.total,10)+1);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),drawStart:function(t){if("product"===this.$route.name&&this.$parent.responsiveEnable)return!1;console.log("开始绘制"),m.a.$emit("changeType","unread"),this.$emit("hideMarkTip"),this.status=!0,this.drawDone=!1,this.showArea=!1;var n=e(this.$refs.conbox).offset().left,i=e(this.$refs.conbox).offset().top,r=this.$refs.conbox.clientWidth,o=this.$refs.conbox.clientHeight;this.newMark={width:0,height:0,position_x:"product"!==this.$route.name?(t.clientX-n)/r:(t.clientX-n+this.$parent.docScroll.x)/r,position_y:"product"!==this.$route.name?(t.clientY-i)/o:(t.clientY-i+this.$parent.docScroll.y)/o,ex:t.clientX,ey:t.clientY,w:r,h:o,x:n,y:i}},drawMove:function(e){if(!this.status)return!1;var t=this.newMark.ex,n=this.newMark.ey,i=this.newMark.w,r=this.newMark.h,o=this.newMark.x,a=this.newMark.y,s="product"===this.$route.name?(Math.min(e.clientX,t)-o+this.$parent.docScroll.x)/i:(Math.min(e.clientX,t)-o)/i,l="product"===this.$route.name?(Math.min(e.clientY,n)-a+this.$parent.docScroll.y)/r:(Math.min(e.clientY,n)-a)/r,c=Math.abs(t-e.clientX)/i,u=Math.abs(n-e.clientY)/r;this.showArea=!0,this.showNew=!0,this.newMark.width=c,this.newMark.height=u,this.newMark.position_x=s,this.newMark.position_y=l,this.$route.name,this.showArea&&"product"!==this.$route.name&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){window.Analyze("add_comment_drag")}),1e3))},drawEnd:function(e){var t,n,i,r=this;if(this.drawDone)return!1;if("product"===this.$route.name&&this.$parent.responsiveEnable)return!1;window.Analyze("prd_comment",{movecomment:""}),console.log("绘制结束"),this.$route.name,this.status=!1;var o=this.newMark.ex+this.newMark.width*this.newMark.w+390;this.newMark.ey+this.newMark.height*this.newMark.h+217>document.body.clientHeight?(n=this.newMark.position_y+this.newMark.height-194/this.newMark.h,this.arrow.top=188):(n=this.newMark.position_y+this.newMark.height-34/this.newMark.h,this.arrow.top=32),o>document.body.clientWidth?(t=this.newMark.position_x-380/this.newMark.w,i="arrow_right"):(t=this.newMark.position_x+this.newMark.width+30/this.newMark.w,i="arrow_left"),this.showArea?(console.log("drawEnd() add new point in area"),this.isDesignPage&&window.Analyze("designcomment",{commentstyle:"area"})):(this.showNew=!0,t+=12/this.newMark.w,n+=14/this.newMark.h,this.isDesignPage&&window.Analyze("designcomment",{commentstyle:"point"})),this.contentPosition={left:t,top:n},this.arrowClass=i,this.drawDone=!0,this.$nextTick((function(){try{r.$refs.text_newmark.$refs.multiTextField.focus()}catch(e){}if("product"===r.$route.name){var e=document.querySelector(".doc-new-mark")||document.querySelector(".doc-new-mark-area"),t=document.querySelector(".doc-mark-box .comment_text");console.log("markAdd: ",e,t);var n=e.style.left.indexOf("-")>-1?e.style.left.split("-")[0].replace("calc(","").trim():e.style.left,i=e.style.top.indexOf("-")>-1?e.style.top.split("-")[0].replace("calc(","").trim():e.style.top,o=t.style.left.indexOf("-")>-1?t.style.left.split("-")[0].replace("calc(","").trim():t.style.left,a=t.style.top.indexOf("-")>-1?t.style.top.split("-")[0].replace("calc(","").trim():t.style.top;console.log("new mark position: ",i,n,o,a),e.style.left="calc(".concat(n," - ").concat(r.$parent.docScroll.x,"px)"),e.style.top="calc(".concat(i," - ").concat(r.$parent.docScroll.y,"px)"),t.style.left="calc(".concat(o," - ").concat(r.$parent.docScroll.x,"px)"),t.style.top="calc(".concat(a," - ").concat(r.$parent.docScroll.y,"px)"),document.scrollingElement.scrollTo(0,0),document.querySelector(".container").scrollTo(0,0)}}))},end:function(){this.status&&this.drawEnd(),this.change.status&&this.changeMarkend(),this.resize.status&&this.resizeMarkend()}}}}).call(this,n("EVdn"))},uKFF:function(e,t,n){"use strict";var i=n("NApW");n.n(i).a},uU31:function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},v5n6:function(e,t,n){"use strict";t.a={methods:{setMargin:function(e){var t=e.select,n=e.lineSize,i=(e.isWarp,e.useSubLine),r=this.isMarginShow,o=this.numFormatt,a=o(t.x),s=o(t.y),l=o(t.width),c=a+l,u=s+o(t.height),d=o(n.x),h=o(n.y),f=o(n.width),p=o(n.height)+h,m=f+d,g={},b={},v={},x={},w=d>a&&d<c||m>a&&m<c||a>d&&a<m||c>d&&c<m,y=h>s&&h<u||p>s&&p<u||s>h&&s<p||u>h&&u<p,_=d==a&&m==c,k=h==s&&p==u,I=Math.max(d,a)+(Math.min(c,m)-Math.max(d,a))/2,M=Math.max(h,s)+(Math.min(u,p)-Math.max(h,s))/2;if(d==a&&h==s&&p==u&&m==c)return{show:!1,top:b,left:g,right:v,bottom:x};if(i)console.log("use subline");else{if(u<h&&(w||_)){x.height=1*Math.abs(h-u),x.left=1*I,x.top=1*u;var C=r(x,{});x.show=C,C&&(t.line_bottom=!0,n.line_top=!0)}if(m<a&&(y||k)){g.width=1*Math.abs(a-m),g.left=1*m,g.top=1*M;var S=r(g,{});g.show=S,S&&(t.line_left=!0,n.line_right=!0)}if(c<d&&(y||k)){v.width=1*Math.abs(d-c),v.left=1*c,v.top=1*M;var $=r(v,{});v.show=$,$&&(t.line_right=!0,n.line_left=!0)}if(p<s&&(w||_)){b.top=1*p,b.left=1*I,b.height=1*Math.abs(s-p);var O=r(b,{});b.show=O,O&&(t.line_top=!0,n.line_bottom=!0)}if(s>h&&u<p&&a>=d&&c<=m){b.top=1*Math.min(h,s),b.left=1*(a+l/2),b.height=1*Math.abs(h-s);var A=r(b,{isWrap:!0});b.show=A,A&&(t.line_top=!0),x.top=1*Math.min(p,u),x.left=1*(a+l/2),x.height=1*Math.abs(p-u);var E=r(x,{isWrap:!0});x.show=E,E&&(t.line_bottom=!0)}if(s<h&&u>p&&a<=d&&c>=m){b.top=1*Math.min(h,s),b.left=1*(d+f/2),b.height=1*Math.abs(h-s);var T=r(b,{isWrap:!0});b.show=T,T&&(n.line_top=!0),x.top=1*Math.min(p,u),x.left=1*(d+f/2),x.height=1*Math.abs(p-u);var N=r(x,{isWrap:!0});x.show=N,N&&(n.line_bottom=!0)}if(a>d&&c<m&&s>=h&&u<=p){g.top=1*M,g.left=1*Math.min(a,d),g.width=1*Math.abs(a-d);var L=r(g,{isWrap:!0});g.show=L,L&&(t.line_left=!0),v.top=1*M,v.left=1*Math.min(c,m),v.width=1*Math.abs(c-m);var j=r(v,{isWrap:!0});v.show=j,j&&(t.line_right=!0)}if(a<d&&c>m&&s<=h&&u>=p){g.top=1*M,g.left=1*Math.min(a,d),g.width=1*Math.abs(a-d);var P=r(g,{isWrap:!0});g.show=P,P&&(n.line_left=!0),v.top=1*M,v.left=1*Math.min(c,m),v.width=1*Math.abs(c-m);var D=r(v,{isWrap:!0});v.show=D,D&&(n.line_right=!0)}if(m>a&&m<c&&d===a&&y){v.top=1*M,v.left=1*Math.min(c,m),v.width=1*Math.abs(c-m);var z=r(v,{isWrap:!0});v.show=z,z&&(n.line_right=!0),n.line_left=!0}if(c>d&&c<m&&d===a&&y){v.top=1*M,v.left=1*Math.min(c,m),v.width=1*Math.abs(c-m);var F=r(v,{isWrap:!0});v.show=F,F&&(t.line_right=!0),t.line_left=!0}if(d>a&&d<c&&m===c&&y){g.top=1*M,g.left=1*Math.min(a,d),g.width=1*Math.abs(a-d);var R=r(g,{isWrap:!0});g.show=R,R&&(n.line_left=!0),n.line_right=!0}if(a>d&&a<m&&m===c&&y){g.top=1*M,g.left=1*Math.min(a,d),g.width=1*Math.abs(a-d);var U=r(g,{isWrap:!0});g.show=U,U&&(t.line_left=!0),t.line_right=!0}if(u>h&&u<p&&s===h&&w){x.top=1*Math.min(p,u),x.left=1*I,x.height=1*Math.abs(p-u);var V=r(x,{isWrap:!0});x.show=V,V&&(t.line_bottom=!0),t.line_top=!0}if(p>s&&p<u&&s===h&&w){x.top=1*Math.min(p,u),x.left=1*I,x.height=1*Math.abs(p-u);var H=r(x,{isWrap:!0});x.show=H,H&&(n.line_bottom=!0),n.line_top=!0}if(s>h&&s<p&&u===p&&w){b.top=1*Math.min(h,s),b.left=1*I,b.height=1*Math.abs(h-s);var W=r(b,{isWrap:!0});b.show=W,W&&(t.line_top=!0),t.line_bottom=!0}if(h>s&&h<u&&u===p&&w){b.top=1*Math.min(h,s),b.left=1*I,b.height=1*Math.abs(h-s);var q=r(b,{isWrap:!0});b.show=q,q&&(n.line_top=!0),n.line_bottom=!0}}return{top:b,left:g,bottom:x,right:v,show:!0}},isMarginShow:function(e,t){var n=t.isWrap,i=Math.round,r=i(e.top),o=i(e.left),a=i(e.height),s=i(e.width),l=i(a?r+a:r+1),c=i(s?o+s:o+1);return!this.handleLine.some((function(e){var t=i(e.top),a=i(e.left),s=i(e.width),u=i(e.height),d=i(a+s),h=i(t+u);return!(!n||!(o<=a&&c>=d||r<=t&&l>=h))||(r>t&&l<h&&c>a&&c<d&&o<a||r>t&&l<h&&o>a&&o<d&&c>d||r>=t&&l<=h&&o<=a&&c>=d||o>a&&c<d&&l>t&&l<h&&r<t||o>a&&c<d&&r>t&&r<h&&l>h||o>=a&&c<=d&&r<=t&&l>=h)}))}}}},vEsW:function(e,t,n){"use strict";var i=n("lfOC");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},vFlG:function(e,t,n){"use strict";var i=n("MrDu"),r=n("Ni7C");t.a=function(e,t){return null!=e&&Object(r.a)(e,t,i.a)}},vMIN:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i={0:"linear",1:"radial",2:"angular",3:"diamond"},r={shapeLayer:"shape",groupLayer:"layer-group",textLayer:"text",bitmapLayer:"bitmap",symbolMaster:"symbol-master",symbolInstence:"symbol"},o={inside:"内边框",center:"中心边框",outside:"外边框"},a={top:0,center:1,bottom:2};function s(e){var t={pluginVersion:"2.3.9",sliceScale:e.meta.sliceScale,ArtboardScale:1,sketchVersion:{},pageName:"Figma",skVersion:71,ArtboardID:"C4A34111-094E-44EA-B674-DFDEC5C0229B",flowData:[],skBuild:0,flow:!1,info:[],plVersion:"2.3.9",device:e.meta.device,type:"sketchPlugin"},n=e.artboard,o={height:n.frame.height,position_y:n.frame.top,width:n.frame.width,position_x:n.frame.left,left:0,top:0,name:n.name};if(n.style&&n.style.isEnabled&&n.style.fills){var s=n.style.fills.filter((function(e){return"color"===e.type||"gradient"}));if(s&&s.length>0){var f=s[0];if("color"===f.type)o.fills=[{color:l(f.color),type:"color"}];else if("gradient"===f.type){var p=i[f.gradient.type],m=[];f.gradient.stops.forEach((function(e){m.push({position:e.position,color:l(e.color)})})),o.fills=[{type:"gradient",gradient:{type:p,from:f.gradient.from,to:f.gradient.to,colorStops:m}}]}}var g=n.style.borders;if(g&&g.length>0){var b=g[0];o.borders=[];var v=h(b);v&&o.borders.push(v)}}return t.info.push(o),n.layers&&n.layers.length>0&&n.layers.forEach((function(e){!function e(t,n){n.layers&&n.layers.length>0&&n.layers.forEach((function(n){e(t,n)}));var o={left:n.frame.left,isAutolayout:!1,width:n.frame.width,influenceLeft:n.frame.left,type:r[n.type],influenceWidth:n.frame.width,opacity:100*n.opacity,height:n.frame.height,influenceHeight:n.frame.height,exportable:n.hasExportImage,influenceTop:n.frame.top,name:n.name,top:n.frame.top};n.hasExportImage&&(o.image={isNew:!0,imageUrl:n.image.imageUrl,svgUrl:n.image.svgUrl});if(n.style){var s=n.style;s.fills&&(o.fills=[],s.fills.forEach((function(e){if("color"===e.type&&o.fills.push({type:"color",color:l(e.color)}),"gradient"===e.type){var t=i[e.gradient.type],n=[];e.gradient.stops.forEach((function(e){n.push({position:e.position,color:l(e.color)})})),o.fills.push({type:"gradient",gradient:{type:t,from:e.gradient.from,to:e.gradient.to,colorStops:n}})}})),0===o.fills.length&&delete o.fills),s.borders&&(o.borders=[],n.style.borders.forEach((function(e){var t=h(e);t&&o.borders.push(t)})),0===o.borders.length&&delete o.borders),s.shadows&&(o.shadow=[],n.style.shadows.forEach((function(e){e.isEnabled&&o.shadow.push({type:e.inset?"内阴影":"外阴影",color:l(e.color),blurRadius:e.blur,offsetX:e.x,offsetY:e.y,spread:e.spread})})),0===o.shadow.length&&delete o.shadow)}if(n.text){var f=null,p=n.text.style.font;n.text.style.gradient&&(f=c(n.text.style)),o.font={color:f||l(n.text.style.color),content:n.text.value,verticalAlignment:a[p.verticalAlignment],displayName:p.postScriptName,styles:[],size:p.size,spacing:u(p.letterSpacing,p.size),spacingPercent:d(p.letterSpacing),spacingUnit:p.letterSpacing.unit,align:p.align,line:u(p.lineHeight,p.size),lineUnit:p.lineHeight.unit,font:p.postScriptName},n.text.styles&&n.text.styles.length>0&&n.text.styles.forEach((function(e){o.font.styles.push(function(e){var t=null;e.gradient&&(t=c(e));return{align:e.font.align,line:u(e.font.lineHeight,e.font.size),lineUnit:e.font.lineHeight.unit,font:e.font.postScriptName,underline:e.font.underline,paragraphSpacing:e.font.lineSpacing,length:e.length,size:e.font.size,transform:null,location:e.from,color:t||l(e.color),spacing:u(e.font.letterSpacing,e.font.size),spacingPercent:d(e.font.letterSpacing),spacingUnit:e.font.letterSpacing.unit,strikethrough:e.font.linethrough?1:0,displayName:e.font.postScriptName,content:e.content}}(e))}))}t.info.push(o)}(t,e)})),t}function l(e){return e?{r:255*e.r,g:255*e.g,b:255*e.b,a:e.a,value:e.value}:{r:0,g:0,b:0,a:0,value:"rgba(0, 0, 0, 0)"}}function c(e){var t=i[e.gradient.type],n=[];return e.gradient.stops.forEach((function(e){n.push({position:e.position,color:l(e.color)})})),[{type:"gradient",gradient:{type:t,from:e.gradient.from,to:e.gradient.to,colorStops:n}}]}function u(e,t){return"PERCENT"===(null==e?void 0:e.unit.toUpperCase())?e.value*t/100:"AUTO"===(null==e?void 0:e.unit.toUpperCase())?1.171875*t:e.value}function d(e){return"PERCENT"===(null==e?void 0:e.unit.toUpperCase())?2===String(e.value).split(".").length?e.value.toFixed(2)+"%":e.value+"%":null}function h(e){if(!e.isEnabled)return null;if(e.color)return{thickness:e.width,type:"color",position:o[e.lineAlignment],color:l(e.color)};if(e.gradient){var t=i[e.gradient.type],n=[];return e.gradient.stops.forEach((function(e){n.push({position:e.position,color:l(e.color)})})),{thickness:e.width,type:"gradient",position:o[e.lineAlignment],gradient:{type:t,from:e.gradient.from,to:e.gradient.to,colorStops:n}}}}},vqyQ:function(e,t,n){var i=n("a2Z4");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("14f4a966",i,!1,{})},wos3:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'.copy-tips {\n  font-size: 12px;\n  height: 30px;\n  line-height: 30px;\n  padding: 0 10px;\n  position: fixed;\n  left: 0;\n  top: 0;\n  background: #fff;\n  border-radius: 5px;\n  z-index: 3001;\n  -webkit-filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.3));\n          filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.3));\n  color: #222222;\n  /*&::before {*/\n}\n.copy-tips .triangle-box {\n  display: block;\n  /*content: "";*/\n  width: 0;\n  height: 0;\n  border: 5px solid transparent;\n  border-top-color: #fff;\n  position: absolute;\n  left: 28px;\n  top: 30px;\n}\n.copy-tips.bottom .triangle-box {\n  top: -10px;\n  border-top-color: transparent;\n  border-bottom-color: #fff;\n}',""])},wulF:function(e,t,n){var i=n("JdTi")((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));e.exports=i},"x6+t":function(e,t){e.exports=function(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}},xWuZ:function(e,t,n){"use strict";var i=n("uT1x");t.a=function(e){return(null==e?0:e.length)?Object(i.a)(e,1):[]}},yYna:function(e,t,n){var i=n("TifY");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("b688d6cc",i,!1,{})},yuKC:function(e,t,n){"use strict";var i=n("ogFx");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},zILn:function(e,t,n){"use strict";var i=n("UD3E");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},zSxR:function(e,t,n){"use strict";var i=n("yuKC"),r=n("lvXu"),o=(n("Ckfz"),n("KHd+")),a=Object(o.a)(r.a,i.a,i.b,!1,null,"357470e3",null);a.options.__file="src/view/detailDetach/quickSwitch/tip.vue",t.a=a.exports},zaIU:function(e,t,n){"use strict";var i=n("9VvA");t.a=i.a},zqxz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"detail_box",on:{mouseup:function(t){return e.boxUp(t)},mousemove:function(t){return e.boxMove(t)},mouseleave:function(t){return t.target!==t.currentTarget?null:e.end(t)},mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.boxDown(t)},mousewheel:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("wheel",t)}}},[e.dataReady||"product"===e.$route.name?[e.version.json_url&&e.showlayer?n("layer-box",{ref:"layerbox",attrs:{keyState:e.keyState,imagebox:e.imagebox,jsonurl:e.version.json_url},on:{closeOpen:function(t){return e.$emit("closeOpen")}}}):e._e(),e._v(" "),e.getShow?e._l(e.marks,(function(t,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:"detailDetach"===e.$route.name||"product"===e.$route.name&&(t.page_id&&t.page_id===e.$parent.$refs.doc.selectTreeItemId||!t.page_id),expression:"\n          $route.name === 'detailDetach' ||\n            ($route.name === 'product' &&\n              ((i.page_id && i.page_id === $parent.$refs.doc.selectTreeItemId) || !i.page_id))\n        "}],key:t.id,ref:"marklist",refInFor:!0,class:e.markClass(t),style:e.domStyle(t),attrs:{id:"mark"+t.id},on:{click:function(t){return t.stopPropagation(),e.contentShow(i,!0)},mousedown:function(t){return t.stopPropagation(),e.markDown(t,i)}}},[e.isEditContent&&e.contentIndex===i?[n("span",{staticClass:"mark_tl",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.marks[i],"leftup")}}}),e._v(" "),n("span",{staticClass:"mark_tc",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.marks[i],"up")}}}),e._v(" "),n("span",{staticClass:"mark_tr",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.marks[i],"rightup")}}}),e._v(" "),n("span",{staticClass:"mark_cl",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.marks[i],"left")}}}),e._v(" "),n("span",{staticClass:"mark_cr",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.marks[i],"right")}}}),e._v(" "),n("span",{staticClass:"mark_bl",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.marks[i],"leftdown")}}}),e._v(" "),n("span",{staticClass:"mark_bc",on:{mousedown:function(t){return t.stopPropagation(),e.resizeMarkstart(t,e.marks[i],"down")}}})]:e._e(),e._v(" "),t.width?n("div",{staticClass:"mark_br",staticStyle:{"user-select":"none"}},[e._v(e._s(t.text))]):[e._v("\n          "+e._s(t.text)+"\n        ")]],2)})):e._e(),e._v(" "),e.showContent?n("div",{ref:"contentbox",staticClass:"content_box",style:{left:100*e.contentPosition.left+"%",top:100*e.contentPosition.top+"%","z-index":2},on:{mousewheel:function(e){e.stopPropagation()},mousedown:function(t){return t.stopPropagation(),e.contentDown(t)},keydown:function(t){return t.stopPropagation(),e.inputEvent(t)}}},[n("div",{class:["arrow",e.arrowClass],style:{top:e.arrowTop+"px"}}),e._v(" "),n("div",{staticClass:"con_top"},[e.marks[e.contentIndex].read?n("mu-checkbox",{attrs:{label:"已读",labelClass:"lable-color",iconClass:"lable-color",value:!0,disabled:""}}):n("mu-checkbox",{attrs:{label:e.$i18n("标为已读"),labelClass:"lable-color",iconClass:"lable-color"},on:{change:e.signRead},model:{value:e.marks[e.contentIndex].read,callback:function(t){e.$set(e.marks[e.contentIndex],"read",t)},expression:"marks[contentIndex].read"}}),e._v(" "),n("mu-badge",{directives:[{name:"show",rawName:"v-show",value:"product"!==e.$route.name,expression:"$route.name !== 'product'"}],attrs:{slot:"right",content:e.versionText(e.marks[e.contentIndex].version.version_info),primary:""},slot:"right"}),e._v(" "),n("mu-badge",{directives:[{name:"show",rawName:"v-show",value:"product"===e.$route.name&&e.marks[e.contentIndex].version.version_id===e.$parent.currentVersionId,expression:"$route.name === 'product' && marks[contentIndex].version.version_id === $parent.currentVersionId"}],attrs:{slot:"right",content:e.versionText(e.marks[e.contentIndex].version.version_info),primary:""},slot:"right"}),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:"product"===e.$route.name&&e.marks[e.contentIndex].version.version_id!==e.$parent.currentVersionId,expression:"$route.name === 'product' && marks[contentIndex].version.version_id !== $parent.currentVersionId"}],staticClass:"version-tip",on:{click:e.changeVersionFromComment}},[e._v("\n          "+e._s(e.$i18n("此评论创建于"))+" - "+e._s(e.versionText(e.marks[e.contentIndex].version.version_info))+"\n        ")])],1),e._v(" "),n("div",{ref:"content_item",staticClass:"content_item"},[n("ul",[n("li",[n("div",{staticClass:"li_top"},[e.marks[e.contentIndex].user.avatar?n("div",{staticClass:"avatar"},[n("img",{attrs:{src:e.marks[e.contentIndex].user.avatar}})]):n("div",{staticClass:"avatar_color",style:{background:e.color[e.marks[e.contentIndex].user.color]}},[e._v("\n                "+e._s(e._f("getAvatarName")(e.marks[e.contentIndex].user.name))+"\n              ")]),e._v(" "),n("div",{staticClass:"user_name"},[e._v("\n                "+e._s(e.$g.remark.getRemarkName(e.marks[e.contentIndex].user.id,e.marks[e.contentIndex].user.name,e.$g.remarkVersion))+"\n              ")]),e._v(" "),n("div",{staticClass:"time"},[e._v("· "+e._s(e._f("setTime")(e.marks[e.contentIndex].create_time)))]),e._v(" "),e.showEditContent(e.marks[e.contentIndex].user.id)?n("mu-icon-menu",{staticClass:"top_menu",attrs:{icon:"more_vert",anchorOrigin:e.rightTop,targetOrigin:e.rightTop,autoWidth:"false"}},[n("mu-menu-item",{staticClass:"comment_editor",attrs:{title:"product"===e.$route.name?e.$i18n("编辑评论"):e.$i18n("编辑批注"),leftIcon:"edit",autoWidth:"false"},on:{click:function(t){return e.editContent()}}}),e._v(" "),n("mu-menu-item",{staticClass:"comment_editor",attrs:{title:e.$i18n("删除"),leftIcon:"delete",autoWidth:"false"},on:{click:function(t){return e.deleteComment(e.marks[e.contentIndex].id)}}})],1):e._e()],1),e._v(" "),e.isEditContent?n("div",{on:{keydown:function(t){return(t.type.indexOf("key")||13===t.keyCode)&&t.metaKey?e.submitEditMark(e.marks[e.contentIndex]):null}}},[n("multi-text-field",{ref:"text_field",attrs:{"init-value":e.marks[e.contentIndex].content_rich_text||e.marks[e.contentIndex].content,inputClass:"font14",hintTextClass:"font14",hintText:e.$i18n("批注内容，支持@团队成员"),rows:5,atIndex:e.latestAtIndex,removeNode:e.removeNode,addNode:e.addNode,userIds:e.userIds,content:e.content},on:{"update:removeNode":function(t){e.removeNode=t},"update:remove-node":function(t){e.removeNode=t},"update:addNode":function(t){e.addNode=t},"update:add-node":function(t){e.addNode=t},"update:userIds":function(t){e.userIds=t},"update:user-ids":function(t){e.userIds=t},"update:content":function(t){e.content=t}},model:{value:e.multiContent,callback:function(t){e.multiContent=t},expression:"multiContent"}}),e._v(" "),n("div",{staticClass:"btn_box"},[n("mu-flat-button",{attrs:{label:e.$i18n("取消")},on:{click:e.cancelEditFirst}}),e._v(" "),n("mu-raised-button",{attrs:{primary:"",label:e.$i18n("确认")},on:{click:function(t){return t.stopPropagation(),e.submitEditMark(e.marks[e.contentIndex])}}})],1)],1):n("div",{class:{li_content:!0,no_content:!e.marks[e.contentIndex].content},domProps:{innerHTML:e._s(e.marks[e.contentIndex].contentGetUrl||e.$i18n("无内容"))}})]),e._v(" "),e._l(e.reverseReply,(function(t,i){return n("li",{key:t.id},[n("div",{staticClass:"li_top"},[t.user.avatar?n("div",{staticClass:"avatar"},[n("img",{attrs:{src:t.user.avatar}})]):n("div",{staticClass:"avatar_color",style:{background:e.color[t.user.color]}},[e._v("\n                "+e._s(e._f("getAvatarName")(t.user.name))+"\n              ")]),e._v(" "),n("div",{staticClass:"user_name"},[e._v(e._s(e.$g.remark.getRemarkName(t.user.id,t.user.name,e.$g.remarkVersion)))]),e._v(" "),n("div",{staticClass:"time"},[e._v("· "+e._s(e._f("setTime")(t.create_time)))]),e._v(" "),e.showEditContent(t.user.id)?n("mu-icon-menu",{staticClass:"top_menu",attrs:{anchorOrigin:e.rightTop,targetOrigin:e.rightTop,icon:"more_vert"}},[n("mu-menu-item",{attrs:{leftIcon:"edit",title:e.$i18n("编辑回复")},on:{click:function(n){return e.editComment(t.id)}}}),e._v(" "),n("mu-menu-item",{attrs:{leftIcon:"delete",title:e.$i18n("删除")},on:{click:function(n){return e.deleteComment(t.id,i)}}})],1):e._e()],1),e._v(" "),e.replyIndex===t.id?n("div",{staticClass:"li_reply",on:{keydown:function(n){return(n.type.indexOf("key")||13===n.keyCode)&&n.metaKey?e.submitEdit(t.id,t.content,t):null}}},[n("multi-text-field",{ref:"reply_text_field",refInFor:!0,attrs:{"init-value":t.content_rich_text||t.content,inputClass:"font14",hintTextClass:"font14",hintText:e.$i18n("回复内容，支持@团队成员"),rows:5,atIndex:e.latestAtIndex,removeNode:e.removeNode,addNode:e.addNode,userIds:e.userIds,content:e.content},on:{"update:removeNode":function(t){e.removeNode=t},"update:remove-node":function(t){e.removeNode=t},"update:addNode":function(t){e.addNode=t},"update:add-node":function(t){e.addNode=t},"update:userIds":function(t){e.userIds=t},"update:user-ids":function(t){e.userIds=t},"update:content":function(t){e.content=t}},model:{value:e.multiContent,callback:function(t){e.multiContent=t},expression:"multiContent"}}),e._v(" "),n("div",{staticClass:"btn_box"},[n("mu-flat-button",{attrs:{label:e.$i18n("取消")},on:{click:e.cancelEdit}}),e._v(" "),n("mu-raised-button",{attrs:{primary:"",label:e.$i18n("确认")},on:{click:function(n){return n.stopPropagation(),e.submitEdit(t.id,t.content,t)}}})],1)],1):n("div",{class:{li_content:!0,no_content:!t.content},domProps:{innerHTML:e._s(t.contentGetUrl||e.$i18n("无内容"))}})])}))],2),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.contentReply&&!e.isEditContent&&""===e.replyIndex,expression:"!contentReply && !isEditContent && replyIndex === ''"}],staticClass:"con_btn"},[n("mu-flat-button",{attrs:{label:e.$i18n("回复"),default:""},on:{click:function(t){return t.stopPropagation(),e.showReplyText(t)}}})],1),e._v(" "),e.contentReply?n("div",{staticClass:"con_edit",on:{keydown:function(t){return(t.type.indexOf("key")||13===t.keyCode)&&t.metaKey?(t.stopPropagation(),e.submitReply(t)):null}}},[n("multi-text-field",{ref:"reply_textarea",attrs:{inputClass:"font14",hintTextClass:"font14",hintText:e.$i18n("回复内容，支持@团队成员"),rows:5,atIndex:e.latestAtIndex,removeNode:e.removeNode,addNode:e.addNode,userIds:e.userIds,content:e.content},on:{"update:removeNode":function(t){e.removeNode=t},"update:remove-node":function(t){e.removeNode=t},"update:addNode":function(t){e.addNode=t},"update:add-node":function(t){e.addNode=t},"update:userIds":function(t){e.userIds=t},"update:user-ids":function(t){e.userIds=t},"update:content":function(t){e.content=t}},model:{value:e.multiContent,callback:function(t){e.multiContent=t},expression:"multiContent"}}),e._v(" "),n("div",{staticClass:"btn_box"},[n("mu-flat-button",{attrs:{label:e.$i18n("取消")},on:{click:e.cancelReply}}),e._v(" "),n("mu-raised-button",{attrs:{primary:"",label:e.$i18n("确认")},on:{click:function(t){return t.stopPropagation(),e.submitReply(t)}}})],1)],1):e._e()])]):e._e(),e._v(" "),n("mu-popup",{attrs:{position:"top",overlay:!1,open:e.topPopup,popupClass:"popup-top"}},[e._v(" "+e._s(e.poptip)+" ")]),e._v(" "),e.showMemberList?n("member",{attrs:{show:e.showMemberList,even:e.memberEvent,afterAt:e.afterAt,atIdx:e.atIndex,isFocusAt:e.isFocusAt},on:{"update:show":function(t){e.showMemberList=t},close:function(t){e.showMemberList=!1},confirm:e.memberConfirm}}):e._e()]:e._e()],2)},r=[];i._withStripped=!0}}]);